(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[2910],{32762:(e,t,n)=>{"use strict";n.r(t);n.d(t,{Clipboard:()=>i,Collapse:()=>d,CommandLinker:()=>u,CommandToolbarButton:()=>Ce,CommandToolbarButtonComponent:()=>fe,DOMUtils:()=>B,Dialog:()=>A,HoverBox:()=>$,ICommandPalette:()=>p,IFrame:()=>L,ISanitizer:()=>je,ISessionContextDialogs:()=>Le,ISplashScreen:()=>Ie,IThemeManager:()=>Me,IWindowResolver:()=>We,InputDialog:()=>K,MainAreaWidget:()=>Ee,MenuFactory:()=>Pe,ModalCommandPalette:()=>g,Printing:()=>X,ReactWidget:()=>w,ReactiveToolbar:()=>pe,Sanitizer:()=>Se,SessionContext:()=>te,Spinner:()=>Z,Styling:()=>C,ThemeManager:()=>xe,Toolbar:()=>ue,ToolbarButton:()=>me,ToolbarButtonComponent:()=>_e,UseSignal:()=>T,VDomModel:()=>P,VDomRenderer:()=>E,WidgetTracker:()=>k,WindowResolver:()=>Ke,addCommandToolbarButtonClass:()=>be,addToolbarButtonClass:()=>ge,defaultSanitizer:()=>Ae,sessionContextDialogs:()=>ne,showDialog:()=>R,showErrorMessage:()=>S});var s=n(9727);var i;(function(e){function t(){return o.instance}e.getInstance=t;function n(e){o.instance=e}e.setInstance=n;function s(e){const t=document.body;const n=s=>{const i=s.clipboardData||window.clipboardData;if(typeof e==="string"){i.setData("text",e)}else{e.types().map((t=>{i.setData(t,e.getData(t))}))}s.preventDefault();t.removeEventListener("copy",n)};t.addEventListener("copy",n);i(t)}e.copyToSystem=s;function i(e,t="copy"){let n=window.getSelection();const s=[];for(let o=0,r=(n===null||n===void 0?void 0:n.rangeCount)||0;o<r;++o){s[o]=n.getRangeAt(o).cloneRange()}const i=document.createRange();i.selectNodeContents(e);if(n){n.removeAllRanges();n.addRange(i)}document.execCommand(t);n=window.getSelection();if(n){n.removeAllRanges();for(let e=0,t=s.length;e<t;++e){n.addRange(s[e])}}}e.generateEvent=i})(i||(i={}));var o;(function(e){e.instance=new s.MimeData})(o||(o={}));var r=n(92481);var a=n(75138);var l=n(61389);class d extends l.Widget{constructor(e){super(e);this._collapseChanged=new a.Signal(this);const{widget:t,collapsed:n=true}=e;this.addClass("jp-Collapse");this._header=new l.Widget;this._header.addClass("jp-Collapse-header");this._content=new l.Panel;this._content.addClass("jp-Collapse-contents");const s=new l.PanelLayout;this.layout=s;s.addWidget(this._header);s.addWidget(this._content);this.widget=t;this.collapsed=n}get widget(){return this._widget}set widget(e){const t=this._widget;if(t){t.title.changed.disconnect(this._onTitleChanged,this);t.parent=null}this._widget=e;e.title.changed.connect(this._onTitleChanged,this);this._onTitleChanged(e.title);this._content.addWidget(e)}get collapsed(){return this._collapsed}set collapsed(e){if(e===this._collapsed){return}if(e){this._collapse()}else{this._uncollapse()}}get collapseChanged(){return this._collapseChanged}toggle(){this.collapsed=!this.collapsed}dispose(){if(this.isDisposed){return}this._header=null;this._widget=null;this._content=null;super.dispose()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;default:break}}onAfterAttach(e){this._header.node.addEventListener("click",this)}onBeforeDetach(e){this._header.node.removeEventListener("click",this)}_collapse(){this._collapsed=true;if(this._content){this._content.hide()}this._setHeader();this._collapseChanged.emit(void 0)}_uncollapse(){this._collapsed=false;if(this._content){this._content.show()}this._setHeader();this._collapseChanged.emit(void 0)}_evtClick(e){this.toggle()}_onTitleChanged(e){this._setHeader()}_setHeader(){(this._collapsed?r.caretUpIcon:r.caretDownIcon).element({container:this._header.node,label:this._widget.title.label,elementPosition:"right",height:"28px"})}}const c="commandlinker-command";const h="commandlinker-args";class u{constructor(e){this._isDisposed=false;this._commands=e.commands;document.body.addEventListener("click",this)}get isDisposed(){return this._isDisposed}dispose(){if(this.isDisposed){return}this._isDisposed=true;document.body.removeEventListener("click",this)}connectNode(e,t,n){e.setAttribute(`data-${c}`,t);if(n!==void 0){e.setAttribute(`data-${h}`,JSON.stringify(n))}return e}disconnectNode(e){e.removeAttribute(`data-${c}`);e.removeAttribute(`data-${h}`);return e}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;default:return}}populateVNodeDataset(e,t){let n;if(t!==void 0){n={[h]:JSON.stringify(t),[c]:e}}else{n={[c]:e}}return n}_evtClick(e){let t=e.target;while(t&&t.parentElement){if(t.hasAttribute(`data-${c}`)){e.preventDefault();const n=t.getAttribute(`data-${c}`);if(!n){return}const i=t.getAttribute(`data-${h}`);let o=s.JSONExt.emptyObject;if(i){o=JSON.parse(i)}void this._commands.execute(n,o);return}t=t.parentElement}}}const p=new s.Token("@jupyterlab/apputils:ICommandPalette");const _="jp-SearchIconGroup";class g extends l.Panel{constructor(e){super();this.addClass("jp-ModalCommandPalette");this.id="modal-command-palette";this.palette=e.commandPalette;this._commandPalette.commands.commandExecuted.connect((()=>{if(this.isAttached&&this.isVisible){this.hideAndReset()}}));this.node.tabIndex=0}get palette(){return this._commandPalette}set palette(e){this._commandPalette=e;if(!this.searchIconGroup){this._commandPalette.inputNode.insertAdjacentElement("afterend",this.createSearchIconGroup())}this.addWidget(e);this.hideAndReset()}attach(){l.Widget.attach(this,document.body)}detach(){l.Widget.detach(this)}hideAndReset(){this.hide();this._commandPalette.inputNode.value="";this._commandPalette.refresh()}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"blur":{if(this.node.contains(e.target)&&!this.node.contains(e.relatedTarget)){e.stopPropagation();this.hideAndReset()}break}case"contextmenu":e.preventDefault();e.stopPropagation();break;default:break}}get searchIconGroup(){return this._commandPalette.node.getElementsByClassName(_)[0]}createSearchIconGroup(){const e=document.createElement("div");e.classList.add(_);r.searchIcon.render(e);return e}onAfterAttach(e){this.node.addEventListener("keydown",this,true);this.node.addEventListener("contextmenu",this,true)}onAfterDetach(e){this.node.removeEventListener("keydown",this,true);this.node.removeEventListener("contextmenu",this,true)}onBeforeHide(e){document.removeEventListener("blur",this,true)}onAfterShow(e){document.addEventListener("blur",this,true)}onActivateRequest(e){if(this.isAttached){this.show();this._commandPalette.activate()}}_evtKeydown(e){switch(e.keyCode){case 27:e.stopPropagation();e.preventDefault();this.hideAndReset();break;default:break}}}var m=n(62867);var f=n(32151);var b=n(2411);var C;(function(e){function t(e,t=""){n(e,"select",t);n(e,"textarea",t);n(e,"input",t);n(e,"button",t)}e.styleNode=t;function n(e,t,n=""){if(e.localName===t){e.classList.add("jp-mod-styled")}if(e.localName==="select"){s(e)}const i=e.getElementsByTagName(t);for(let o=0;o<i.length;o++){const e=i[o];e.classList.add("jp-mod-styled");if(n){e.classList.add(n)}if(t==="select"){s(e)}}}e.styleNodeByTag=n;function s(e){const t=document.createElement("div");t.classList.add("jp-select-wrapper");e.addEventListener("focus",v.onFocus);e.addEventListener("blur",v.onFocus);e.classList.add("jp-mod-styled");if(e.parentElement){e.parentElement.replaceChild(t,e)}t.appendChild(e);t.appendChild(r.caretDownEmptyIcon.element({tag:"span",stylesheet:"select",right:"8px",top:"5px",width:"18px"}));return t}e.wrapSelect=s})(C||(C={}));var v;(function(e){function t(e){const t=e.target;const n=t.parentElement;if(!n){return}if(e.type==="focus"){n.classList.add("jp-mod-focused")}else{n.classList.remove("jp-mod-focused")}}e.onFocus=t})(v||(v={}));var y=n(43006);class w extends l.Widget{static create(e){return new class extends w{render(){return e}}}onUpdateRequest(e){this.renderPromise=this.renderDOM()}onAfterAttach(e){f.MessageLoop.sendMessage(this,l.Widget.Msg.UpdateRequest)}onBeforeDetach(e){y.unmountComponentAtNode(this.node)}renderDOM(){return new Promise((e=>{const t=this.render();if(Array.isArray(t)){y.render(t,this.node,e)}else if(t){y.render(t,this.node,e)}}))}}class E extends w{constructor(e){super();this._modelChanged=new a.Signal(this);this.model=e!==null&&e!==void 0?e:null}get modelChanged(){return this._modelChanged}set model(e){if(this._model===e){return}if(this._model){this._model.stateChanged.disconnect(this.update,this)}this._model=e;if(e){e.stateChanged.connect(this.update,this)}this.update();this._modelChanged.emit(void 0)}get model(){return this._model}dispose(){if(this.isDisposed){return}this._model=null;super.dispose()}}class T extends b.Component{constructor(e){super(e);this.slot=(e,t)=>{if(this.props.shouldUpdate&&!this.props.shouldUpdate(e,t)){return}this.setState({value:[e,t]})};this.state={value:[this.props.initialSender,this.props.initialArgs]}}componentDidMount(){this.props.signal.connect(this.slot)}componentWillUnmount(){this.props.signal.disconnect(this.slot)}render(){return this.props.children(...this.state.value)}}class P{constructor(){this.stateChanged=new a.Signal(this);this._isDisposed=false}get isDisposed(){return this._isDisposed}dispose(){if(this.isDisposed){return}this._isDisposed=true;a.Signal.clearData(this)}}var O=n(53371);class k{constructor(e){this._currentChanged=new a.Signal(this);this._isDisposed=false;this._widgetAdded=new a.Signal(this);this._widgetUpdated=new a.Signal(this);const t=this._focusTracker=new l.FocusTracker;const n=this._pool=new O.RestorablePool(e);this.namespace=e.namespace;t.currentChanged.connect(((e,t)=>{if(t.newValue!==this.currentWidget){n.current=t.newValue}}),this);n.added.connect(((e,t)=>{this._widgetAdded.emit(t)}),this);n.currentChanged.connect(((e,s)=>{if(s===null&&t.currentWidget){n.current=t.currentWidget;return}this.onCurrentChanged(s);this._currentChanged.emit(s)}),this);n.updated.connect(((e,t)=>{this._widgetUpdated.emit(t)}),this)}get currentChanged(){return this._currentChanged}get currentWidget(){return this._pool.current||null}get restored(){return this._pool.restored}get size(){return this._pool.size}get widgetAdded(){return this._widgetAdded}get widgetUpdated(){return this._widgetUpdated}async add(e){this._focusTracker.add(e);await this._pool.add(e);if(!this._focusTracker.activeWidget){this._pool.current=e}}get isDisposed(){return this._isDisposed}dispose(){if(this.isDisposed){return}this._isDisposed=true;this._pool.dispose();this._focusTracker.dispose();a.Signal.clearData(this)}find(e){return this._pool.find(e)}forEach(e){return this._pool.forEach(e)}filter(e){return this._pool.filter(e)}inject(e){return this._pool.inject(e)}has(e){return this._pool.has(e)}async restore(e){return this._pool.restore(e)}async save(e){return this._pool.save(e)}onCurrentChanged(e){}}function R(e={}){const t=new A(e);return t.launch()}function S(e,t,n=[A.okButton({label:"Dismiss"})]){console.warn("Showing error:",t);const s=typeof t==="string"?t:t.message;const i=e+"----"+s;const o=I.errorMessagePromiseCache.get(i);if(o){return o}else{const t=R({title:e,body:s,buttons:n}).then((()=>{I.errorMessagePromiseCache.delete(i)}),(e=>{I.errorMessagePromiseCache.delete(i);throw e}));I.errorMessagePromiseCache.set(i,t);return t}}class A extends l.Widget{constructor(e={}){super();this._focusNodeSelector="";this.addClass("jp-Dialog");const t=I.handleOptions(e);const n=t.renderer;this._host=t.host;this._defaultButton=t.defaultButton;this._buttons=t.buttons;this._hasClose=t.hasClose;this._buttonNodes=(0,m.toArray)((0,m.map)(this._buttons,(e=>n.createButtonNode(e))));this._lastMouseDownInDialog=false;const s=this.layout=new l.PanelLayout;const i=new l.Panel;i.addClass("jp-Dialog-content");if(typeof e.body==="string"){i.addClass("jp-Dialog-content-small")}s.addWidget(i);this._body=t.body;const o=n.createHeader(t.title,(()=>this.reject()),e);const r=n.createBody(t.body);const a=n.createFooter(this._buttonNodes);i.addWidget(o);i.addWidget(r);i.addWidget(a);this._primary=this._buttonNodes[this._defaultButton];this._focusNodeSelector=e.focusNodeSelector;void A.tracker.add(this)}dispose(){const e=this._promise;if(e){this._promise=null;e.reject(void 0);m.ArrayExt.removeFirstOf(I.launchQueue,e.promise)}super.dispose()}launch(){if(this._promise){return this._promise.promise}const e=this._promise=new s.PromiseDelegate;const t=Promise.all(I.launchQueue);I.launchQueue.push(this._promise.promise);return t.then((()=>{if(!this._promise){return Promise.resolve({button:A.cancelButton(),value:null})}l.Widget.attach(this,this._host);return e.promise}))}resolve(e){if(!this._promise){return}if(e===undefined){e=this._defaultButton}this._resolve(this._buttons[e])}reject(){if(!this._promise){return}this._resolve(A.cancelButton())}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"mousedown":this._evtMouseDown(e);break;case"click":this._evtClick(e);break;case"focus":this._evtFocus(e);break;case"contextmenu":e.preventDefault();e.stopPropagation();break;default:break}}onAfterAttach(e){const t=this.node;t.addEventListener("keydown",this,true);t.addEventListener("contextmenu",this,true);t.addEventListener("click",this,true);document.addEventListener("mousedown",this,true);document.addEventListener("focus",this,true);this._first=I.findFirstFocusable(this.node);this._original=document.activeElement;if(this._focusNodeSelector){const e=this.node.querySelector(".jp-Dialog-body");const t=e===null||e===void 0?void 0:e.querySelector(this._focusNodeSelector);if(t){this._primary=t}}this._primary.focus()}onAfterDetach(e){const t=this.node;t.removeEventListener("keydown",this,true);t.removeEventListener("contextmenu",this,true);t.removeEventListener("click",this,true);document.removeEventListener("focus",this,true);document.removeEventListener("mousedown",this,true);this._original.focus()}onCloseRequest(e){if(this._promise){this.reject()}super.onCloseRequest(e)}_evtClick(e){const t=this.node.getElementsByClassName("jp-Dialog-content")[0];if(!t.contains(e.target)){e.stopPropagation();e.preventDefault();if(this._hasClose&&!this._lastMouseDownInDialog){this.reject()}return}for(const n of this._buttonNodes){if(n.contains(e.target)){const e=this._buttonNodes.indexOf(n);this.resolve(e)}}}_evtKeydown(e){switch(e.keyCode){case 27:e.stopPropagation();e.preventDefault();if(this._hasClose){this.reject()}break;case 37:{const t=document.activeElement;if(t instanceof HTMLButtonElement){let n=this._buttonNodes.indexOf(t)-1;if(n<0){n=this._buttonNodes.length-1}const s=this._buttonNodes[n];e.stopPropagation();e.preventDefault();s.focus()}break}case 39:{const t=document.activeElement;if(t instanceof HTMLButtonElement){let n=this._buttonNodes.indexOf(t)+1;if(n==this._buttons.length){n=0}const s=this._buttonNodes[n];e.stopPropagation();e.preventDefault();s.focus()}break}case 9:{const t=this._buttonNodes[this._buttons.length-1];if(document.activeElement===t&&!e.shiftKey){e.stopPropagation();e.preventDefault();this._first.focus()}break}case 13:{e.stopPropagation();e.preventDefault();const t=document.activeElement;let n;if(t instanceof HTMLButtonElement){n=this._buttonNodes.indexOf(t)}this.resolve(n);break}default:break}}_evtFocus(e){const t=e.target;if(!this.node.contains(t)){e.stopPropagation();this._buttonNodes[this._defaultButton].focus()}}_evtMouseDown(e){const t=this.node.getElementsByClassName("jp-Dialog-content")[0];const n=e.target;this._lastMouseDownInDialog=t.contains(n)}_resolve(e){const t=this._promise;if(!t){this.dispose();return}this._promise=null;m.ArrayExt.removeFirstOf(I.launchQueue,t.promise);const n=this._body;let s=null;if(e.accept&&n instanceof l.Widget&&typeof n.getValue==="function"){s=n.getValue()}this.dispose();t.resolve({button:e,value:s})}}(function(e){function t(e){e.accept=e.accept!==false;const t=e.accept?"OK":"Cancel";return{label:e.label||t,iconClass:e.iconClass||"",iconLabel:e.iconLabel||"",caption:e.caption||"",className:e.className||"",accept:e.accept,actions:e.actions||[],displayType:e.displayType||"default"}}e.createButton=t;function n(e={}){e.accept=false;return t(e)}e.cancelButton=n;function s(e={}){e.accept=true;return t(e)}e.okButton=s;function i(e={}){e.displayType="warn";return t(e)}e.warnButton=i;function o(){e.tracker.forEach((e=>{e.dispose()}))}e.flush=o;class a{createHeader(e,t=(()=>{}),n={}){let s;const i=e=>{if(e.button===0){e.preventDefault();t()}};const o=e=>{const{key:n}=e;if(n==="Enter"||n===" "){t()}};if(typeof e==="string"){s=w.create(b.createElement(b.Fragment,null,e,n.hasClose&&b.createElement(r.Button,{className:"jp-Dialog-close-button",onMouseDown:i,onKeyDown:o,title:"Cancel",minimal:true},b.createElement(r.LabIcon.resolveReact,{icon:r.closeIcon,iconClass:"jp-Icon",className:"jp-ToolbarButtonComponent-icon",tag:"span"}))))}else{s=w.create(e)}s.addClass("jp-Dialog-header");C.styleNode(s.node);return s}createBody(e){let t;if(typeof e==="string"){t=new l.Widget({node:document.createElement("span")});t.node.textContent=e}else if(e instanceof l.Widget){t=e}else{t=w.create(e);f.MessageLoop.sendMessage(t,l.Widget.Msg.UpdateRequest)}t.addClass("jp-Dialog-body");C.styleNode(t.node);return t}createFooter(e){const t=new l.Widget;t.addClass("jp-Dialog-footer");(0,m.each)(e,(e=>{t.node.appendChild(e)}));C.styleNode(t.node);return t}createButtonNode(e){const t=document.createElement("button");t.className=this.createItemClass(e);t.appendChild(this.renderIcon(e));t.appendChild(this.renderLabel(e));return t}createItemClass(e){let t="jp-Dialog-button";if(e.accept){t+=" jp-mod-accept"}else{t+=" jp-mod-reject"}if(e.displayType==="warn"){t+=" jp-mod-warn"}const n=e.className;if(n){t+=` ${n}`}return t}renderIcon(e){const t=document.createElement("div");t.className=this.createIconClass(e);t.appendChild(document.createTextNode(e.iconLabel));return t}createIconClass(e){const t="jp-Dialog-buttonIcon";const n=e.iconClass;return n?`${t} ${n}`:t}renderLabel(e){const t=document.createElement("div");t.className="jp-Dialog-buttonLabel";t.title=e.caption;t.appendChild(document.createTextNode(e.label));return t}}e.Renderer=a;e.defaultRenderer=new a;e.tracker=new k({namespace:"@jupyterlab/apputils:Dialog"})})(A||(A={}));var I;(function(e){e.launchQueue=[];e.errorMessagePromiseCache=new Map;function t(e={}){var t,n,s,i,o,r,a,l;const d=(t=e.buttons)!==null&&t!==void 0?t:[A.cancelButton(),A.okButton()];return{title:(n=e.title)!==null&&n!==void 0?n:"",body:(s=e.body)!==null&&s!==void 0?s:"",host:(i=e.host)!==null&&i!==void 0?i:document.body,buttons:d,defaultButton:(o=e.defaultButton)!==null&&o!==void 0?o:d.length-1,renderer:(r=e.renderer)!==null&&r!==void 0?r:A.defaultRenderer,focusNodeSelector:(a=e.focusNodeSelector)!==null&&a!==void 0?a:"",hasClose:(l=e.hasClose)!==null&&l!==void 0?l:true}}e.handleOptions=t;function n(e){const t=["input","select","a[href]","textarea","button","[tabindex]"].join(",");return e.querySelectorAll(t)[0]}e.findFirstFocusable=n})(I||(I={}));var D=n(33513);var B;(function(e){function t(e,t,n){return m.ArrayExt.findFirstIndex(e,(e=>D.ElementExt.hitTest(e,t,n)))}e.hitTestNodes=t;function n(e,t){return e.querySelector(`.${t}`)}e.findElement=n;function i(e,t){return e.getElementsByClassName(t)}e.findElements=i;function o(){return`id-${s.UUID.uuid4()}`}e.createDomID=o})(B||(B={}));const N="jp-HoverBox";const x="jp-mod-outofview";var $;(function(e){function t(e){const{anchor:t,host:n,node:s,privilege:i}=e;s.classList.add(N);s.classList.add(x);if(!n.contains(document.elementFromPoint(t.left,t.top))){return}s.style.maxHeight="";s.style.marginTop="";s.classList.remove(x);const o=e.style||window.getComputedStyle(s);const r=window.innerHeight;const a=t.top;const l=r-t.bottom;const d=parseInt(o.marginTop,10)||0;const c=parseInt(o.minHeight,10)||e.minHeight;let h=parseInt(o.maxHeight,10)||e.maxHeight;const u=i==="forceAbove"?false:i==="forceBelow"?true:i==="above"?a<h&&a<l:l>=h||l>=a;if(u){h=Math.min(l-d,h)}else{h=Math.min(a,h);s.style.marginTop="0px"}s.style.maxHeight=`${h}px`;const p=h>c&&(l>=c||a>=c);if(!p){s.classList.add(x);return}const _=e.offset&&e.offset.vertical&&e.offset.vertical.above||0;const g=e.offset&&e.offset.vertical&&e.offset.vertical.below||0;const m=u?r-l+g:a-s.getBoundingClientRect().height+_;s.style.top=`${Math.floor(m)}px`;const f=e.offset&&e.offset.horizontal||0;let b=t.left+f;s.style.left=`${Math.ceil(b)}px`;s.style.width="auto";if(s.scrollHeight>=h){s.style.width=`${2*s.offsetWidth-s.clientWidth}`;s.scrollTop=0}const C=s.getBoundingClientRect().right;if(C>window.innerWidth){b-=C-window.innerWidth;s.style.left=`${Math.ceil(b)}px`}}e.setGeometry=t})($||($={}));class L extends l.Widget{constructor(e={}){super({node:M.createNode()});this._sandbox=[];this.addClass("jp-IFrame");this.sandbox=e.sandbox||[];this.referrerPolicy=e.referrerPolicy||"no-referrer"}get referrerPolicy(){return this._referrerPolicy}set referrerPolicy(e){if(this._referrerPolicy===e){return}this._referrerPolicy=e;const t=this.node.querySelector("iframe");t.setAttribute("referrerpolicy",e)}get sandbox(){return this._sandbox.slice()}set sandbox(e){this._sandbox=e.slice();const t=this.node.querySelector("iframe");const n=e.length?e.join(" "):"";t.setAttribute("sandbox",n)}get url(){return this.node.querySelector("iframe").getAttribute("src")||""}set url(e){this.node.querySelector("iframe").setAttribute("src",e)}}var M;(function(e){function t(){const e=document.createElement("div");const t=document.createElement("iframe");t.setAttribute("sandbox","");t.style.height="100%";t.style.width="100%";e.appendChild(t);return e}e.createNode=t})(M||(M={}));const j="jp-Input-Dialog";const W="jp-Input-Boolean-Dialog";var K;(function(e){function t(e){return R(Object.assign(Object.assign({},e),{body:new G(e),buttons:[A.cancelButton({label:e.cancelLabel}),A.okButton({label:e.okLabel})],focusNodeSelector:"input"}))}e.getBoolean=t;function n(e){return R(Object.assign(Object.assign({},e),{body:new z(e),buttons:[A.cancelButton({label:e.cancelLabel}),A.okButton({label:e.okLabel})],focusNodeSelector:"input"}))}e.getNumber=n;function s(e){return R(Object.assign(Object.assign({},e),{body:new q(e),buttons:[A.cancelButton({label:e.cancelLabel}),A.okButton({label:e.okLabel})],focusNodeSelector:e.editable?"input":"select"}))}e.getItem=s;function i(e){return R(Object.assign(Object.assign({},e),{body:new F(e),buttons:[A.cancelButton({label:e.cancelLabel}),A.okButton({label:e.okLabel})],focusNodeSelector:"input"}))}e.getText=i;function o(e){return R(Object.assign(Object.assign({},e),{body:new U(e),buttons:[A.cancelButton({label:e.cancelLabel}),A.okButton({label:e.okLabel})],focusNodeSelector:"input"}))}e.getPassword=o})(K||(K={}));class H extends l.Widget{constructor(e){super();this.addClass(j);this._input=document.createElement("input");this._input.classList.add("jp-mod-styled");this._input.id="jp-dialog-input-id";if(e!==undefined){const t=document.createElement("label");t.textContent=e;t.htmlFor=this._input.id;this.node.appendChild(t)}this.node.appendChild(this._input)}}class G extends H{constructor(e){super(e.label);this.addClass(W);this._input.type="checkbox";this._input.checked=e.value?true:false}getValue(){return this._input.checked}}class z extends H{constructor(e){super(e.label);this._input.type="number";this._input.value=e.value?e.value.toString():"0"}getValue(){if(this._input.value){return Number(this._input.value)}else{return Number.NaN}}}class F extends H{constructor(e){super(e.label);this._input.type="text";this._input.value=e.text?e.text:"";if(e.placeholder){this._input.placeholder=e.placeholder}}getValue(){return this._input.value}}class U extends H{constructor(e){super(e.label);this._input.type="password";this._input.value=e.text?e.text:"";if(e.placeholder){this._input.placeholder=e.placeholder}}getValue(){return this._input.value}}class q extends H{constructor(e){super(e.label);this._editable=e.editable||false;let t=e.current||0;let n;if(typeof t==="number"){n=Math.max(0,Math.min(t,e.items.length-1));t=""}this._list=document.createElement("select");e.items.forEach(((e,s)=>{const i=document.createElement("option");if(s===n){i.selected=true;t=e}i.value=e;i.textContent=e;this._list.appendChild(i)}));if(e.editable){const n=document.createElement("datalist");n.id="input-dialog-items";n.appendChild(this._list);this._input.type="list";this._input.value=t;this._input.setAttribute("list",n.id);if(e.placeholder){this._input.placeholder=e.placeholder}this.node.appendChild(n)}else{this._input.remove();this.node.appendChild(C.wrapSelect(this._list))}}getValue(){if(this._editable){return this._input.value}else{return this._list.value}}}var V=n(1612);var Y=n(50317);var X;(function(e){e.symbol=Symbol("printable");function t(t){if(typeof t!=="object"||!t){return false}return e.symbol in t}e.isPrintable=t;function n(n){if(t(n)){return n[e.symbol]()}return null}e.getPrintFunction=n;function s(e){return o(e.node)}e.printWidget=s;async function i(e){const t=Y.ServerConnection.makeSettings();const n=await(await Y.ServerConnection.makeRequest(e,{},t)).text();return o(n)}e.printURL=i;async function o(e){const t=typeof e==="string";const n=r();const s=window.document.body;s.appendChild(n);if(t){n.srcdoc=e;await l(n)}else{n.src="about:blank";await l(n);a(n,e)}const i=d();c(n.contentWindow);await i;s.removeChild(n)}function r(){const e=window.document.createElement("iframe");e.setAttribute("sandbox","allow-modals allow-same-origin");const t="visibility:hidden;width:0;height:0;position:absolute;z-index:-9999;bottom:0;";e.setAttribute("style",t);e.setAttribute("width","0");e.setAttribute("height","0");return e}function a(e,t){e.contentDocument.body.appendChild(t.cloneNode(true));e.contentDocument.close()}function l(e){return new Promise((t=>{e.onload=()=>t()}))}function d(){return new Promise((e=>{const t=()=>{document.removeEventListener("mousemove",t,true);document.removeEventListener("mousedown",t,true);document.removeEventListener("keydown",t,true);e()};document.addEventListener("mousemove",t,true);document.addEventListener("mousedown",t,true);document.addEventListener("keydown",t,true)}))}function c(e){const t=e.document.execCommand("print",false);if(!t){e.print()}}})(X||(X={}));class Z extends l.Widget{constructor(){super();this.addClass("jp-Spinner");this.node.tabIndex=-1;const e=document.createElement("div");e.className="jp-SpinnerContent";this.node.appendChild(e)}onActivateRequest(e){this.node.focus()}}var J=n(97745);var Q=n(72189);var ee=n(83875);class te{constructor(e){var t,n,i,o;this._path="";this._name="";this._type="";this._prevKernelName="";this._isDisposed=false;this._disposed=new a.Signal(this);this._session=null;this._ready=new s.PromiseDelegate;this._initializing=false;this._initStarted=new s.PromiseDelegate;this._initPromise=new s.PromiseDelegate;this._isReady=false;this._isTerminating=false;this._isRestarting=false;this._kernelChanged=new a.Signal(this);this._sessionChanged=new a.Signal(this);this._statusChanged=new a.Signal(this);this._connectionStatusChanged=new a.Signal(this);this._pendingInput=false;this._iopubMessage=new a.Signal(this);this._unhandledMessage=new a.Signal(this);this._propertyChanged=new a.Signal(this);this._dialog=null;this._busyDisposable=null;this._pendingKernelName="";this._pendingSessionRequest="";this.sessionManager=e.sessionManager;this.specsManager=e.specsManager;this.translator=e.translator||V.nullTranslator;this._trans=this.translator.load("jupyterlab");this._path=(t=e.path)!==null&&t!==void 0?t:s.UUID.uuid4();this._type=(n=e.type)!==null&&n!==void 0?n:"";this._name=(i=e.name)!==null&&i!==void 0?i:"";this._setBusy=e.setBusy;this._kernelPreference=(o=e.kernelPreference)!==null&&o!==void 0?o:{}}get session(){var e;return(e=this._session)!==null&&e!==void 0?e:null}get path(){return this._path}get type(){return this._type}get name(){return this._name}get kernelChanged(){return this._kernelChanged}get sessionChanged(){return this._sessionChanged}get statusChanged(){return this._statusChanged}get pendingInput(){return this._pendingInput}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get propertyChanged(){return this._propertyChanged}get kernelPreference(){return this._kernelPreference}set kernelPreference(e){this._kernelPreference=e}get isReady(){return this._isReady}get ready(){return this._ready.promise}get isTerminating(){return this._isTerminating}get isRestarting(){return this._isRestarting}get hasNoKernel(){return this.kernelDisplayName===this.noKernelName}get kernelDisplayName(){var e,t,n,s,i,o,r,a,l,d;const c=(e=this.session)===null||e===void 0?void 0:e.kernel;if(this._pendingKernelName===this.noKernelName){return this.noKernelName}if(!c&&!this.isReady&&this.kernelPreference.canStart!==false&&this.kernelPreference.shouldStart!==false){let e=this._pendingKernelName||te.getDefaultKernel({specs:this.specsManager.specs,sessions:this.sessionManager.running(),preference:this.kernelPreference})||"";if(e){e=(s=(n=(t=this.specsManager.specs)===null||t===void 0?void 0:t.kernelspecs[e])===null||n===void 0?void 0:n.display_name)!==null&&s!==void 0?s:e;return e}return this.noKernelName}if(this._pendingKernelName){return(r=(o=(i=this.specsManager.specs)===null||i===void 0?void 0:i.kernelspecs[this._pendingKernelName])===null||o===void 0?void 0:o.display_name)!==null&&r!==void 0?r:this._pendingKernelName}if(!c){return this.noKernelName}return(d=(l=(a=this.specsManager.specs)===null||a===void 0?void 0:a.kernelspecs[c.name])===null||l===void 0?void 0:l.display_name)!==null&&d!==void 0?d:c.name}get kernelDisplayStatus(){var e,t;const n=(e=this.session)===null||e===void 0?void 0:e.kernel;if(this._isTerminating){return"terminating"}if(this._isRestarting){return"restarting"}if(this._pendingKernelName===this.noKernelName){return"idle"}if(!n&&this._pendingKernelName){return"initializing"}if(!n&&!this.isReady&&this.kernelPreference.canStart!==false&&this.kernelPreference.shouldStart!==false){return"initializing"}return(t=(n===null||n===void 0?void 0:n.connectionStatus)==="connected"?n===null||n===void 0?void 0:n.status:n===null||n===void 0?void 0:n.connectionStatus)!==null&&t!==void 0?t:"unknown"}get prevKernelName(){return this._prevKernelName}get isDisposed(){return this._isDisposed}get disposed(){return this._disposed}get noKernelName(){return this._trans.__("No Kernel")}dispose(){if(this._isDisposed){return}this._isDisposed=true;this._disposed.emit();if(this._session){if(this.kernelPreference.shutdownOnDispose){this.sessionManager.shutdown(this._session.id).catch((e=>{console.error(`Kernel not shut down ${e}`)}))}this._session.dispose();this._session=null}if(this._dialog){this._dialog.dispose()}if(this._busyDisposable){this._busyDisposable.dispose();this._busyDisposable=null}a.Signal.clearData(this)}async restartKernel(){var e,t,n,s,i,o;const r=((e=this.session)===null||e===void 0?void 0:e.kernel)||null;this._isRestarting=true;this._isReady=false;this._statusChanged.emit("restarting");await((n=(t=this.session)===null||t===void 0?void 0:t.kernel)===null||n===void 0?void 0:n.restart());this._isRestarting=false;this._isReady=true;this._statusChanged.emit(((i=(s=this.session)===null||s===void 0?void 0:s.kernel)===null||i===void 0?void 0:i.status)||"unknown");this._kernelChanged.emit({name:"kernel",oldValue:r,newValue:((o=this.session)===null||o===void 0?void 0:o.kernel)||null})}async changeKernel(e={}){if(this.isDisposed){throw new Error("Disposed")}await this._initStarted.promise;return this._changeKernel(e)}async shutdown(){if(this.isDisposed||!this._initializing){return}await this._initStarted.promise;this._pendingSessionRequest="";this._pendingKernelName=this.noKernelName;return this._shutdownSession()}async initialize(){if(this._initializing){return this._initPromise.promise}this._initializing=true;const e=await this._initialize();if(!e){this._isReady=true;this._ready.resolve(undefined)}if(!this._pendingSessionRequest){this._initStarted.resolve(void 0)}this._initPromise.resolve(e);return e}async _initialize(){const e=this.sessionManager;await e.ready;await e.refreshRunning();const t=(0,m.find)(e.running(),(e=>e.path===this._path));if(t){try{const n=e.connectTo({model:t});this._handleNewSession(n)}catch(n){void this._handleSessionError(n);return Promise.reject(n)}}return await this._startIfNecessary()}async _shutdownSession(){const e=this._session;this._isTerminating=true;this._isReady=false;this._statusChanged.emit("terminating");await(e===null||e===void 0?void 0:e.shutdown());this._isTerminating=false;e===null||e===void 0?void 0:e.dispose();this._session=null;const t=(e===null||e===void 0?void 0:e.kernel)||null;this._statusChanged.emit("unknown");this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:null});this._sessionChanged.emit({name:"session",oldValue:e,newValue:null})}async _startIfNecessary(){var e;const t=this.kernelPreference;if(this.isDisposed||((e=this.session)===null||e===void 0?void 0:e.kernel)||t.shouldStart===false||t.canStart===false){return false}let n;if(t.id){n={id:t.id}}else{const e=te.getDefaultKernel({specs:this.specsManager.specs,sessions:this.sessionManager.running(),preference:t});if(e){n={name:e}}}if(n){try{await this._changeKernel(n);return false}catch(s){}}return true}async _changeKernel(e={},t=false){if(e.name){this._pendingKernelName=e.name}if(this._session&&!this._isTerminating){await this._shutdownSession()}else if(!this._session){this._kernelChanged.emit({name:"kernel",oldValue:null,newValue:null})}if(!this._pendingSessionRequest){this._initStarted.resolve(void 0)}const n=ee.PathExt.dirname(this._path);const i=this._pendingSessionRequest=ee.PathExt.join(n,s.UUID.uuid4());try{this._statusChanged.emit("starting");const t=await this.sessionManager.startNew({path:i,type:this._type,name:this._name,kernel:e});if(this._pendingSessionRequest!==t.path){await t.shutdown();t.dispose();return null}await t.setPath(this._path);await t.setName(this._name);if(this._session&&!this._isTerminating){await this._shutdownSession()}return this._handleNewSession(t)}catch(o){void this._handleSessionError(o);throw o}}_handleNewSession(e){var t,n,s;if(this.isDisposed){throw Error("Disposed")}if(!this._isReady){this._isReady=true;this._ready.resolve(undefined)}if(this._session){this._session.dispose()}this._session=e;this._pendingKernelName="";if(e){this._prevKernelName=(n=(t=e.kernel)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:"";e.disposed.connect(this._onSessionDisposed,this);e.propertyChanged.connect(this._onPropertyChanged,this);e.kernelChanged.connect(this._onKernelChanged,this);e.statusChanged.connect(this._onStatusChanged,this);e.connectionStatusChanged.connect(this._onConnectionStatusChanged,this);e.pendingInput.connect(this._onPendingInput,this);e.iopubMessage.connect(this._onIopubMessage,this);e.unhandledMessage.connect(this._onUnhandledMessage,this);if(e.path!==this._path){this._onPropertyChanged(e,"path")}if(e.name!==this._name){this._onPropertyChanged(e,"name")}if(e.type!==this._type){this._onPropertyChanged(e,"type")}}this._sessionChanged.emit({name:"session",oldValue:null,newValue:e});this._kernelChanged.emit({oldValue:null,newValue:(e===null||e===void 0?void 0:e.kernel)||null,name:"kernel"});this._statusChanged.emit(((s=e===null||e===void 0?void 0:e.kernel)===null||s===void 0?void 0:s.status)||"unknown");return(e===null||e===void 0?void 0:e.kernel)||null}async _handleSessionError(e){this._handleNewSession(null);let t="";let n="";try{t=e.traceback;n=e.message}catch(e){}const s=b.createElement("div",null,n&&b.createElement("pre",null,n),t&&b.createElement("details",{className:"jp-mod-wide"},b.createElement("pre",null,t)));const i=this._dialog=new A({title:this._trans.__("Error Starting Kernel"),body:s,buttons:[A.okButton()]});await i.launch();this._dialog=null}_onSessionDisposed(){if(this._session){const e=this._session;this._session=null;const t=this._session;this._sessionChanged.emit({name:"session",oldValue:e,newValue:t})}}_onPropertyChanged(e,t){switch(t){case"path":this._path=e.path;break;case"name":this._name=e.name;break;case"type":this._type=e.type;break;default:throw new Error(`unrecognized property ${t}`)}this._propertyChanged.emit(t)}_onKernelChanged(e,t){this._kernelChanged.emit(t)}_onStatusChanged(e,t){if(this._setBusy){if(t==="busy"){if(!this._busyDisposable){this._busyDisposable=this._setBusy()}}else{if(this._busyDisposable){this._busyDisposable.dispose();this._busyDisposable=null}}}this._statusChanged.emit(t)}_onConnectionStatusChanged(e,t){this._connectionStatusChanged.emit(t)}_onPendingInput(e,t){this._pendingInput=t}_onIopubMessage(e,t){if(t.header.msg_type==="shutdown_reply"){this.session.kernel.removeInputGuard()}this._iopubMessage.emit(t)}_onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}}(function(e){function t(e){return se.getDefaultKernel(e)}e.getDefaultKernel=t})(te||(te={}));const ne={async selectKernel(e,t){if(e.isDisposed){return Promise.resolve()}t=t||V.nullTranslator;const n=t.load("jupyterlab");let s=n.__("Cancel");if(e.hasNoKernel){s=e.kernelDisplayName}const i=[A.cancelButton({label:s}),A.okButton({label:n.__("Select")})];const o=new A({title:n.__("Select Kernel"),body:new se.KernelSelector(e,t),buttons:i});const r=await o.launch();if(e.isDisposed||!r.button.accept){return}const a=r.value;if(a===null&&!e.hasNoKernel){return e.shutdown()}if(a){await e.changeKernel(a)}},async restart(e,t){var n;t=t||V.nullTranslator;const s=t.load("jupyterlab");await e.initialize();if(e.isDisposed){throw new Error("session already disposed")}const i=(n=e.session)===null||n===void 0?void 0:n.kernel;if(!i&&e.prevKernelName){await e.changeKernel({name:e.prevKernelName});return true}if(!i){throw new Error("No kernel to restart")}const o=A.warnButton({label:"Restart"});const r=await R({title:s.__("Restart Kernel?"),body:s.__("Do you want to restart the current kernel? All variables will be lost."),buttons:[A.cancelButton(),o]});if(i.isDisposed){return false}if(r.button.accept){await e.restartKernel();return true}return false}};var se;(function(e){class t extends l.Widget{constructor(e,t){super({node:n(e,t)})}getValue(){const e=this.node.querySelector("select");return JSON.parse(e.value)}}e.KernelSelector=t;function n(e,t){t=t||V.nullTranslator;const n=t.load("jupyterlab");const s=document.createElement("div");const r=document.createElement("label");r.textContent=`${n.__("Select kernel for:")} "${e.name}"`;s.appendChild(r);const a=o(e);const l=document.createElement("select");i(l,a,t,!e.hasNoKernel?e.kernelDisplayName:null);s.appendChild(l);return s}function s(e){var t;const{specs:n,preference:s}=e;const{name:i,language:o,shouldStart:r,canStart:a,autoStartDefault:l}=s;if(!n||r===false||a===false){return null}const d=l?n.default:null;if(!i&&!o){return d}for(const h in n.kernelspecs){if(h===i){return i}}if(!o){return d}const c=[];for(const h in n.kernelspecs){const e=(t=n.kernelspecs[h])===null||t===void 0?void 0:t.language;if(o===e){c.push(h)}}if(c.length===1){const e=c[0];console.warn("No exact match found for "+e+", using kernel "+e+" that matches "+"language="+o);return e}return d}e.getDefaultKernel=s;function i(e,t,n,s=null){while(e.firstChild){e.removeChild(e.firstChild)}const{preference:i,sessions:o,specs:l}=t;const{name:c,id:h,language:u,canStart:p,shouldStart:_}=i;n=n||V.nullTranslator;const g=n.load("jupyterlab");if(!l||p===false){e.appendChild(a(n));e.value="null";e.disabled=true;return}e.disabled=false;const f=Object.create(null);const b=Object.create(null);for(const r in l.kernelspecs){const e=l.kernelspecs[r];f[r]=e.display_name;b[r]=e.language}const C=[];if(c&&c in l.kernelspecs){C.push(c)}if(u){for(const e in l.kernelspecs){if(c!==e&&b[e]===u){C.push(e)}}}if(!C.length){C.push(l.default)}const v=document.createElement("optgroup");v.label=g.__("Start Preferred Kernel");C.sort(((e,t)=>f[e].localeCompare(f[t])));for(const a of C){v.appendChild(r(a,f[a]))}if(v.firstChild){e.appendChild(v)}e.appendChild(a());const y=document.createElement("optgroup");y.label=g.__("Start Other Kernel");const w=[];for(const r in l.kernelspecs){if(C.indexOf(r)!==-1){continue}w.push(r)}w.sort(((e,t)=>f[e].localeCompare(f[t])));for(const a of w){y.appendChild(r(a,f[a]))}if(w.length){e.appendChild(y)}if(_===false){e.value="null"}else{let t=0;if(s){t=[...e.options].findIndex((e=>e.text===s));t=Math.max(t,0)}e.selectedIndex=t}if(!o){return}const E=[];const T=[];(0,m.each)(o,(e=>{var t;if(u&&e.kernel&&b[e.kernel.name]===u&&e.kernel.id!==h){E.push(e)}else if(((t=e.kernel)===null||t===void 0?void 0:t.id)!==h){T.push(e)}}));const P=document.createElement("optgroup");P.label=g.__("Use Kernel from Preferred Session");e.appendChild(P);if(E.length){E.sort(((e,t)=>e.path.localeCompare(t.path)));(0,m.each)(E,(e=>{const t=e.kernel?f[e.kernel.name]:"";P.appendChild(d(e,t,n))}))}const O=document.createElement("optgroup");O.label=g.__("Use Kernel from Other Session");e.appendChild(O);if(T.length){T.sort(((e,t)=>e.path.localeCompare(t.path)));(0,m.each)(T,(e=>{const t=e.kernel?f[e.kernel.name]||e.kernel.name:"";O.appendChild(d(e,t,n))}))}}e.populateKernelSelect=i;function o(e){return{specs:e.specsManager.specs,sessions:e.sessionManager.running(),preference:e.kernelPreference}}function r(e,t){const n=document.createElement("option");n.text=t;n.value=JSON.stringify({name:e});return n}function a(e){e=e||V.nullTranslator;const t=e.load("jupyterlab");const n=document.createElement("optgroup");n.label=t.__("Use No Kernel");const s=document.createElement("option");s.text=t.__("No Kernel");s.value="null";n.appendChild(s);return n}function d(e,t,n){var s,i;n=n||V.nullTranslator;const o=n.load("jupyterlab");const r=document.createElement("option");const a=e.name||ee.PathExt.basename(e.path);r.text=a;r.value=JSON.stringify({id:(s=e.kernel)===null||s===void 0?void 0:s.id});r.title=`${o.__("Path:")} ${e.path}\n`+`${o.__("Name:")} ${a}\n`+`${o.__("Kernel Name:")} ${t}\n`+`${o.__("Kernel Id:")} ${(i=e.kernel)===null||i===void 0?void 0:i.id}`;return r}})(se||(se={}));var ie=n(87598);const oe="jp-Toolbar";const re="toolbar-popup-opener";const ae="jp-Toolbar-item";const le="jp-Toolbar-kernelName";const de="jp-Toolbar-spacer";const ce="jp-Toolbar-kernelStatus";class he extends l.PanelLayout{constructor(){super(...arguments);this._dirty=false}onFitRequest(e){super.onFitRequest(e);if(this.parent.isAttached){if((0,m.some)(this.widgets,(e=>!e.isHidden))){this.parent.node.style.minHeight="var(--jp-private-toolbar-height)";this.parent.removeClass("jp-Toolbar-micro")}else{this.parent.node.style.minHeight="";this.parent.addClass("jp-Toolbar-micro")}}this._dirty=true;if(this.parent.parent){f.MessageLoop.sendMessage(this.parent.parent,l.Widget.Msg.FitRequest)}if(this._dirty){f.MessageLoop.sendMessage(this.parent,l.Widget.Msg.UpdateRequest)}}onUpdateRequest(e){super.onUpdateRequest(e);if(this.parent.isVisible){this._dirty=false}}onChildShown(e){super.onChildShown(e);this.parent.fit()}onChildHidden(e){super.onChildHidden(e);this.parent.fit()}onBeforeAttach(e){super.onBeforeAttach(e);this.parent.fit()}attachWidget(e,t){super.attachWidget(e,t);this.parent.fit()}detachWidget(e,t){super.detachWidget(e,t);this.parent.fit()}}class ue extends l.Widget{constructor(){super();this.addClass(oe);this.layout=new he}names(){const e=this.layout;return(0,m.map)(e.widgets,(e=>we.nameProperty.get(e)))}addItem(e,t){const n=this.layout;return this.insertItem(n.widgets.length,e,t)}insertItem(e,t,n){const s=(0,m.find)(this.names(),(e=>e===t));if(s){return false}n.addClass(ae);const i=this.layout;const o=Math.max(0,Math.min(e,i.widgets.length));i.insertWidget(o,n);we.nameProperty.set(n,t);return true}insertAfter(e,t,n){return this._insertRelative(e,1,t,n)}insertBefore(e,t,n){return this._insertRelative(e,0,t,n)}_insertRelative(e,t,n,s){const i=(0,m.map)(this.names(),((e,t)=>({name:e,index:t})));const o=(0,m.find)(i,(t=>t.name===e));if(o){return this.insertItem(o.index+t,n,s)}return false}handleEvent(e){switch(e.type){case"click":this.handleClick(e);break;default:break}}handleClick(e){if(e.target instanceof HTMLLabelElement){const t=e.target.getAttribute("for");if(t&&this.node.querySelector(`#${t}`)){return}}if(this.node.contains(document.activeElement)){return}if(this.parent){this.parent.activate()}}onAfterAttach(e){this.node.addEventListener("click",this)}onBeforeDetach(e){this.node.removeEventListener("click",this)}}class pe extends ue{constructor(){super();this.popupOpener=new ye;this._widgetWidths={};this.insertItem(0,re,this.popupOpener);this.popupOpener.hide();this._resizer=new ie.Throttler(this._onResize.bind(this),500)}dispose(){if(this.isDisposed){return}if(this._resizer){this._resizer.dispose()}super.dispose()}insertAfter(e,t,n){if(e===re){return false}return super.insertAfter(e,t,n)}insertItem(e,t,n){if(n instanceof ye){return super.insertItem(e,t,n)}else{const s=Math.max(0,Math.min(e,this.layout.widgets.length-1));return super.insertItem(s,t,n)}}onBeforeHide(e){this.popupOpener.hidePopup();super.onBeforeHide(e)}onResize(e){super.onResize(e);if(e.width>0&&this._resizer){void this._resizer.invoke()}}_onResize(){if(this.parent&&this.parent.isAttached){const e=this.node.clientWidth;const t=this.popupOpener;const n=30;const s=2;const i=this.layout;let o=t.isHidden?s:s+n;let r=0;const a=[];const l=i.widgets.length-1;while(r<l){const s=i.widgets[r];this._saveWidgetWidth(s);o+=this._getWidgetWidth(s);if(a.length===0&&t.isHidden&&o+n>e){o+=n}if(o>e){a.push(s)}r++}while(a.length>0){const e=a.pop();o-=this._getWidgetWidth(e);t.addWidget(e)}if(t.widgetCount()>0){const s=[];let i=0;let r=t.widgetAt(i);const a=t.widgetCount();o+=this._getWidgetWidth(r);if(a===1&&o-n<=e){o-=n}while(o<e&&i<a){s.push(r);i++;r=t.widgetAt(i);if(r){o+=this._getWidgetWidth(r)}else{break}}while(s.length>0){const e=s.shift();this.addItem(we.nameProperty.get(e),e)}}if(t.widgetCount()>0){t.updatePopup();t.show()}else{t.hide()}}}_saveWidgetWidth(e){const t=we.nameProperty.get(e);this._widgetWidths[t]=e.hasClass(de)?2:e.node.clientWidth}_getWidgetWidth(e){const t=we.nameProperty.get(e);return this._widgetWidths[t]}}(function(e){function t(e,t){t=t||V.nullTranslator;const n=t.load("jupyterlab");return new me({icon:r.stopIcon,onClick:()=>{var t,n;void((n=(t=e.session)===null||t===void 0?void 0:t.kernel)===null||n===void 0?void 0:n.interrupt())},tooltip:n.__("Interrupt the kernel")})}e.createInterruptButton=t;function n(e,t,n){n=n||V.nullTranslator;const s=n.load("jupyterlab");return new me({icon:r.refreshIcon,onClick:()=>{void(t!==null&&t!==void 0?t:ne).restart(e,n)},tooltip:s.__("Restart the kernel")})}e.createRestartButton=n;function s(){return new we.Spacer}e.createSpacerItem=s;function i(e,t,n){const s=w.create(b.createElement(we.KernelNameComponent,{sessionContext:e,dialogs:t!==null&&t!==void 0?t:ne,translator:n}));s.addClass("jp-KernelName");return s}e.createKernelNameItem=i;function o(e,t){return new we.KernelStatus(e,t)}e.createKernelStatusItem=o})(ue||(ue={}));function _e(e){var t,n;const s=t=>{var n;if(t.button===0){t.preventDefault();(n=e.onClick)===null||n===void 0?void 0:n.call(e)}};const i=t=>{var n;const{key:s}=t;if(s==="Enter"||s===" "){(n=e.onClick)===null||n===void 0?void 0:n.call(e)}};const o=t=>{var n;if(t.button===0){(n=e.onClick)===null||n===void 0?void 0:n.call(e)}};const a=()=>{if(e.enabled===false&&e.disabledTooltip){return e.disabledTooltip}else if(e.pressed&&e.pressedTooltip){return e.pressedTooltip}else{return e.tooltip||e.iconLabel}};return b.createElement(r.Button,{className:e.className?e.className+" jp-ToolbarButtonComponent":"jp-ToolbarButtonComponent","aria-pressed":e.pressed,"aria-disabled":e.enabled===false,disabled:e.enabled===false,onClick:((t=e.actualOnClick)!==null&&t!==void 0?t:false)?o:undefined,onMouseDown:!((n=e.actualOnClick)!==null&&n!==void 0?n:false)?s:undefined,onKeyDown:i,title:a(),minimal:true},(e.icon||e.iconClass)&&b.createElement(r.LabIcon.resolveReact,{icon:e.pressed?e.pressedIcon:e.icon,iconClass:(0,r.classes)(e.iconClass,"jp-Icon"),className:"jp-ToolbarButtonComponent-icon",tag:"span",stylesheet:"toolbarButton"}),e.label&&b.createElement("span",{className:"jp-ToolbarButtonComponent-label"},e.label))}function ge(e){e.addClass("jp-ToolbarButton");return e}class me extends w{constructor(e={}){var t,n;super();this.props=e;ge(this);this._enabled=(t=e.enabled)!==null&&t!==void 0?t:true;this._pressed=this._enabled&&((n=e.pressed)!==null&&n!==void 0?n:false);this._onClick=e.onClick}set pressed(e){if(this.enabled&&e!==this._pressed){this._pressed=e;this.update()}}get pressed(){return this._pressed}set enabled(e){if(e!=this._enabled){this._enabled=e;if(!this._enabled){this._pressed=false}this.update()}}get enabled(){return this._enabled}set onClick(e){if(e!==this._onClick){this._onClick=e;this.update()}}get onClick(){return this._onClick}render(){return b.createElement(_e,Object.assign({},this.props,{pressed:this.pressed,enabled:this.enabled,onClick:this.onClick}))}}function fe(e){return b.createElement(T,{signal:e.commands.commandChanged,shouldUpdate:(t,n)=>n.id===e.id&&n.type==="changed"||n.type==="many-changed"},(()=>b.createElement(_e,Object.assign({},we.propsFromCommand(e)))))}function be(e){e.addClass("jp-CommandToolbarButton");return e}class Ce extends w{constructor(e){super();this.props=e;be(this)}render(){return b.createElement(fe,Object.assign({},this.props))}}class ve extends l.Widget{constructor(){super();this.width=0;this.addClass("jp-Toolbar-responsive-popup");this.layout=new l.PanelLayout;l.Widget.attach(this,document.body);this.hide()}updateWidth(e){if(e>0){this.width=e;this.node.style.width=`${e}px`}}alignTo(e){const{height:t,width:n,x:s,y:i}=e.node.getBoundingClientRect();const o=this.width;this.node.style.left=`${s+n-o+1}px`;this.node.style.top=`${i+t+1}px`}insertWidget(e,t){this.layout.insertWidget(0,t)}widgetCount(){return this.layout.widgets.length}widgetAt(e){return this.layout.widgets[e]}}class ye extends me{constructor(){super({icon:r.ellipsesIcon,onClick:()=>{this.handleClick()}});this.addClass("jp-Toolbar-responsive-opener");this.popup=new ve}addWidget(e){this.popup.insertWidget(0,e)}dispose(){if(this.isDisposed){return}this.popup.dispose();super.dispose()}hide(){super.hide();this.hidePopup()}hidePopup(){this.popup.hide()}updatePopup(){this.popup.updateWidth(this.parent.node.clientWidth);this.popup.alignTo(this.parent)}widgetAt(e){return this.popup.widgetAt(e)}widgetCount(){return this.popup.widgetCount()}handleClick(){this.updatePopup();this.popup.setHidden(!this.popup.isHidden)}}var we;(function(e){function t(e){const{commands:t,id:n,args:s}=e;const i=t.iconClass(n,s);const o=t.iconLabel(n,s);const r=t.icon(n,s);const a=r===i?undefined:r;const l=t.label(n,s);let d=t.className(n,s);if(t.isToggled(n,s)){d+=" lm-mod-toggled"}if(!t.isVisible(n,s)){d+=" lm-mod-hidden"}let c=t.caption(n,s)||l||o;const h=t.keyBindings.find((e=>e.command===n));if(h){const e=J.CommandRegistry.formatKeystroke(h.keys.join(" "));c=`${c} (${e})`}const u=()=>{void t.execute(n,s)};const p=t.isEnabled(n,s);return{className:d,icon:a,iconClass:i,tooltip:c,onClick:u,enabled:p,label:l}}e.propsFromCommand=t;e.nameProperty=new Q.AttachedProperty({name:"name",create:()=>""});function n(){}e.noOp=n;class s extends l.Widget{constructor(){super();this.addClass(de)}}e.Spacer=s;function i(e){const t=e.translator||V.nullTranslator;const n=t.load("jupyterlab");const s=()=>{void e.dialogs.selectKernel(e.sessionContext,t)};return b.createElement(T,{signal:e.sessionContext.kernelChanged,initialSender:e.sessionContext},(e=>b.createElement(_e,{className:le,onClick:s,tooltip:n.__("Switch kernel"),label:e===null||e===void 0?void 0:e.kernelDisplayName})))}e.KernelNameComponent=i;class o extends l.Widget{constructor(e,t){super();this.translator=t||V.nullTranslator;this._trans=this.translator.load("jupyterlab");this.addClass(ce);this._statusNames={unknown:this._trans.__("Unknown"),starting:this._trans.__("Starting"),idle:this._trans.__("Idle"),busy:this._trans.__("Busy"),terminating:this._trans.__("Terminating"),restarting:this._trans.__("Restarting"),autorestarting:this._trans.__("Autorestarting"),dead:this._trans.__("Dead"),connected:this._trans.__("Connected"),connecting:this._trans.__("Connecting"),disconnected:this._trans.__("Disconnected"),initializing:this._trans.__("Initializing"),"":""};this._onStatusChanged(e);e.statusChanged.connect(this._onStatusChanged,this);e.connectionStatusChanged.connect(this._onStatusChanged,this)}_onStatusChanged(e){if(this.isDisposed){return}const t=e.kernelDisplayStatus;const n={container:this.node,title:this._trans.__("Kernel %1",this._statusNames[t]||t),stylesheet:"toolbarButton",alignSelf:"normal",height:"24px"};r.LabIcon.remove(this.node);if(t==="busy"||t==="starting"||t==="terminating"||t==="restarting"||t==="initializing"){r.circleIcon.element(n)}else if(t==="connecting"||t==="disconnected"||t==="unknown"){r.offlineBoltIcon.element(n)}else{r.circleEmptyIcon.element(n)}}}e.KernelStatus=o})(we||(we={}));class Ee extends l.Widget{constructor(e){super(e);this._changeGuard=false;this._spinner=new Z;this._isRevealed=false;this.addClass("jp-MainAreaWidget");this.addClass("jp-MainAreaWidget-ContainStrict");this.id=B.createDomID();const t=(e.translator||V.nullTranslator).load("jupyterlab");const n=this._content=e.content;n.node.setAttribute("role","region");n.node.setAttribute("aria-label",t.__("notebook content"));const s=this._toolbar=e.toolbar||new pe;s.node.setAttribute("role","navigation");s.node.setAttribute("aria-label",t.__("notebook actions"));const i=this._contentHeader=e.contentHeader||new l.BoxPanel({direction:"top-to-bottom",spacing:0});const o=this.layout=new l.BoxLayout({spacing:0});o.direction="top-to-bottom";l.BoxLayout.setStretch(s,0);l.BoxLayout.setStretch(i,0);l.BoxLayout.setStretch(n,1);o.addWidget(s);o.addWidget(i);o.addWidget(n);if(!n.id){n.id=B.createDomID()}n.node.tabIndex=0;this._updateTitle();n.title.changed.connect(this._updateTitle,this);this.title.closable=true;this.title.changed.connect(this._updateContentTitle,this);if(e.reveal){this.node.appendChild(this._spinner.node);this._revealed=e.reveal.then((()=>{if(n.isDisposed){this.dispose();return}n.disposed.connect((()=>this.dispose()));const e=document.activeElement===this._spinner.node;this._disposeSpinner();this._isRevealed=true;if(e){this._focusContent()}})).catch((e=>{const t=new l.Widget;const i=document.createElement("pre");i.textContent=String(e);t.node.appendChild(i);l.BoxLayout.setStretch(t,1);this._disposeSpinner();n.dispose();this._content=null;s.dispose();this._toolbar=null;o.addWidget(t);this._isRevealed=true;throw t}))}else{this._spinner.dispose();this.removeClass("jp-MainAreaWidget-ContainStrict");n.disposed.connect((()=>this.dispose()));this._isRevealed=true;this._revealed=Promise.resolve(undefined)}}[X.symbol](){if(!this._content){return null}return X.getPrintFunction(this._content)}get content(){return this._content}get toolbar(){return this._toolbar}get contentHeader(){return this._contentHeader}get isRevealed(){return this._isRevealed}get revealed(){return this._revealed}onActivateRequest(e){if(this._isRevealed){if(this._content){this._focusContent()}}else{this._spinner.node.focus()}}onCloseRequest(e){this.dispose()}onUpdateRequest(e){if(this._content){f.MessageLoop.sendMessage(this._content,e)}}_disposeSpinner(){this.node.removeChild(this._spinner.node);this._spinner.dispose();this.removeClass("jp-MainAreaWidget-ContainStrict")}_updateTitle(){if(this._changeGuard||!this.content){return}this._changeGuard=true;const e=this.content;this.title.label=e.title.label;this.title.mnemonic=e.title.mnemonic;this.title.icon=e.title.icon;this.title.iconClass=e.title.iconClass;this.title.iconLabel=e.title.iconLabel;this.title.caption=e.title.caption;this.title.className=e.title.className;this.title.dataset=e.title.dataset;this._changeGuard=false}_updateContentTitle(){if(this._changeGuard||!this.content){return}this._changeGuard=true;const e=this.content;e.title.label=this.title.label;e.title.mnemonic=this.title.mnemonic;e.title.icon=this.title.icon;e.title.iconClass=this.title.iconClass;e.title.iconLabel=this.title.iconLabel;e.title.caption=this.title.caption;e.title.className=this.title.className;e.title.dataset=this.title.dataset;this._changeGuard=false}_focusContent(){if(!this.content){return}if(!this.content.node.contains(document.activeElement)){this.content.node.focus()}this.content.activate()}}var Te=undefined&&undefined.__rest||function(e,t){var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0)n[s]=e[s];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++){if(t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i]))n[s[i]]=e[s[i]]}return n};var Pe;(function(e){function t(e,t){return e.filter((e=>!e.disabled)).sort(((e,t)=>{var n,s;return((n=e.rank)!==null&&n!==void 0?n:Infinity)-((s=t.rank)!==null&&s!==void 0?s:Infinity)})).map((e=>n(e,t)))}e.createMenus=t;function n(e,t){var n,s;const i=t(e);i.id=e.id;if(!i.title.label){i.title.label=(n=e.label)!==null&&n!==void 0?n:ee.Text.titleCase(i.id.trim())}if(e.icon){i.title.icon=r.LabIcon.resolve({icon:e.icon})}if(e.mnemonic!==undefined){i.title.mnemonic=e.mnemonic}(s=e.items)===null||s===void 0?void 0:s.filter((e=>!e.disabled)).sort(((e,t)=>{var n,s;return((n=e.rank)!==null&&n!==void 0?n:Infinity)-((s=t.rank)!==null&&s!==void 0?s:Infinity)})).map((e=>{o(e,i,t)}));return i}function i(e,t,s){const{submenu:i}=e,o=Te(e,["submenu"]);t.addItem(Object.assign(Object.assign({},o),{submenu:i?n(i,s):null}))}e.addContextItem=i;function o(e,t,s){const{submenu:i}=e,o=Te(e,["submenu"]);t.addItem(Object.assign(Object.assign({},o),{submenu:i?n(i,s):null}))}function a(e,t,s){const i=[];t.forEach((t=>{const o=e.find((e=>e.id===t.id));if(o){l(t,o,s)}else{if(!t.disabled){i.push(n(t,s))}}}));e.push(...i);return i}e.updateMenus=a;function l(e,t,n){var i;if(e.disabled){t.dispose()}else{(i=e.items)===null||i===void 0?void 0:i.forEach((e=>{var i,r;const a=t===null||t===void 0?void 0:t.items.find(((t,n)=>{var s,i;return t.type===e.type&&t.command===e.command&&((s=t.submenu)===null||s===void 0?void 0:s.id)===((i=e.submenu)===null||i===void 0?void 0:i.id)}));if(a&&e.type!=="separator"){if(e.disabled){t.removeItem(a)}else{switch((i=e.type)!==null&&i!==void 0?i:"command"){case"command":if(e.command){if(!s.JSONExt.deepEqual(a.args,(r=e.args)!==null&&r!==void 0?r:{})){o(e,t,n)}}break;case"submenu":if(e.submenu){l(e.submenu,a.submenu,n)}}}}else{o(e,t,n)}}))}}})(Pe||(Pe={}));var Oe=n(24330);var ke=n.n(Oe);class Re{static reg(e){return new RegExp("^"+e+"$","i")}}Re.N={integer:`[+-]?[0-9]+`,integer_pos:`[+]?[0-9]+`,integer_zero_ff:`([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])`,number:`[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?`,number_pos:`[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?`,number_zero_hundred:`[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)`,number_zero_one:`[+]?(1([.][0]+)?|0([.][0-9]+)?)`};Re.B={angle:`(${Re.N.number}(deg|rad|grad|turn)|0)`,frequency:`${Re.N.number}(Hz|kHz)`,ident:String.raw`-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,len_or_perc:`(0|${Re.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,length:`(${Re.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,length_pos:`(${Re.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,percentage:`${Re.N.number}%`,percentage_pos:`${Re.N.number_pos}%`,percentage_zero_hundred:`${Re.N.number_zero_hundred}%`,string:String.raw`(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,time:`${Re.N.number}(s|ms)`,url:`url\\(.*?\\)`,z_index:`[+-]?[0-9]{1,7}`};Re.A={absolute_size:`xx-small|x-small|small|medium|large|x-large|xx-large`,attachment:`scroll|fixed|local`,bg_origin:`border-box|padding-box|content-box`,border_style:`none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset`,box:`border-box|padding-box|content-box`,display_inside:`auto|block|table|flex|grid`,display_outside:`block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption`,ending_shape:`circle|ellipse`,generic_family:`serif|sans-serif|cursive|fantasy|monospace`,generic_voice:`male|female|child`,relative_size:`smaller|larger`,repeat_style:`repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)`,side_or_corner:`(left|right)?\\s*(top|bottom)?`,single_animation_direction:`normal|reverse|alternate|alternate-reverse`,single_animation_fill_mode:`none|forwards|backwards|both`,single_animation_play_state:`running|paused`};Re._COLOR={hex:`\\#(0x)?[0-9a-f]+`,name:`aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen`,rgb:String.raw`rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,rgba:String.raw`rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${Re.N.integer_zero_ff}|${Re.N.number_zero_one}|${Re.B.percentage_zero_hundred})\s*\)`};Re._C={alpha:`${Re.N.integer_zero_ff}|${Re.N.number_zero_one}|${Re.B.percentage_zero_hundred}`,alphavalue:Re.N.number_zero_one,bg_position:`((${Re.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,bg_size:`(${Re.B.length_pos}|${Re.B.percentage}|auto){1,2}|cover|contain`,border_width:`thin|medium|thick|${Re.B.length}`,bottom:`${Re.B.length}|auto`,color:`${Re._COLOR.hex}|${Re._COLOR.rgb}|${Re._COLOR.rgba}|${Re._COLOR.name}`,family_name:`${Re.B.string}|(${Re.B.ident}\\s*)+`,image_decl:Re.B.url,left:`${Re.B.length}|auto`,loose_quotable_words:`(${Re.B.ident})+`,margin_width:`${Re.B.len_or_perc}|auto`,padding_width:`${Re.B.length_pos}|${Re.B.percentage_pos}`,page_url:Re.B.url,position:`((${Re.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,right:`${Re.B.length}|auto`,shadow:"",size:`closest-side|farthest-side|closest-corner|farthest-corner|${Re.B.length}|(${Re.B.len_or_perc})\\s+(${Re.B.len_or_perc})`,top:`${Re.B.length}|auto`};Re._C1={image_list:`image\\(\\s*(${Re.B.url})*\\s*(${Re.B.url}|${Re._C.color})\\s*\\)`,shadow:`((${Re._C.color})\\s+((${Re.B.length})\\s*){2,4}(s+inset)?)|((inset\\s+)?((${Re.B.length})\\s*){2,4}\\s*(${Re._C.color})?)`};Re._C2={bg_image:`(${Re.B.url}|${Re._C1.image_list})|none`,image:`${Re.B.url}|${Re._C1.image_list}`,shape:`rect\\(\\s*(${Re._C.top})\\s*,\\s*(${Re._C.right})\\s*,\\s*(${Re._C.bottom})\\s*,\\s*(${Re._C.left})\\s*\\)`};Re.C=Object.assign(Object.assign(Object.assign({},Re._C),Re._C1),Re._C2);Re.AP={border_collapse:`collapse|separate`,box:`normal|none|contents`,box_sizing:`content-box|padding-box|border-box`,caption_side:`top|bottom`,clear:`none|left|right|both`,direction:`ltr|rtl`,empty_cells:`show|hide`,float:`left|right|none`,font_stretch:`normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded`,font_style:`normal|italic|oblique`,font_variant:`normal|small-caps`,font_weight:`normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900`,list_style_position:`inside|outside`,list_style_type:`disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none`,overflow:`visible|hidden|scroll|auto`,overflow_wrap:`normal|break-word`,overflow_x:`visible|hidden|scroll|auto|no-display|no-content`,page_break_after:`auto|always|avoid|left|right`,page_break_before:`auto|always|avoid|left|right`,page_break_inside:`avoid|auto`,position:`static|relative|absolute`,resize:`none|both|horizontal|vertical`,speak:`normal|none|spell-out`,speak_header:`once|always`,speak_numeral:`digits|continuous`,speak_punctuation:`code|none`,table_layout:`auto|fixed`,text_align:`left|right|center|justify`,text_decoration:`none|((underline|overline|line-through|blink)\\s*)+`,text_transform:`capitalize|uppercase|lowercase|none`,text_wrap:`normal|unrestricted|none|suppress`,unicode_bidi:`normal|embed|bidi-override`,visibility:`visible|hidden|collapse`,white_space:`normal|pre|nowrap|pre-wrap|pre-line`,word_break:`normal|keep-all|break-all`};Re._CP={background_attachment:`${Re.A.attachment}(,\\s*${Re.A.attachment})*`,background_color:Re.C.color,background_origin:`${Re.A.box}(,\\s*${Re.A.box})*`,background_repeat:`${Re.A.repeat_style}(,\\s*${Re.A.repeat_style})*`,border:`((${Re.C.border_width}|${Re.A.border_style}|${Re.C.color})\\s*){1,3}`,border_radius:`((${Re.B.len_or_perc})\\s*){1,4}(\\/\\s*((${Re.B.len_or_perc})\\s*){1,4})?`,border_spacing:`${Re.B.length}\\s*(${Re.B.length})?`,border_top_color:Re.C.color,border_top_style:Re.A.border_style,border_width:`((${Re.C.border_width})\\s*){1,4}`,color:Re.C.color,cursor:`(${Re.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,display:`inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${Re.A.display_inside}|${Re.A.display_outside}|inherit|inline-box|inline-stack`,display_outside:Re.A.display_outside,elevation:`${Re.B.angle}|below|level|above|higher|lower`,font_family:`(${Re.C.family_name}|${Re.A.generic_family})(,\\s*(${Re.C.family_name}|${Re.A.generic_family}))*`,height:`${Re.B.length}|${Re.B.percentage}|auto`,letter_spacing:`normal|${Re.B.length}`,list_style_image:`${Re.C.image}|none`,margin_right:Re.C.margin_width,max_height:`${Re.B.length_pos}|${Re.B.percentage_pos}|none|auto`,min_height:`${Re.B.length_pos}|${Re.B.percentage_pos}|auto`,opacity:Re.C.alphavalue,outline_color:`${Re.C.color}|invert`,outline_width:Re.C.border_width,padding:`((${Re.C.padding_width})\\s*){1,4}`,padding_top:Re.C.padding_width,pitch_range:Re.N.number,right:`${Re.B.length}|${Re.B.percentage}|auto`,stress:Re.N.number,text_indent:`${Re.B.length}|${Re.B.percentage}`,text_shadow:`none|${Re.C.shadow}(,\\s*(${Re.C.shadow}))*`,volume:`${Re.N.number_pos}|${Re.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,word_wrap:Re.AP.overflow_wrap,zoom:`normal|${Re.N.number_pos}|${Re.B.percentage_pos}`,backface_visibility:Re.AP.visibility,background_clip:`${Re.A.box}(,\\s*(${Re.A.box}))*`,background_position:`${Re.C.bg_position}(,\\s*(${Re.C.bg_position}))*`,border_bottom_color:Re.C.color,border_bottom_style:Re.A.border_style,border_color:`((${Re.C.color})\\s*){1,4}`,border_left_color:Re.C.color,border_right_color:Re.C.color,border_style:`((${Re.A.border_style})\\s*){1,4}`,border_top_left_radius:`(${Re.B.length}|${Re.B.percentage})(\\s*(${Re.B.length}|${Re.B.percentage}))?`,border_top_width:Re.C.border_width,box_shadow:`none|${Re.C.shadow}(,\\s*(${Re.C.shadow}))*`,clip:`${Re.C.shape}|auto`,display_inside:Re.A.display_inside,font_size:`${Re.A.absolute_size}|${Re.A.relative_size}|${Re.B.length_pos}|${Re.B.percentage_pos}`,line_height:`normal|${Re.N.number_pos}|${Re.B.length_pos}|${Re.B.percentage_pos}`,margin_left:Re.C.margin_width,max_width:`${Re.B.length_pos}|${Re.B.percentage_pos}|none|auto`,outline_style:Re.A.border_style,padding_bottom:Re.C.padding_width,padding_right:Re.C.padding_width,perspective:`none|${Re.B.length}`,richness:Re.N.number,text_overflow:`((clip|ellipsis|${Re.B.string})\\s*){1,2}`,top:`${Re.B.length}|${Re.B.percentage}|auto`,width:`${Re.B.length_pos}|${Re.B.percentage_pos}|auto`,z_index:`auto|${Re.B.z_index}`,background:`(((${Re.C.bg_position}\\s*(\\/\\s*${Re.C.bg_size})?)|(${Re.A.repeat_style})|(${Re.A.attachment})|(${Re.A.bg_origin})|(${Re.C.bg_image})|(${Re.C.color}))\\s*)+`,background_size:`${Re.C.bg_size}(,\\s*${Re.C.bg_size})*`,border_bottom_left_radius:`(${Re.B.length}|${Re.B.percentage})(\\s*(${Re.B.length}|${Re.B.percentage}))?`,border_bottom_width:Re.C.border_width,border_left_style:Re.A.border_style,border_right_style:Re.A.border_style,border_top:`((${Re.C.border_width}|${Re.A.border_style}|${Re.C.color})\\s*){1,3}`,bottom:`${Re.B.len_or_perc}|auto`,list_style:`((${Re.AP.list_style_type}|${Re.AP.list_style_position}|${Re.C.image}|none})\\s*){1,3}`,margin_top:Re.C.margin_width,outline:`((${Re.C.color}|invert|${Re.A.border_style}|${Re.C.border_width})\\s*){1,3}`,overflow_y:Re.AP.overflow_x,pitch:`${Re.B.frequency}|x-low|low|medium|high|x-high`,vertical_align:`baseline|sub|super|top|text-top|middle|bottom|text-bottom|${Re.B.len_or_perc}`,word_spacing:`normal|${Re.B.length}`,background_image:`${Re.C.bg_image}(,\\s*${Re.C.bg_image})*`,border_bottom_right_radius:`(${Re.B.length}|${Re.B.percentage})(\\s*(${Re.B.length}|${Re.B.percentage}))?`,border_left_width:Re.C.border_width,border_right_width:Re.C.border_width,left:`${Re.B.len_or_perc}|auto`,margin_bottom:Re.C.margin_width,pause_after:`${Re.B.time}|${Re.B.percentage}`,speech_rate:`${Re.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,transition_duration:`${Re.B.time}(,\\s*${Re.B.time})*`,border_bottom:`((${Re.C.border_width}|${Re.A.border_style}|${Re.C.color})\\s*){1,3}`,border_right:`((${Re.C.border_width}|${Re.A.border_style}|${Re.C.color})\\s*){1,3}`,margin:`((${Re.C.margin_width})\\s*){1,4}`,padding_left:Re.C.padding_width,border_left:`((${Re.C.border_width}|${Re.A.border_style}|${Re.C.color})\\s*){1,3}`,quotes:`(${Re.B.string}\\s*${Re.B.string})+|none`,border_top_right_radius:`(${Re.B.length}|${Re.B.percentage})(\\s*(${Re.B.length}|${Re.B.percentage}))?`,min_width:`${Re.B.length_pos}|${Re.B.percentage_pos}|auto`};Re._CP1={font:`(((((${Re.AP.font_style}|${Re.AP.font_variant}|${Re.AP.font_weight})\\s*){1,3})?\\s*(${Re._CP.font_size})\\s*(\\/\\s*(${Re._CP.line_height}))?\\s+(${Re._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`};Re.CP=Object.assign(Object.assign({},Re._CP),Re._CP1);Re.BORDER_COLLAPSE=Re.reg(Re.AP.border_collapse);Re.BOX=Re.reg(Re.AP.box);Re.BOX_SIZING=Re.reg(Re.AP.box_sizing);Re.CAPTION_SIDE=Re.reg(Re.AP.caption_side);Re.CLEAR=Re.reg(Re.AP.clear);Re.DIRECTION=Re.reg(Re.AP.direction);Re.EMPTY_CELLS=Re.reg(Re.AP.empty_cells);Re.FLOAT=Re.reg(Re.AP.float);Re.FONT_STRETCH=Re.reg(Re.AP.font_stretch);Re.FONT_STYLE=Re.reg(Re.AP.font_style);Re.FONT_VARIANT=Re.reg(Re.AP.font_variant);Re.FONT_WEIGHT=Re.reg(Re.AP.font_weight);Re.LIST_STYLE_POSITION=Re.reg(Re.AP.list_style_position);Re.LIST_STYLE_TYPE=Re.reg(Re.AP.list_style_type);Re.OVERFLOW=Re.reg(Re.AP.overflow);Re.OVERFLOW_WRAP=Re.reg(Re.AP.overflow_wrap);Re.OVERFLOW_X=Re.reg(Re.AP.overflow_x);Re.PAGE_BREAK_AFTER=Re.reg(Re.AP.page_break_after);Re.PAGE_BREAK_BEFORE=Re.reg(Re.AP.page_break_before);Re.PAGE_BREAK_INSIDE=Re.reg(Re.AP.page_break_inside);Re.POSITION=Re.reg(Re.AP.position);Re.RESIZE=Re.reg(Re.AP.resize);Re.SPEAK=Re.reg(Re.AP.speak);Re.SPEAK_HEADER=Re.reg(Re.AP.speak_header);Re.SPEAK_NUMERAL=Re.reg(Re.AP.speak_numeral);Re.SPEAK_PUNCTUATION=Re.reg(Re.AP.speak_punctuation);Re.TABLE_LAYOUT=Re.reg(Re.AP.table_layout);Re.TEXT_ALIGN=Re.reg(Re.AP.text_align);Re.TEXT_DECORATION=Re.reg(Re.AP.text_decoration);Re.TEXT_TRANSFORM=Re.reg(Re.AP.text_transform);Re.TEXT_WRAP=Re.reg(Re.AP.text_wrap);Re.UNICODE_BIDI=Re.reg(Re.AP.unicode_bidi);Re.VISIBILITY=Re.reg(Re.AP.visibility);Re.WHITE_SPACE=Re.reg(Re.AP.white_space);Re.WORD_BREAK=Re.reg(Re.AP.word_break);Re.BACKGROUND_ATTACHMENT=Re.reg(Re.CP.background_attachment);Re.BACKGROUND_COLOR=Re.reg(Re.CP.background_color);Re.BACKGROUND_ORIGIN=Re.reg(Re.CP.background_origin);Re.BACKGROUND_REPEAT=Re.reg(Re.CP.background_repeat);Re.BORDER=Re.reg(Re.CP.border);Re.BORDER_RADIUS=Re.reg(Re.CP.border_radius);Re.BORDER_SPACING=Re.reg(Re.CP.border_spacing);Re.BORDER_TOP_COLOR=Re.reg(Re.CP.border_top_color);Re.BORDER_TOP_STYLE=Re.reg(Re.CP.border_top_style);Re.BORDER_WIDTH=Re.reg(Re.CP.border_width);Re.COLOR=Re.reg(Re.CP.color);Re.CURSOR=Re.reg(Re.CP.cursor);Re.DISPLAY=Re.reg(Re.CP.display);Re.DISPLAY_OUTSIDE=Re.reg(Re.CP.display_outside);Re.ELEVATION=Re.reg(Re.CP.elevation);Re.FONT_FAMILY=Re.reg(Re.CP.font_family);Re.HEIGHT=Re.reg(Re.CP.height);Re.LETTER_SPACING=Re.reg(Re.CP.letter_spacing);Re.LIST_STYLE_IMAGE=Re.reg(Re.CP.list_style_image);Re.MARGIN_RIGHT=Re.reg(Re.CP.margin_right);Re.MAX_HEIGHT=Re.reg(Re.CP.max_height);Re.MIN_HEIGHT=Re.reg(Re.CP.min_height);Re.OPACITY=Re.reg(Re.CP.opacity);Re.OUTLINE_COLOR=Re.reg(Re.CP.outline_color);Re.OUTLINE_WIDTH=Re.reg(Re.CP.outline_width);Re.PADDING=Re.reg(Re.CP.padding);Re.PADDING_TOP=Re.reg(Re.CP.padding_top);Re.PITCH_RANGE=Re.reg(Re.CP.pitch_range);Re.RIGHT=Re.reg(Re.CP.right);Re.STRESS=Re.reg(Re.CP.stress);Re.TEXT_INDENT=Re.reg(Re.CP.text_indent);Re.TEXT_SHADOW=Re.reg(Re.CP.text_shadow);Re.VOLUME=Re.reg(Re.CP.volume);Re.WORD_WRAP=Re.reg(Re.CP.word_wrap);Re.ZOOM=Re.reg(Re.CP.zoom);Re.BACKFACE_VISIBILITY=Re.reg(Re.CP.backface_visibility);Re.BACKGROUND_CLIP=Re.reg(Re.CP.background_clip);Re.BACKGROUND_POSITION=Re.reg(Re.CP.background_position);Re.BORDER_BOTTOM_COLOR=Re.reg(Re.CP.border_bottom_color);Re.BORDER_BOTTOM_STYLE=Re.reg(Re.CP.border_bottom_style);Re.BORDER_COLOR=Re.reg(Re.CP.border_color);Re.BORDER_LEFT_COLOR=Re.reg(Re.CP.border_left_color);Re.BORDER_RIGHT_COLOR=Re.reg(Re.CP.border_right_color);Re.BORDER_STYLE=Re.reg(Re.CP.border_style);Re.BORDER_TOP_LEFT_RADIUS=Re.reg(Re.CP.border_top_left_radius);Re.BORDER_TOP_WIDTH=Re.reg(Re.CP.border_top_width);Re.BOX_SHADOW=Re.reg(Re.CP.box_shadow);Re.CLIP=Re.reg(Re.CP.clip);Re.DISPLAY_INSIDE=Re.reg(Re.CP.display_inside);Re.FONT_SIZE=Re.reg(Re.CP.font_size);Re.LINE_HEIGHT=Re.reg(Re.CP.line_height);Re.MARGIN_LEFT=Re.reg(Re.CP.margin_left);Re.MAX_WIDTH=Re.reg(Re.CP.max_width);Re.OUTLINE_STYLE=Re.reg(Re.CP.outline_style);Re.PADDING_BOTTOM=Re.reg(Re.CP.padding_bottom);Re.PADDING_RIGHT=Re.reg(Re.CP.padding_right);Re.PERSPECTIVE=Re.reg(Re.CP.perspective);Re.RICHNESS=Re.reg(Re.CP.richness);Re.TEXT_OVERFLOW=Re.reg(Re.CP.text_overflow);Re.TOP=Re.reg(Re.CP.top);Re.WIDTH=Re.reg(Re.CP.width);Re.Z_INDEX=Re.reg(Re.CP.z_index);Re.BACKGROUND=Re.reg(Re.CP.background);Re.BACKGROUND_SIZE=Re.reg(Re.CP.background_size);Re.BORDER_BOTTOM_LEFT_RADIUS=Re.reg(Re.CP.border_bottom_left_radius);Re.BORDER_BOTTOM_WIDTH=Re.reg(Re.CP.border_bottom_width);Re.BORDER_LEFT_STYLE=Re.reg(Re.CP.border_left_style);Re.BORDER_RIGHT_STYLE=Re.reg(Re.CP.border_right_style);Re.BORDER_TOP=Re.reg(Re.CP.border_top);Re.BOTTOM=Re.reg(Re.CP.bottom);Re.LIST_STYLE=Re.reg(Re.CP.list_style);Re.MARGIN_TOP=Re.reg(Re.CP.margin_top);Re.OUTLINE=Re.reg(Re.CP.outline);Re.OVERFLOW_Y=Re.reg(Re.CP.overflow_y);Re.PITCH=Re.reg(Re.CP.pitch);Re.VERTICAL_ALIGN=Re.reg(Re.CP.vertical_align);Re.WORD_SPACING=Re.reg(Re.CP.word_spacing);Re.BACKGROUND_IMAGE=Re.reg(Re.CP.background_image);Re.BORDER_BOTTOM_RIGHT_RADIUS=Re.reg(Re.CP.border_bottom_right_radius);Re.BORDER_LEFT_WIDTH=Re.reg(Re.CP.border_left_width);Re.BORDER_RIGHT_WIDTH=Re.reg(Re.CP.border_right_width);Re.LEFT=Re.reg(Re.CP.left);Re.MARGIN_BOTTOM=Re.reg(Re.CP.margin_bottom);Re.PAUSE_AFTER=Re.reg(Re.CP.pause_after);Re.SPEECH_RATE=Re.reg(Re.CP.speech_rate);Re.TRANSITION_DURATION=Re.reg(Re.CP.transition_duration);Re.BORDER_BOTTOM=Re.reg(Re.CP.border_bottom);Re.BORDER_RIGHT=Re.reg(Re.CP.border_right);Re.MARGIN=Re.reg(Re.CP.margin);Re.PADDING_LEFT=Re.reg(Re.CP.padding_left);Re.BORDER_LEFT=Re.reg(Re.CP.border_left);Re.FONT=Re.reg(Re.CP.font);Re.QUOTES=Re.reg(Re.CP.quotes);Re.BORDER_TOP_RIGHT_RADIUS=Re.reg(Re.CP.border_top_right_radius);Re.MIN_WIDTH=Re.reg(Re.CP.min_width);class Se{constructor(){this._options={allowedTags:["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","button","canvas","caption","center","cite","code","col","colgroup","colspan","command","data","datalist","dd","del","details","dfn","dir","div","dl","dt","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","img","input","ins","kbd","label","legend","li","map","mark","menu","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rowspan","s","samp","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],allowedAttributes:{"*":["class","dir","draggable","hidden","id","inert","itemprop","itemref","itemscope","lang","spellcheck","style","title","translate"],a:["accesskey","coords","href","hreflang","name","rel","shape","tabindex","target","type"],area:["accesskey","alt","coords","href","nohref","shape","tabindex"],audio:["autoplay","controls","loop","mediagroup","muted","preload","src"],bdo:["dir"],blockquote:["cite"],br:["clear"],button:["accesskey","data-commandlinker-args","data-commandlinker-command","disabled","name","tabindex","type","value"],canvas:["height","width"],caption:["align"],col:["align","char","charoff","span","valign","width"],colgroup:["align","char","charoff","span","valign","width"],command:["checked","command","disabled","icon","label","radiogroup","type"],data:["value"],del:["cite","datetime"],details:["open"],dir:["compact"],div:["align"],dl:["compact"],fieldset:["disabled"],font:["color","face","size"],form:["accept","autocomplete","enctype","method","name","novalidate"],h1:["align"],h2:["align"],h3:["align"],h4:["align"],h5:["align"],h6:["align"],hr:["align","noshade","size","width"],iframe:["align","frameborder","height","marginheight","marginwidth","width"],img:["align","alt","border","height","hspace","ismap","name","src","usemap","vspace","width"],input:["accept","accesskey","align","alt","autocomplete","checked","disabled","inputmode","ismap","list","max","maxlength","min","multiple","name","placeholder","readonly","required","size","src","step","tabindex","type","usemap","value"],ins:["cite","datetime"],label:["accesskey","for"],legend:["accesskey","align"],li:["type","value"],map:["name"],menu:["compact","label","type"],meter:["high","low","max","min","value"],ol:["compact","reversed","start","type"],optgroup:["disabled","label"],option:["disabled","label","selected","value"],output:["for","name"],p:["align"],pre:["width"],progress:["max","min","value"],q:["cite"],select:["autocomplete","disabled","multiple","name","required","size","tabindex"],source:["type"],table:["align","bgcolor","border","cellpadding","cellspacing","frame","rules","summary","width"],tbody:["align","char","charoff","valign"],td:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],textarea:["accesskey","autocomplete","cols","disabled","inputmode","name","placeholder","readonly","required","rows","tabindex","wrap"],tfoot:["align","char","charoff","valign"],th:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],thead:["align","char","charoff","valign"],tr:["align","bgcolor","char","charoff","valign"],track:["default","kind","label","srclang"],ul:["compact","type"],video:["autoplay","controls","height","loop","mediagroup","muted","poster","preload","src","width"]},allowedStyles:{"*":{"backface-visibility":[Re.BACKFACE_VISIBILITY],background:[Re.BACKGROUND],"background-attachment":[Re.BACKGROUND_ATTACHMENT],"background-clip":[Re.BACKGROUND_CLIP],"background-color":[Re.BACKGROUND_COLOR],"background-image":[Re.BACKGROUND_IMAGE],"background-origin":[Re.BACKGROUND_ORIGIN],"background-position":[Re.BACKGROUND_POSITION],"background-repeat":[Re.BACKGROUND_REPEAT],"background-size":[Re.BACKGROUND_SIZE],border:[Re.BORDER],"border-bottom":[Re.BORDER_BOTTOM],"border-bottom-color":[Re.BORDER_BOTTOM_COLOR],"border-bottom-left-radius":[Re.BORDER_BOTTOM_LEFT_RADIUS],"border-bottom-right-radius":[Re.BORDER_BOTTOM_RIGHT_RADIUS],"border-bottom-style":[Re.BORDER_BOTTOM_STYLE],"border-bottom-width":[Re.BORDER_BOTTOM_WIDTH],"border-collapse":[Re.BORDER_COLLAPSE],"border-color":[Re.BORDER_COLOR],"border-left":[Re.BORDER_LEFT],"border-left-color":[Re.BORDER_LEFT_COLOR],"border-left-style":[Re.BORDER_LEFT_STYLE],"border-left-width":[Re.BORDER_LEFT_WIDTH],"border-radius":[Re.BORDER_RADIUS],"border-right":[Re.BORDER_RIGHT],"border-right-color":[Re.BORDER_RIGHT_COLOR],"border-right-style":[Re.BORDER_RIGHT_STYLE],"border-right-width":[Re.BORDER_RIGHT_WIDTH],"border-spacing":[Re.BORDER_SPACING],"border-style":[Re.BORDER_STYLE],"border-top":[Re.BORDER_TOP],"border-top-color":[Re.BORDER_TOP_COLOR],"border-top-left-radius":[Re.BORDER_TOP_LEFT_RADIUS],"border-top-right-radius":[Re.BORDER_TOP_RIGHT_RADIUS],"border-top-style":[Re.BORDER_TOP_STYLE],"border-top-width":[Re.BORDER_TOP_WIDTH],"border-width":[Re.BORDER_WIDTH],bottom:[Re.BOTTOM],box:[Re.BOX],"box-shadow":[Re.BOX_SHADOW],"box-sizing":[Re.BOX_SIZING],"caption-side":[Re.CAPTION_SIDE],clear:[Re.CLEAR],clip:[Re.CLIP],color:[Re.COLOR],cursor:[Re.CURSOR],direction:[Re.DIRECTION],display:[Re.DISPLAY],"display-inside":[Re.DISPLAY_INSIDE],"display-outside":[Re.DISPLAY_OUTSIDE],elevation:[Re.ELEVATION],"empty-cells":[Re.EMPTY_CELLS],float:[Re.FLOAT],font:[Re.FONT],"font-family":[Re.FONT_FAMILY],"font-size":[Re.FONT_SIZE],"font-stretch":[Re.FONT_STRETCH],"font-style":[Re.FONT_STYLE],"font-variant":[Re.FONT_VARIANT],"font-weight":[Re.FONT_WEIGHT],height:[Re.HEIGHT],left:[Re.LEFT],"letter-spacing":[Re.LETTER_SPACING],"line-height":[Re.LINE_HEIGHT],"list-style":[Re.LIST_STYLE],"list-style-image":[Re.LIST_STYLE_IMAGE],"list-style-position":[Re.LIST_STYLE_POSITION],"list-style-type":[Re.LIST_STYLE_TYPE],margin:[Re.MARGIN],"margin-bottom":[Re.MARGIN_BOTTOM],"margin-left":[Re.MARGIN_LEFT],"margin-right":[Re.MARGIN_RIGHT],"margin-top":[Re.MARGIN_TOP],"max-height":[Re.MAX_HEIGHT],"max-width":[Re.MAX_WIDTH],"min-height":[Re.MIN_HEIGHT],"min-width":[Re.MIN_WIDTH],opacity:[Re.OPACITY],outline:[Re.OUTLINE],"outline-color":[Re.OUTLINE_COLOR],"outline-style":[Re.OUTLINE_STYLE],"outline-width":[Re.OUTLINE_WIDTH],overflow:[Re.OVERFLOW],"overflow-wrap":[Re.OVERFLOW_WRAP],"overflow-x":[Re.OVERFLOW_X],"overflow-y":[Re.OVERFLOW_Y],padding:[Re.PADDING],"padding-bottom":[Re.PADDING_BOTTOM],"padding-left":[Re.PADDING_LEFT],"padding-right":[Re.PADDING_RIGHT],"padding-top":[Re.PADDING_TOP],"page-break-after":[Re.PAGE_BREAK_AFTER],"page-break-before":[Re.PAGE_BREAK_BEFORE],"page-break-inside":[Re.PAGE_BREAK_INSIDE],"pause-after":[Re.PAUSE_AFTER],perspective:[Re.PERSPECTIVE],pitch:[Re.PITCH],"pitch-range":[Re.PITCH_RANGE],position:[Re.POSITION],quotes:[Re.QUOTES],resize:[Re.RESIZE],richness:[Re.RICHNESS],right:[Re.RIGHT],speak:[Re.SPEAK],"speak-header":[Re.SPEAK_HEADER],"speak-numeral":[Re.SPEAK_NUMERAL],"speak-punctuation":[Re.SPEAK_PUNCTUATION],"speech-rate":[Re.SPEECH_RATE],stress:[Re.STRESS],"table-layout":[Re.TABLE_LAYOUT],"text-align":[Re.TEXT_ALIGN],"text-decoration":[Re.TEXT_DECORATION],"text-indent":[Re.TEXT_INDENT],"text-overflow":[Re.TEXT_OVERFLOW],"text-shadow":[Re.TEXT_SHADOW],"text-transform":[Re.TEXT_TRANSFORM],"text-wrap":[Re.TEXT_WRAP],top:[Re.TOP],"unicode-bidi":[Re.UNICODE_BIDI],"vertical-align":[Re.VERTICAL_ALIGN],visibility:[Re.VISIBILITY],volume:[Re.VOLUME],"white-space":[Re.WHITE_SPACE],width:[Re.WIDTH],"word-break":[Re.WORD_BREAK],"word-spacing":[Re.WORD_SPACING],"word-wrap":[Re.WORD_WRAP],"z-index":[Re.Z_INDEX],zoom:[Re.ZOOM]}},transformTags:{a:ke().simpleTransform("a",{rel:"nofollow"}),input:ke().simpleTransform("input",{disabled:"disabled"})},allowedSchemesByTag:{img:ke().defaults.allowedSchemes.concat(["attachment"])},allowedSchemesAppliedToAttributes:["href","cite"]}}sanitize(e,t){return ke()(e,Object.assign(Object.assign({},this._options),t||{}))}}const Ae=new Se;const Ie=new s.Token("@jupyterlab/apputils:ISplashScreen");var De=n(76487);const Be=75;const Ne=20;class xe{constructor(e){this._current=null;this._links=[];this._overrides={};this._overrideProps={};this._outstanding=null;this._pending=0;this._requests={};this._themes={};this._themeChanged=new a.Signal(this);const{host:t,key:n,splash:s,url:i}=e;this.translator=e.translator||V.nullTranslator;this._trans=this.translator.load("jupyterlab");const o=e.settings;this._base=i;this._host=t;this._splash=s||null;void o.load(n).then((e=>{this._settings=e;this._initOverrideProps();this._settings.changed.connect(this._loadSettings,this);this._loadSettings()}))}get theme(){return this._current}get themes(){return Object.keys(this._themes)}get themeChanged(){return this._themeChanged}getCSS(e){var t;return(t=this._overrides[e])!==null&&t!==void 0?t:getComputedStyle(document.documentElement).getPropertyValue(`--jp-${e}`)}loadCSS(e){const t=this._base;const n=ee.URLExt.isLocal(e)?ee.URLExt.join(t,e):e;const s=this._links;return new Promise(((e,t)=>{const i=document.createElement("link");i.setAttribute("rel","stylesheet");i.setAttribute("type","text/css");i.setAttribute("href",n);i.addEventListener("load",(()=>{e(undefined)}));i.addEventListener("error",(()=>{t(`Stylesheet failed to load: ${n}`)}));document.body.appendChild(i);s.push(i);this.loadCSSOverrides()}))}loadCSSOverrides(){var e;const t=(e=this._settings.user["overrides"])!==null&&e!==void 0?e:{};Object.keys(Object.assign(Object.assign({},this._overrides),t)).forEach((e=>{const n=t[e];if(n&&this.validateCSS(e,n)){document.documentElement.style.setProperty(`--jp-${e}`,n)}else{delete t[e];document.documentElement.style.removeProperty(`--jp-${e}`)}}));this._overrides=t}validateCSS(e,t){const n=this._overrideProps[e];if(!n){console.warn("CSS validation failed: could not find property corresponding to key.\n"+`key: '${e}', val: '${t}'`);return false}if(CSS.supports(n,t)){return true}else{console.warn("CSS validation failed: invalid value.\n"+`key: '${e}', val: '${t}', prop: '${n}'`);return false}}register(e){const{name:t}=e;const n=this._themes;if(n[t]){throw new Error(`Theme already registered for ${t}`)}n[t]=e;return new De.DisposableDelegate((()=>{delete n[t]}))}setCSSOverride(e,t){return this._settings.set("overrides",Object.assign(Object.assign({},this._overrides),{[e]:t}))}setTheme(e){return this._settings.set("theme",e)}isLight(e){return this._themes[e].isLight}incrFontSize(e){return this._incrFontSize(e,true)}decrFontSize(e){return this._incrFontSize(e,false)}themeScrollbars(e){return!!this._settings.composite["theme-scrollbars"]&&!!this._themes[e].themeScrollbars}isToggledThemeScrollbars(){return!!this._settings.composite["theme-scrollbars"]}toggleThemeScrollbars(){return this._settings.set("theme-scrollbars",!this._settings.composite["theme-scrollbars"])}getDisplayName(e){var t,n;return(n=(t=this._themes[e])===null||t===void 0?void 0:t.displayName)!==null&&n!==void 0?n:e}_incrFontSize(e,t=true){var n;const s=((n=this.getCSS(e))!==null&&n!==void 0?n:"13px").split(/([a-zA-Z]+)/);const i=(t?1:-1)*(s[1]==="em"?.1:1);return this.setCSSOverride(e,`${Number(s[0])+i}${s[1]}`)}_initOverrideProps(){const e=this._settings.schema.definitions;const t=e.cssOverrides.properties;Object.keys(t).forEach((e=>{this._overrideProps[e]=t[e].description}))}_loadSettings(){const e=this._outstanding;const t=this._pending;const n=this._requests;if(t){window.clearTimeout(t);this._pending=0}const s=this._settings;const i=this._themes;const o=s.composite["theme"];if(e){e.then((()=>{this._loadSettings()})).catch((()=>{this._loadSettings()}));this._outstanding=null;return}n[o]=n[o]?n[o]+1:1;if(i[o]){this._outstanding=this._loadTheme(o);delete n[o];return}if(n[o]>Ne){const e=s.default("theme");delete n[o];if(!i[e]){this._onError(this._trans.__("Neither theme %1 nor default %2 loaded.",o,e));return}console.warn(`Could not load theme ${o}, using default ${e}.`);this._outstanding=this._loadTheme(e);return}this._pending=window.setTimeout((()=>{this._loadSettings()}),Be)}_loadTheme(e){const t=this._current;const n=this._links;const s=this._themes;const i=this._splash?this._splash.show(s[e].isLight):new De.DisposableDelegate((()=>undefined));n.forEach((e=>{if(e.parentElement){e.parentElement.removeChild(e)}}));n.length=0;const o=t?s[t].unload():Promise.resolve();return Promise.all([o,s[e].load()]).then((()=>{this._current=e;this._themeChanged.emit({name:"theme",oldValue:t,newValue:e});this._host.hide();requestAnimationFrame((()=>{this._host.show();$e.fitAll(this._host);i.dispose()}))})).catch((e=>{this._onError(e);i.dispose()}))}_onError(e){void R({title:this._trans.__("Error Loading Theme"),body:String(e),buttons:[A.okButton({label:this._trans.__("OK")})]})}}var $e;(function(e){function t(e){(0,m.each)(e.children(),t);e.fit()}e.fitAll=t})($e||($e={}));const Le=new s.Token("@jupyterlab/apputils:ISessionContextDialogs");const Me=new s.Token("@jupyterlab/apputils:IThemeManager");const je=new s.Token("@jupyterlab/apputils:ISanitizer");const We=new s.Token("@jupyterlab/apputils:IWindowResolver");class Ke{get name(){return this._name}resolve(e){return He.resolve(e).then((e=>{this._name=e}))}}var He;(function(e){const t="@jupyterlab/statedb:StateDB";const n=`${t}:beacon`;const i=Math.floor(200+Math.random()*300);const o=`${t}:window`;let r=null;let a=null;const l=new s.PromiseDelegate;const d={};let c=null;let h=false;function u(){window.addEventListener("storage",(e=>{const{key:t,newValue:s}=e;if(s===null){return}if(t===n&&s!==r&&a!==null){p(h?c:a);return}if(h||t!==o){return}const i=s.replace(/\-\d+$/,"");d[i]=null;if(!a||a in d){_()}}))}function p(e){if(e===null){return}const{localStorage:t}=window;t.setItem(o,`${e}-${(new Date).getTime()}`)}function _(){h=true;r=null;l.reject(`Window name candidate "${a}" already exists`)}function g(e){if(h){return l.promise}a=e;if(a in d){_();return l.promise}const{localStorage:t,setTimeout:s}=window;s((()=>{if(h){return}if(!a||a in d){return _()}h=true;r=null;l.resolve(c=a);p(c)}),i);r=`${Math.random()}-${(new Date).getTime()}`;t.setItem(n,r);return l.promise}e.resolve=g;(()=>{u()})()})(He||(He={}))},76527:()=>{},96969:()=>{},32232:()=>{},24195:()=>{},73443:()=>{}}]);