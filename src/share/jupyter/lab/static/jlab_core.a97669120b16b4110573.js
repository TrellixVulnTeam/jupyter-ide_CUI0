/*! For license information please see jlab_core.a97669120b16b4110573.js.LICENSE.txt */
(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[3472],{25578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015);var r=n.n(i);var o=n(23645);var a=n.n(o);var s=a()(r());s.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ body.p-mod-override-cursor *, /* </DEPRECATED> */\nbody.lm-mod-override-cursor * {\n  cursor: inherit !important;\n}\n","",{version:3,sources:["webpack://./../../node_modules/@lumino/dragdrop/style/index.css"],names:[],mappings:"AAAA;;;;;;;8EAO8E;;;AAG9E,iBAAiB,EAAE;;EAEjB,0BAA0B;AAC5B",sourcesContent:["/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ body.p-mod-override-cursor *, /* </DEPRECATED> */\nbody.lm-mod-override-cursor * {\n  cursor: inherit !important;\n}\n"],sourceRoot:""}]);const u=s},33980:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015);var r=n.n(i);var o=n(23645);var a=n.n(o);var s=a()(r());s.push([e.id,'/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-CommandPalette, /* </DEPRECATED> */\n.lm-CommandPalette {\n  display: flex;\n  flex-direction: column;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-search, /* </DEPRECATED> */\n.lm-CommandPalette-search {\n  flex: 0 0 auto;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-content, /* </DEPRECATED> */\n.lm-CommandPalette-content {\n  flex: 1 1 auto;\n  margin: 0;\n  padding: 0;\n  min-height: 0;\n  overflow: auto;\n  list-style-type: none;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-header, /* </DEPRECATED> */\n.lm-CommandPalette-header {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-item, /* </DEPRECATED> */\n.lm-CommandPalette-item {\n  display: flex;\n  flex-direction: row;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-itemIcon, /* </DEPRECATED> */\n.lm-CommandPalette-itemIcon {\n  flex: 0 0 auto;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-itemContent, /* </DEPRECATED> */\n.lm-CommandPalette-itemContent {\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-itemShortcut, /* </DEPRECATED> */\n.lm-CommandPalette-itemShortcut {\n  flex: 0 0 auto;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-itemLabel, /* </DEPRECATED> */\n.lm-CommandPalette-itemLabel {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.lm-close-icon {\n\tborder:1px solid transparent;\n  background-color: transparent;\n  position: absolute;\n\tz-index:1;\n\tright:3%;\n\ttop: 0;\n\tbottom: 0;\n\tmargin: auto;\n\tpadding: 7px 0;\n\tdisplay: none;\n\tvertical-align: middle;\n  outline: 0;\n  cursor: pointer;\n}\n.lm-close-icon:after {\n\tcontent: "X";\n\tdisplay: block;\n\twidth: 15px;\n\theight: 15px;\n\ttext-align: center;\n\tcolor:#000;\n\tfont-weight: normal;\n\tfont-size: 12px;\n\tcursor: pointer;\n}\n',"",{version:3,sources:["webpack://./../../node_modules/@lumino/widgets/style/commandpalette.css"],names:[],mappings:"AAAA;;;;;;;8EAO8E;;;AAG9E,iBAAiB,EAAE;;EAEjB,aAAa;EACb,sBAAsB;EACtB,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;;AAGA,iBAAiB,EAAE;;EAEjB,cAAc;AAChB;;;AAGA,iBAAiB,EAAE;;EAEjB,cAAc;EACd,SAAS;EACT,UAAU;EACV,aAAa;EACb,cAAc;EACd,qBAAqB;AACvB;;;AAGA,iBAAiB,EAAE;;EAEjB,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;AACzB;;;AAGA,iBAAiB,EAAE;;EAEjB,aAAa;EACb,mBAAmB;AACrB;;;AAGA,iBAAiB,EAAE;;EAEjB,cAAc;AAChB;;;AAGA,iBAAiB,EAAE;;EAEjB,cAAc;EACd,gBAAgB;AAClB;;;AAGA,iBAAiB,EAAE;;EAEjB,cAAc;AAChB;;;AAGA,iBAAiB,EAAE;;EAEjB,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;CACC,4BAA4B;EAC3B,6BAA6B;EAC7B,kBAAkB;CACnB,SAAS;CACT,QAAQ;CACR,MAAM;CACN,SAAS;CACT,YAAY;CACZ,cAAc;CACd,aAAa;CACb,sBAAsB;EACrB,UAAU;EACV,eAAe;AACjB;AACA;CACC,YAAY;CACZ,cAAc;CACd,WAAW;CACX,YAAY;CACZ,kBAAkB;CAClB,UAAU;CACV,mBAAmB;CACnB,eAAe;CACf,eAAe;AAChB",sourcesContent:['/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-CommandPalette, /* </DEPRECATED> */\n.lm-CommandPalette {\n  display: flex;\n  flex-direction: column;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-search, /* </DEPRECATED> */\n.lm-CommandPalette-search {\n  flex: 0 0 auto;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-content, /* </DEPRECATED> */\n.lm-CommandPalette-content {\n  flex: 1 1 auto;\n  margin: 0;\n  padding: 0;\n  min-height: 0;\n  overflow: auto;\n  list-style-type: none;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-header, /* </DEPRECATED> */\n.lm-CommandPalette-header {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-item, /* </DEPRECATED> */\n.lm-CommandPalette-item {\n  display: flex;\n  flex-direction: row;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-itemIcon, /* </DEPRECATED> */\n.lm-CommandPalette-itemIcon {\n  flex: 0 0 auto;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-itemContent, /* </DEPRECATED> */\n.lm-CommandPalette-itemContent {\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-itemShortcut, /* </DEPRECATED> */\n.lm-CommandPalette-itemShortcut {\n  flex: 0 0 auto;\n}\n\n\n/* <DEPRECATED> */ .p-CommandPalette-itemLabel, /* </DEPRECATED> */\n.lm-CommandPalette-itemLabel {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.lm-close-icon {\n\tborder:1px solid transparent;\n  background-color: transparent;\n  position: absolute;\n\tz-index:1;\n\tright:3%;\n\ttop: 0;\n\tbottom: 0;\n\tmargin: auto;\n\tpadding: 7px 0;\n\tdisplay: none;\n\tvertical-align: middle;\n  outline: 0;\n  cursor: pointer;\n}\n.lm-close-icon:after {\n\tcontent: "X";\n\tdisplay: block;\n\twidth: 15px;\n\theight: 15px;\n\ttext-align: center;\n\tcolor:#000;\n\tfont-weight: normal;\n\tfont-size: 12px;\n\tcursor: pointer;\n}\n'],sourceRoot:""}]);const u=s},812:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015);var r=n.n(i);var o=n(23645);var a=n.n(o);var s=a()(r());s.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-DockPanel, /* </DEPRECATED> */\n.lm-DockPanel {\n  z-index: 0;\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-widget, /* </DEPRECATED> */\n.lm-DockPanel-widget {\n  z-index: 0;\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-tabBar, /* </DEPRECATED> */\n.lm-DockPanel-tabBar {\n  z-index: 1;\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-handle, /* </DEPRECATED> */\n.lm-DockPanel-handle {\n  z-index: 2;\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-handle.p-mod-hidden, /* </DEPRECATED> */\n.lm-DockPanel-handle.lm-mod-hidden {\n  display: none !important;\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-handle:after, /* </DEPRECATED> */\n.lm-DockPanel-handle:after {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  content: '';\n}\n\n\n/* <DEPRECATED> */\n.p-DockPanel-handle[data-orientation='horizontal'],\n/* </DEPRECATED> */\n.lm-DockPanel-handle[data-orientation='horizontal'] {\n  cursor: ew-resize;\n}\n\n\n/* <DEPRECATED> */\n.p-DockPanel-handle[data-orientation='vertical'],\n/* </DEPRECATED> */\n.lm-DockPanel-handle[data-orientation='vertical'] {\n  cursor: ns-resize;\n}\n\n\n/* <DEPRECATED> */\n.p-DockPanel-handle[data-orientation='horizontal']:after,\n/* </DEPRECATED> */\n.lm-DockPanel-handle[data-orientation='horizontal']:after {\n  left: 50%;\n  min-width: 8px;\n  transform: translateX(-50%);\n}\n\n\n/* <DEPRECATED> */\n.p-DockPanel-handle[data-orientation='vertical']:after,\n/* </DEPRECATED> */\n.lm-DockPanel-handle[data-orientation='vertical']:after {\n  top: 50%;\n  min-height: 8px;\n  transform: translateY(-50%);\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-overlay, /* </DEPRECATED> */\n.lm-DockPanel-overlay {\n  z-index: 3;\n  box-sizing: border-box;\n  pointer-events: none;\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-overlay.p-mod-hidden, /* </DEPRECATED> */\n.lm-DockPanel-overlay.lm-mod-hidden {\n  display: none !important;\n}\n","",{version:3,sources:["webpack://./../../node_modules/@lumino/widgets/style/dockpanel.css"],names:[],mappings:"AAAA;;;;;;;8EAO8E;;;AAG9E,iBAAiB,EAAE;;EAEjB,UAAU;AACZ;;;AAGA,iBAAiB,EAAE;;EAEjB,UAAU;AACZ;;;AAGA,iBAAiB,EAAE;;EAEjB,UAAU;AACZ;;;AAGA,iBAAiB,EAAE;;EAEjB,UAAU;AACZ;;;AAGA,iBAAiB,EAAE;;EAEjB,wBAAwB;AAC1B;;;AAGA,iBAAiB,EAAE;;EAEjB,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,WAAW;AACb;;;AAGA,iBAAiB;AACjB;;;EAGE,iBAAiB;AACnB;;;AAGA,iBAAiB;AACjB;;;EAGE,iBAAiB;AACnB;;;AAGA,iBAAiB;AACjB;;;EAGE,SAAS;EACT,cAAc;EACd,2BAA2B;AAC7B;;;AAGA,iBAAiB;AACjB;;;EAGE,QAAQ;EACR,eAAe;EACf,2BAA2B;AAC7B;;;AAGA,iBAAiB,EAAE;;EAEjB,UAAU;EACV,sBAAsB;EACtB,oBAAoB;AACtB;;;AAGA,iBAAiB,EAAE;;EAEjB,wBAAwB;AAC1B",sourcesContent:["/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-DockPanel, /* </DEPRECATED> */\n.lm-DockPanel {\n  z-index: 0;\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-widget, /* </DEPRECATED> */\n.lm-DockPanel-widget {\n  z-index: 0;\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-tabBar, /* </DEPRECATED> */\n.lm-DockPanel-tabBar {\n  z-index: 1;\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-handle, /* </DEPRECATED> */\n.lm-DockPanel-handle {\n  z-index: 2;\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-handle.p-mod-hidden, /* </DEPRECATED> */\n.lm-DockPanel-handle.lm-mod-hidden {\n  display: none !important;\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-handle:after, /* </DEPRECATED> */\n.lm-DockPanel-handle:after {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  content: '';\n}\n\n\n/* <DEPRECATED> */\n.p-DockPanel-handle[data-orientation='horizontal'],\n/* </DEPRECATED> */\n.lm-DockPanel-handle[data-orientation='horizontal'] {\n  cursor: ew-resize;\n}\n\n\n/* <DEPRECATED> */\n.p-DockPanel-handle[data-orientation='vertical'],\n/* </DEPRECATED> */\n.lm-DockPanel-handle[data-orientation='vertical'] {\n  cursor: ns-resize;\n}\n\n\n/* <DEPRECATED> */\n.p-DockPanel-handle[data-orientation='horizontal']:after,\n/* </DEPRECATED> */\n.lm-DockPanel-handle[data-orientation='horizontal']:after {\n  left: 50%;\n  min-width: 8px;\n  transform: translateX(-50%);\n}\n\n\n/* <DEPRECATED> */\n.p-DockPanel-handle[data-orientation='vertical']:after,\n/* </DEPRECATED> */\n.lm-DockPanel-handle[data-orientation='vertical']:after {\n  top: 50%;\n  min-height: 8px;\n  transform: translateY(-50%);\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-overlay, /* </DEPRECATED> */\n.lm-DockPanel-overlay {\n  z-index: 3;\n  box-sizing: border-box;\n  pointer-events: none;\n}\n\n\n/* <DEPRECATED> */ .p-DockPanel-overlay.p-mod-hidden, /* </DEPRECATED> */\n.lm-DockPanel-overlay.lm-mod-hidden {\n  display: none !important;\n}\n"],sourceRoot:""}]);const u=s},27100:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(94015);var r=n.n(i);var o=n(23645);var a=n.n(o);var s=n(79879);var u=n(33980);var l=n(812);var c=n(50829);var h=n(29874);var d=n(60561);var f=n(23221);var p=n(29782);var m=n(23102);var v=a()(r());v.i(s.Z);v.i(u.Z);v.i(l.Z);v.i(c.Z);v.i(h.Z);v.i(d.Z);v.i(f.Z);v.i(p.Z);v.i(m.Z);v.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n","",{version:3,sources:["webpack://./../../node_modules/@lumino/widgets/style/index.css"],names:[],mappings:"AAAA;;;;;;;8EAO8E",sourcesContent:["/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n@import './widget.css';\n@import './commandpalette.css';\n@import './dockpanel.css';\n@import './menu.css';\n@import './menubar.css';\n@import './scrollbar.css';\n@import './splitpanel.css';\n@import './tabbar.css';\n@import './tabpanel.css';\n"],sourceRoot:""}]);const g=v},50829:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015);var r=n.n(i);var o=n(23645);var a=n.n(o);var s=a()(r());s.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-Menu, /* </DEPRECATED> */\n.lm-Menu {\n  z-index: 10000;\n  position: absolute;\n  white-space: nowrap;\n  overflow-x: hidden;\n  overflow-y: auto;\n  outline: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n/* <DEPRECATED> */ .p-Menu-content, /* </DEPRECATED> */\n.lm-Menu-content {\n  margin: 0;\n  padding: 0;\n  display: table;\n  list-style-type: none;\n}\n\n\n/* <DEPRECATED> */ .p-Menu-item, /* </DEPRECATED> */\n.lm-Menu-item {\n  display: table-row;\n}\n\n\n/* <DEPRECATED> */\n.p-Menu-item.p-mod-hidden,\n.p-Menu-item.p-mod-collapsed,\n/* </DEPRECATED> */\n.lm-Menu-item.lm-mod-hidden,\n.lm-Menu-item.lm-mod-collapsed {\n  display: none !important;\n}\n\n\n/* <DEPRECATED> */\n.p-Menu-itemIcon,\n.p-Menu-itemSubmenuIcon,\n/* </DEPRECATED> */\n.lm-Menu-itemIcon,\n.lm-Menu-itemSubmenuIcon {\n  display: table-cell;\n  text-align: center;\n}\n\n\n/* <DEPRECATED> */ .p-Menu-itemLabel, /* </DEPRECATED> */\n.lm-Menu-itemLabel {\n  display: table-cell;\n  text-align: left;\n}\n\n\n/* <DEPRECATED> */ .p-Menu-itemShortcut, /* </DEPRECATED> */\n.lm-Menu-itemShortcut {\n  display: table-cell;\n  text-align: right;\n}\n","",{version:3,sources:["webpack://./../../node_modules/@lumino/widgets/style/menu.css"],names:[],mappings:"AAAA;;;;;;;8EAO8E;;;AAG9E,iBAAiB,EAAE;;EAEjB,cAAc;EACd,kBAAkB;EAClB,mBAAmB;EACnB,kBAAkB;EAClB,gBAAgB;EAChB,aAAa;EACb,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;;AAGA,iBAAiB,EAAE;;EAEjB,SAAS;EACT,UAAU;EACV,cAAc;EACd,qBAAqB;AACvB;;;AAGA,iBAAiB,EAAE;;EAEjB,kBAAkB;AACpB;;;AAGA,iBAAiB;AACjB;;;;;EAKE,wBAAwB;AAC1B;;;AAGA,iBAAiB;AACjB;;;;;EAKE,mBAAmB;EACnB,kBAAkB;AACpB;;;AAGA,iBAAiB,EAAE;;EAEjB,mBAAmB;EACnB,gBAAgB;AAClB;;;AAGA,iBAAiB,EAAE;;EAEjB,mBAAmB;EACnB,iBAAiB;AACnB",sourcesContent:["/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-Menu, /* </DEPRECATED> */\n.lm-Menu {\n  z-index: 10000;\n  position: absolute;\n  white-space: nowrap;\n  overflow-x: hidden;\n  overflow-y: auto;\n  outline: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n/* <DEPRECATED> */ .p-Menu-content, /* </DEPRECATED> */\n.lm-Menu-content {\n  margin: 0;\n  padding: 0;\n  display: table;\n  list-style-type: none;\n}\n\n\n/* <DEPRECATED> */ .p-Menu-item, /* </DEPRECATED> */\n.lm-Menu-item {\n  display: table-row;\n}\n\n\n/* <DEPRECATED> */\n.p-Menu-item.p-mod-hidden,\n.p-Menu-item.p-mod-collapsed,\n/* </DEPRECATED> */\n.lm-Menu-item.lm-mod-hidden,\n.lm-Menu-item.lm-mod-collapsed {\n  display: none !important;\n}\n\n\n/* <DEPRECATED> */\n.p-Menu-itemIcon,\n.p-Menu-itemSubmenuIcon,\n/* </DEPRECATED> */\n.lm-Menu-itemIcon,\n.lm-Menu-itemSubmenuIcon {\n  display: table-cell;\n  text-align: center;\n}\n\n\n/* <DEPRECATED> */ .p-Menu-itemLabel, /* </DEPRECATED> */\n.lm-Menu-itemLabel {\n  display: table-cell;\n  text-align: left;\n}\n\n\n/* <DEPRECATED> */ .p-Menu-itemShortcut, /* </DEPRECATED> */\n.lm-Menu-itemShortcut {\n  display: table-cell;\n  text-align: right;\n}\n"],sourceRoot:""}]);const u=s},29874:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015);var r=n.n(i);var o=n(23645);var a=n.n(o);var s=a()(r());s.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-MenuBar, /* </DEPRECATED> */\n.lm-MenuBar {\n  outline: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n/* <DEPRECATED> */ .p-MenuBar-content, /* </DEPRECATED> */\n.lm-MenuBar-content {\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n  list-style-type: none;\n}\n\n\n/* <DEPRECATED> */ .p--MenuBar-item, /* </DEPRECATED> */\n.lm-MenuBar-item {\n  box-sizing: border-box;\n}\n\n\n/* <DEPRECATED> */\n.p-MenuBar-itemIcon,\n.p-MenuBar-itemLabel,\n/* </DEPRECATED> */\n.lm-MenuBar-itemIcon,\n.lm-MenuBar-itemLabel {\n  display: inline-block;\n}\n","",{version:3,sources:["webpack://./../../node_modules/@lumino/widgets/style/menubar.css"],names:[],mappings:"AAAA;;;;;;;8EAO8E;;;AAG9E,iBAAiB,EAAE;;EAEjB,aAAa;EACb,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;;AAGA,iBAAiB,EAAE;;EAEjB,SAAS;EACT,UAAU;EACV,aAAa;EACb,mBAAmB;EACnB,qBAAqB;AACvB;;;AAGA,iBAAiB,EAAE;;EAEjB,sBAAsB;AACxB;;;AAGA,iBAAiB;AACjB;;;;;EAKE,qBAAqB;AACvB",sourcesContent:["/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-MenuBar, /* </DEPRECATED> */\n.lm-MenuBar {\n  outline: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n/* <DEPRECATED> */ .p-MenuBar-content, /* </DEPRECATED> */\n.lm-MenuBar-content {\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n  list-style-type: none;\n}\n\n\n/* <DEPRECATED> */ .p--MenuBar-item, /* </DEPRECATED> */\n.lm-MenuBar-item {\n  box-sizing: border-box;\n}\n\n\n/* <DEPRECATED> */\n.p-MenuBar-itemIcon,\n.p-MenuBar-itemLabel,\n/* </DEPRECATED> */\n.lm-MenuBar-itemIcon,\n.lm-MenuBar-itemLabel {\n  display: inline-block;\n}\n"],sourceRoot:""}]);const u=s},60561:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015);var r=n.n(i);var o=n(23645);var a=n.n(o);var s=a()(r());s.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-ScrollBar, /* </DEPRECATED> */\n.lm-ScrollBar {\n  display: flex;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n/* <DEPRECATED> */\n.p-ScrollBar[data-orientation='horizontal'],\n/* </DEPRECATED> */\n.lm-ScrollBar[data-orientation='horizontal'] {\n  flex-direction: row;\n}\n\n\n/* <DEPRECATED> */\n.p-ScrollBar[data-orientation='vertical'],\n/* </DEPRECATED> */\n.lm-ScrollBar[data-orientation='vertical'] {\n  flex-direction: column;\n}\n\n\n/* <DEPRECATED> */ .p-ScrollBar-button, /* </DEPRECATED> */\n.lm-ScrollBar-button {\n  box-sizing: border-box;\n  flex: 0 0 auto;\n}\n\n\n/* <DEPRECATED> */ .p-ScrollBar-track, /* </DEPRECATED> */\n.lm-ScrollBar-track {\n  box-sizing: border-box;\n  position: relative;\n  overflow: hidden;\n  flex: 1 1 auto;\n}\n\n\n/* <DEPRECATED> */ .p-ScrollBar-thumb, /* </DEPRECATED> */\n.lm-ScrollBar-thumb {\n  box-sizing: border-box;\n  position: absolute;\n}\n","",{version:3,sources:["webpack://./../../node_modules/@lumino/widgets/style/scrollbar.css"],names:[],mappings:"AAAA;;;;;;;8EAO8E;;;AAG9E,iBAAiB,EAAE;;EAEjB,aAAa;EACb,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;;AAGA,iBAAiB;AACjB;;;EAGE,mBAAmB;AACrB;;;AAGA,iBAAiB;AACjB;;;EAGE,sBAAsB;AACxB;;;AAGA,iBAAiB,EAAE;;EAEjB,sBAAsB;EACtB,cAAc;AAChB;;;AAGA,iBAAiB,EAAE;;EAEjB,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,cAAc;AAChB;;;AAGA,iBAAiB,EAAE;;EAEjB,sBAAsB;EACtB,kBAAkB;AACpB",sourcesContent:["/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-ScrollBar, /* </DEPRECATED> */\n.lm-ScrollBar {\n  display: flex;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n/* <DEPRECATED> */\n.p-ScrollBar[data-orientation='horizontal'],\n/* </DEPRECATED> */\n.lm-ScrollBar[data-orientation='horizontal'] {\n  flex-direction: row;\n}\n\n\n/* <DEPRECATED> */\n.p-ScrollBar[data-orientation='vertical'],\n/* </DEPRECATED> */\n.lm-ScrollBar[data-orientation='vertical'] {\n  flex-direction: column;\n}\n\n\n/* <DEPRECATED> */ .p-ScrollBar-button, /* </DEPRECATED> */\n.lm-ScrollBar-button {\n  box-sizing: border-box;\n  flex: 0 0 auto;\n}\n\n\n/* <DEPRECATED> */ .p-ScrollBar-track, /* </DEPRECATED> */\n.lm-ScrollBar-track {\n  box-sizing: border-box;\n  position: relative;\n  overflow: hidden;\n  flex: 1 1 auto;\n}\n\n\n/* <DEPRECATED> */ .p-ScrollBar-thumb, /* </DEPRECATED> */\n.lm-ScrollBar-thumb {\n  box-sizing: border-box;\n  position: absolute;\n}\n"],sourceRoot:""}]);const u=s},23221:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015);var r=n.n(i);var o=n(23645);var a=n.n(o);var s=a()(r());s.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-SplitPanel-child, /* </DEPRECATED> */\n.lm-SplitPanel-child {\n  z-index: 0;\n}\n\n\n/* <DEPRECATED> */ .p-SplitPanel-handle, /* </DEPRECATED> */\n.lm-SplitPanel-handle {\n  z-index: 1;\n}\n\n\n/* <DEPRECATED> */ .p-SplitPanel-handle.p-mod-hidden, /* </DEPRECATED> */\n.lm-SplitPanel-handle.lm-mod-hidden {\n  display: none !important;\n}\n\n\n/* <DEPRECATED> */ .p-SplitPanel-handle:after, /* </DEPRECATED> */\n.lm-SplitPanel-handle:after {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  content: '';\n}\n\n\n/* <DEPRECATED> */\n.p-SplitPanel[data-orientation='horizontal'] > .p-SplitPanel-handle,\n/* </DEPRECATED> */\n.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle {\n  cursor: ew-resize;\n}\n\n\n/* <DEPRECATED> */\n.p-SplitPanel[data-orientation='vertical'] > .p-SplitPanel-handle,\n/* </DEPRECATED> */\n.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle {\n  cursor: ns-resize;\n}\n\n\n/* <DEPRECATED> */\n.p-SplitPanel[data-orientation='horizontal'] > .p-SplitPanel-handle:after,\n/* </DEPRECATED> */\n.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle:after {\n  left: 50%;\n  min-width: 8px;\n  transform: translateX(-50%);\n}\n\n\n/* <DEPRECATED> */\n.p-SplitPanel[data-orientation='vertical'] > .p-SplitPanel-handle:after,\n/* </DEPRECATED> */\n.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle:after {\n  top: 50%;\n  min-height: 8px;\n  transform: translateY(-50%);\n}\n","",{version:3,sources:["webpack://./../../node_modules/@lumino/widgets/style/splitpanel.css"],names:[],mappings:"AAAA;;;;;;;8EAO8E;;;AAG9E,iBAAiB,EAAE;;EAEjB,UAAU;AACZ;;;AAGA,iBAAiB,EAAE;;EAEjB,UAAU;AACZ;;;AAGA,iBAAiB,EAAE;;EAEjB,wBAAwB;AAC1B;;;AAGA,iBAAiB,EAAE;;EAEjB,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,WAAW;AACb;;;AAGA,iBAAiB;AACjB;;;EAGE,iBAAiB;AACnB;;;AAGA,iBAAiB;AACjB;;;EAGE,iBAAiB;AACnB;;;AAGA,iBAAiB;AACjB;;;EAGE,SAAS;EACT,cAAc;EACd,2BAA2B;AAC7B;;;AAGA,iBAAiB;AACjB;;;EAGE,QAAQ;EACR,eAAe;EACf,2BAA2B;AAC7B",sourcesContent:["/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-SplitPanel-child, /* </DEPRECATED> */\n.lm-SplitPanel-child {\n  z-index: 0;\n}\n\n\n/* <DEPRECATED> */ .p-SplitPanel-handle, /* </DEPRECATED> */\n.lm-SplitPanel-handle {\n  z-index: 1;\n}\n\n\n/* <DEPRECATED> */ .p-SplitPanel-handle.p-mod-hidden, /* </DEPRECATED> */\n.lm-SplitPanel-handle.lm-mod-hidden {\n  display: none !important;\n}\n\n\n/* <DEPRECATED> */ .p-SplitPanel-handle:after, /* </DEPRECATED> */\n.lm-SplitPanel-handle:after {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  content: '';\n}\n\n\n/* <DEPRECATED> */\n.p-SplitPanel[data-orientation='horizontal'] > .p-SplitPanel-handle,\n/* </DEPRECATED> */\n.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle {\n  cursor: ew-resize;\n}\n\n\n/* <DEPRECATED> */\n.p-SplitPanel[data-orientation='vertical'] > .p-SplitPanel-handle,\n/* </DEPRECATED> */\n.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle {\n  cursor: ns-resize;\n}\n\n\n/* <DEPRECATED> */\n.p-SplitPanel[data-orientation='horizontal'] > .p-SplitPanel-handle:after,\n/* </DEPRECATED> */\n.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle:after {\n  left: 50%;\n  min-width: 8px;\n  transform: translateX(-50%);\n}\n\n\n/* <DEPRECATED> */\n.p-SplitPanel[data-orientation='vertical'] > .p-SplitPanel-handle:after,\n/* </DEPRECATED> */\n.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle:after {\n  top: 50%;\n  min-height: 8px;\n  transform: translateY(-50%);\n}\n"],sourceRoot:""}]);const u=s},29782:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015);var r=n.n(i);var o=n(23645);var a=n.n(o);var s=a()(r());s.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-TabBar, /* </DEPRECATED> */\n.lm-TabBar {\n  display: flex;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar[data-orientation='horizontal'], /* </DEPRECATED> */\n.lm-TabBar[data-orientation='horizontal'] {\n  flex-direction: row;\n  align-items: flex-end;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar[data-orientation='vertical'], /* </DEPRECATED> */\n.lm-TabBar[data-orientation='vertical'] {\n  flex-direction: column;\n  align-items: flex-end;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar-content, /* </DEPRECATED> */\n.lm-TabBar-content {\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex: 1 1 auto;\n  list-style-type: none;\n}\n\n\n/* <DEPRECATED> */\n.p-TabBar[data-orientation='horizontal'] > .p-TabBar-content,\n/* </DEPRECATED> */\n.lm-TabBar[data-orientation='horizontal'] > .lm-TabBar-content {\n  flex-direction: row;\n}\n\n\n/* <DEPRECATED> */\n.p-TabBar[data-orientation='vertical'] > .p-TabBar-content,\n/* </DEPRECATED> */\n.lm-TabBar[data-orientation='vertical'] > .lm-TabBar-content {\n  flex-direction: column;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar-tab, /* </DEPRECATED> */\n.lm-TabBar-tab {\n  display: flex;\n  flex-direction: row;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n\n/* <DEPRECATED> */\n.p-TabBar-tabIcon,\n.p-TabBar-tabCloseIcon,\n/* </DEPRECATED> */\n.lm-TabBar-tabIcon,\n.lm-TabBar-tabCloseIcon {\n  flex: 0 0 auto;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar-tabLabel, /* </DEPRECATED> */\n.lm-TabBar-tabLabel {\n  flex: 1 1 auto;\n  overflow: hidden;\n  white-space: nowrap;\n}\n\n\n.lm-TabBar-tabInput {\n  user-select: all;\n  width: 100%;\n  box-sizing : border-box;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar-tab.p-mod-hidden, /* </DEPRECATED> */\n.lm-TabBar-tab.lm-mod-hidden {\n  display: none !important;\n}\n\n\n.lm-TabBar-addButton.lm-mod-hidden {\n  display: none !important;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar.p-mod-dragging .p-TabBar-tab, /* </DEPRECATED> */\n.lm-TabBar.lm-mod-dragging .lm-TabBar-tab {\n  position: relative;\n}\n\n\n/* <DEPRECATED> */\n.p-TabBar.p-mod-dragging[data-orientation='horizontal'] .p-TabBar-tab,\n/* </DEPRECATED> */\n.lm-TabBar.lm-mod-dragging[data-orientation='horizontal'] .lm-TabBar-tab {\n  left: 0;\n  transition: left 150ms ease;\n}\n\n\n/* <DEPRECATED> */\n.p-TabBar.p-mod-dragging[data-orientation='vertical'] .p-TabBar-tab,\n/* </DEPRECATED> */\n.lm-TabBar.lm-mod-dragging[data-orientation='vertical'] .lm-TabBar-tab {\n  top: 0;\n  transition: top 150ms ease;\n}\n\n\n/* <DEPRECATED> */\n.p-TabBar.p-mod-dragging .p-TabBar-tab.p-mod-dragging,\n/* </DEPRECATED> */\n.lm-TabBar.lm-mod-dragging .lm-TabBar-tab.lm-mod-dragging {\n  transition: none;\n}\n\n.lm-TabBar-tabLabel .lm-TabBar-tabInput {\n  user-select: all;\n  width: 100%;\n  box-sizing : border-box;\n  background: inherit;\n}\n","",{version:3,sources:["webpack://./../../node_modules/@lumino/widgets/style/tabbar.css"],names:[],mappings:"AAAA;;;;;;;8EAO8E;;;AAG9E,iBAAiB,EAAE;;EAEjB,aAAa;EACb,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;;AAGA,iBAAiB,EAAE;;EAEjB,mBAAmB;EACnB,qBAAqB;AACvB;;;AAGA,iBAAiB,EAAE;;EAEjB,sBAAsB;EACtB,qBAAqB;AACvB;;;AAGA,iBAAiB,EAAE;;EAEjB,SAAS;EACT,UAAU;EACV,aAAa;EACb,cAAc;EACd,qBAAqB;AACvB;;;AAGA,iBAAiB;AACjB;;;EAGE,mBAAmB;AACrB;;;AAGA,iBAAiB;AACjB;;;EAGE,sBAAsB;AACxB;;;AAGA,iBAAiB,EAAE;;EAEjB,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,gBAAgB;AAClB;;;AAGA,iBAAiB;AACjB;;;;;EAKE,cAAc;AAChB;;;AAGA,iBAAiB,EAAE;;EAEjB,cAAc;EACd,gBAAgB;EAChB,mBAAmB;AACrB;;;AAGA;EACE,gBAAgB;EAChB,WAAW;EACX,uBAAuB;AACzB;;;AAGA,iBAAiB,EAAE;;EAEjB,wBAAwB;AAC1B;;;AAGA;EACE,wBAAwB;AAC1B;;;AAGA,iBAAiB,EAAE;;EAEjB,kBAAkB;AACpB;;;AAGA,iBAAiB;AACjB;;;EAGE,OAAO;EACP,2BAA2B;AAC7B;;;AAGA,iBAAiB;AACjB;;;EAGE,MAAM;EACN,0BAA0B;AAC5B;;;AAGA,iBAAiB;AACjB;;;EAGE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,WAAW;EACX,uBAAuB;EACvB,mBAAmB;AACrB",sourcesContent:["/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-TabBar, /* </DEPRECATED> */\n.lm-TabBar {\n  display: flex;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar[data-orientation='horizontal'], /* </DEPRECATED> */\n.lm-TabBar[data-orientation='horizontal'] {\n  flex-direction: row;\n  align-items: flex-end;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar[data-orientation='vertical'], /* </DEPRECATED> */\n.lm-TabBar[data-orientation='vertical'] {\n  flex-direction: column;\n  align-items: flex-end;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar-content, /* </DEPRECATED> */\n.lm-TabBar-content {\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex: 1 1 auto;\n  list-style-type: none;\n}\n\n\n/* <DEPRECATED> */\n.p-TabBar[data-orientation='horizontal'] > .p-TabBar-content,\n/* </DEPRECATED> */\n.lm-TabBar[data-orientation='horizontal'] > .lm-TabBar-content {\n  flex-direction: row;\n}\n\n\n/* <DEPRECATED> */\n.p-TabBar[data-orientation='vertical'] > .p-TabBar-content,\n/* </DEPRECATED> */\n.lm-TabBar[data-orientation='vertical'] > .lm-TabBar-content {\n  flex-direction: column;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar-tab, /* </DEPRECATED> */\n.lm-TabBar-tab {\n  display: flex;\n  flex-direction: row;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n\n/* <DEPRECATED> */\n.p-TabBar-tabIcon,\n.p-TabBar-tabCloseIcon,\n/* </DEPRECATED> */\n.lm-TabBar-tabIcon,\n.lm-TabBar-tabCloseIcon {\n  flex: 0 0 auto;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar-tabLabel, /* </DEPRECATED> */\n.lm-TabBar-tabLabel {\n  flex: 1 1 auto;\n  overflow: hidden;\n  white-space: nowrap;\n}\n\n\n.lm-TabBar-tabInput {\n  user-select: all;\n  width: 100%;\n  box-sizing : border-box;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar-tab.p-mod-hidden, /* </DEPRECATED> */\n.lm-TabBar-tab.lm-mod-hidden {\n  display: none !important;\n}\n\n\n.lm-TabBar-addButton.lm-mod-hidden {\n  display: none !important;\n}\n\n\n/* <DEPRECATED> */ .p-TabBar.p-mod-dragging .p-TabBar-tab, /* </DEPRECATED> */\n.lm-TabBar.lm-mod-dragging .lm-TabBar-tab {\n  position: relative;\n}\n\n\n/* <DEPRECATED> */\n.p-TabBar.p-mod-dragging[data-orientation='horizontal'] .p-TabBar-tab,\n/* </DEPRECATED> */\n.lm-TabBar.lm-mod-dragging[data-orientation='horizontal'] .lm-TabBar-tab {\n  left: 0;\n  transition: left 150ms ease;\n}\n\n\n/* <DEPRECATED> */\n.p-TabBar.p-mod-dragging[data-orientation='vertical'] .p-TabBar-tab,\n/* </DEPRECATED> */\n.lm-TabBar.lm-mod-dragging[data-orientation='vertical'] .lm-TabBar-tab {\n  top: 0;\n  transition: top 150ms ease;\n}\n\n\n/* <DEPRECATED> */\n.p-TabBar.p-mod-dragging .p-TabBar-tab.p-mod-dragging,\n/* </DEPRECATED> */\n.lm-TabBar.lm-mod-dragging .lm-TabBar-tab.lm-mod-dragging {\n  transition: none;\n}\n\n.lm-TabBar-tabLabel .lm-TabBar-tabInput {\n  user-select: all;\n  width: 100%;\n  box-sizing : border-box;\n  background: inherit;\n}\n"],sourceRoot:""}]);const u=s},23102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015);var r=n.n(i);var o=n(23645);var a=n.n(o);var s=a()(r());s.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-TabPanel-tabBar, /* </DEPRECATED> */\n.lm-TabPanel-tabBar {\n  z-index: 1;\n}\n\n\n/* <DEPRECATED> */ .p-TabPanel-stackedPanel, /* </DEPRECATED> */\n.lm-TabPanel-stackedPanel {\n  z-index: 0;\n}\n","",{version:3,sources:["webpack://./../../node_modules/@lumino/widgets/style/tabpanel.css"],names:[],mappings:"AAAA;;;;;;;8EAO8E;;;AAG9E,iBAAiB,EAAE;;EAEjB,UAAU;AACZ;;;AAGA,iBAAiB,EAAE;;EAEjB,UAAU;AACZ",sourcesContent:["/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-TabPanel-tabBar, /* </DEPRECATED> */\n.lm-TabPanel-tabBar {\n  z-index: 1;\n}\n\n\n/* <DEPRECATED> */ .p-TabPanel-stackedPanel, /* </DEPRECATED> */\n.lm-TabPanel-stackedPanel {\n  z-index: 0;\n}\n"],sourceRoot:""}]);const u=s},79879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015);var r=n.n(i);var o=n(23645);var a=n.n(o);var s=a()(r());s.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-Widget, /* </DEPRECATED> */\n.lm-Widget {\n  box-sizing: border-box;\n  position: relative;\n  overflow: hidden;\n  cursor: default;\n}\n\n\n/* <DEPRECATED> */ .p-Widget.p-mod-hidden, /* </DEPRECATED> */\n.lm-Widget.lm-mod-hidden {\n  display: none !important;\n}\n","",{version:3,sources:["webpack://./../../node_modules/@lumino/widgets/style/widget.css"],names:[],mappings:"AAAA;;;;;;;8EAO8E;;;AAG9E,iBAAiB,EAAE;;EAEjB,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;AACjB;;;AAGA,iBAAiB,EAAE;;EAEjB,wBAAwB;AAC1B",sourcesContent:["/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\n\n\n/* <DEPRECATED> */ .p-Widget, /* </DEPRECATED> */\n.lm-Widget {\n  box-sizing: border-box;\n  position: relative;\n  overflow: hidden;\n  cursor: default;\n}\n\n\n/* <DEPRECATED> */ .p-Widget.p-mod-hidden, /* </DEPRECATED> */\n.lm-Widget.lm-mod-hidden {\n  display: none !important;\n}\n"],sourceRoot:""}]);const u=s},69060:(e,t,n)=>{"use strict";n.r(t);n.d(t,{ArrayExt:()=>i,ArrayIterator:()=>p,ChainIterator:()=>b,EmptyIterator:()=>E,EnumerateIterator:()=>C,FilterIterator:()=>M,FnIterator:()=>_,ItemIterator:()=>g,KeyIterator:()=>m,MapIterator:()=>R,RangeIterator:()=>k,RepeatIterator:()=>N,RetroArrayIterator:()=>F,StrideIterator:()=>V,StringExt:()=>K,TakeIterator:()=>X,ValueIterator:()=>v,ZipIterator:()=>J,chain:()=>y,each:()=>l,empty:()=>A,enumerate:()=>w,every:()=>c,filter:()=>x,find:()=>S,findIndex:()=>D,iter:()=>r,iterFn:()=>u,iterItems:()=>s,iterKeys:()=>o,iterValues:()=>a,map:()=>z,max:()=>P,min:()=>B,minmax:()=>T,once:()=>j,range:()=>L,reduce:()=>I,repeat:()=>H,retro:()=>W,some:()=>h,stride:()=>G,take:()=>Y,toArray:()=>d,toObject:()=>f,topologicSort:()=>q,zip:()=>U});var i;(function(e){function t(e,t,n,i){if(n===void 0){n=0}if(i===void 0){i=-1}var r=e.length;if(r===0){return-1}if(n<0){n=Math.max(0,n+r)}else{n=Math.min(n,r-1)}if(i<0){i=Math.max(0,i+r)}else{i=Math.min(i,r-1)}var o;if(i<n){o=i+1+(r-n)}else{o=i-n+1}for(var a=0;a<o;++a){var s=(n+a)%r;if(e[s]===t){return s}}return-1}e.firstIndexOf=t;function n(e,t,n,i){if(n===void 0){n=-1}if(i===void 0){i=0}var r=e.length;if(r===0){return-1}if(n<0){n=Math.max(0,n+r)}else{n=Math.min(n,r-1)}if(i<0){i=Math.max(0,i+r)}else{i=Math.min(i,r-1)}var o;if(n<i){o=n+1+(r-i)}else{o=n-i+1}for(var a=0;a<o;++a){var s=(n-a+r)%r;if(e[s]===t){return s}}return-1}e.lastIndexOf=n;function i(e,t,n,i){if(n===void 0){n=0}if(i===void 0){i=-1}var r=e.length;if(r===0){return-1}if(n<0){n=Math.max(0,n+r)}else{n=Math.min(n,r-1)}if(i<0){i=Math.max(0,i+r)}else{i=Math.min(i,r-1)}var o;if(i<n){o=i+1+(r-n)}else{o=i-n+1}for(var a=0;a<o;++a){var s=(n+a)%r;if(t(e[s],s)){return s}}return-1}e.findFirstIndex=i;function r(e,t,n,i){if(n===void 0){n=-1}if(i===void 0){i=0}var r=e.length;if(r===0){return-1}if(n<0){n=Math.max(0,n+r)}else{n=Math.min(n,r-1)}if(i<0){i=Math.max(0,i+r)}else{i=Math.min(i,r-1)}var o;if(n<i){o=n+1+(r-i)}else{o=n-i+1}for(var a=0;a<o;++a){var s=(n-a+r)%r;if(t(e[s],s)){return s}}return-1}e.findLastIndex=r;function o(e,t,n,r){if(n===void 0){n=0}if(r===void 0){r=-1}var o=i(e,t,n,r);return o!==-1?e[o]:undefined}e.findFirstValue=o;function a(e,t,n,i){if(n===void 0){n=-1}if(i===void 0){i=0}var o=r(e,t,n,i);return o!==-1?e[o]:undefined}e.findLastValue=a;function s(e,t,n,i,r){if(i===void 0){i=0}if(r===void 0){r=-1}var o=e.length;if(o===0){return 0}if(i<0){i=Math.max(0,i+o)}else{i=Math.min(i,o-1)}if(r<0){r=Math.max(0,r+o)}else{r=Math.min(r,o-1)}var a=i;var s=r-i+1;while(s>0){var u=s>>1;var l=a+u;if(n(e[l],t)<0){a=l+1;s-=u+1}else{s=u}}return a}e.lowerBound=s;function u(e,t,n,i,r){if(i===void 0){i=0}if(r===void 0){r=-1}var o=e.length;if(o===0){return 0}if(i<0){i=Math.max(0,i+o)}else{i=Math.min(i,o-1)}if(r<0){r=Math.max(0,r+o)}else{r=Math.min(r,o-1)}var a=i;var s=r-i+1;while(s>0){var u=s>>1;var l=a+u;if(n(e[l],t)>0){s=u}else{a=l+1;s-=u+1}}return a}e.upperBound=u;function l(e,t,n){if(e===t){return true}if(e.length!==t.length){return false}for(var i=0,r=e.length;i<r;++i){if(n?!n(e[i],t[i]):e[i]!==t[i]){return false}}return true}e.shallowEqual=l;function c(e,t){if(t===void 0){t={}}var n=t.start,i=t.stop,r=t.step;if(r===undefined){r=1}if(r===0){throw new Error("Slice `step` cannot be zero.")}var o=e.length;if(n===undefined){n=r<0?o-1:0}else if(n<0){n=Math.max(n+o,r<0?-1:0)}else if(n>=o){n=r<0?o-1:o}if(i===undefined){i=r<0?-1:o}else if(i<0){i=Math.max(i+o,r<0?-1:0)}else if(i>=o){i=r<0?o-1:o}var a;if(r<0&&i>=n||r>0&&n>=i){a=0}else if(r<0){a=Math.floor((i-n+1)/r+1)}else{a=Math.floor((i-n-1)/r+1)}var s=[];for(var u=0;u<a;++u){s[u]=e[n+u*r]}return s}e.slice=c;function h(e,t,n){var i=e.length;if(i<=1){return}if(t<0){t=Math.max(0,t+i)}else{t=Math.min(t,i-1)}if(n<0){n=Math.max(0,n+i)}else{n=Math.min(n,i-1)}if(t===n){return}var r=e[t];var o=t<n?1:-1;for(var a=t;a!==n;a+=o){e[a]=e[a+o]}e[n]=r}e.move=h;function d(e,t,n){if(t===void 0){t=0}if(n===void 0){n=-1}var i=e.length;if(i<=1){return}if(t<0){t=Math.max(0,t+i)}else{t=Math.min(t,i-1)}if(n<0){n=Math.max(0,n+i)}else{n=Math.min(n,i-1)}while(t<n){var r=e[t];var o=e[n];e[t++]=o;e[n--]=r}}e.reverse=d;function f(e,t,n,i){if(n===void 0){n=0}if(i===void 0){i=-1}var r=e.length;if(r<=1){return}if(n<0){n=Math.max(0,n+r)}else{n=Math.min(n,r-1)}if(i<0){i=Math.max(0,i+r)}else{i=Math.min(i,r-1)}if(n>=i){return}var o=i-n+1;if(t>0){t=t%o}else if(t<0){t=(t%o+o)%o}if(t===0){return}var a=n+t;d(e,n,a-1);d(e,a,i);d(e,n,i)}e.rotate=f;function p(e,t,n,i){if(n===void 0){n=0}if(i===void 0){i=-1}var r=e.length;if(r===0){return}if(n<0){n=Math.max(0,n+r)}else{n=Math.min(n,r-1)}if(i<0){i=Math.max(0,i+r)}else{i=Math.min(i,r-1)}var o;if(i<n){o=i+1+(r-n)}else{o=i-n+1}for(var a=0;a<o;++a){e[(n+a)%r]=t}}e.fill=p;function m(e,t,n){var i=e.length;if(t<0){t=Math.max(0,t+i)}else{t=Math.min(t,i)}for(var r=i;r>t;--r){e[r]=e[r-1]}e[t]=n}e.insert=m;function v(e,t){var n=e.length;if(t<0){t+=n}if(t<0||t>=n){return undefined}var i=e[t];for(var r=t+1;r<n;++r){e[r-1]=e[r]}e.length=n-1;return i}e.removeAt=v;function g(e,n,i,r){if(i===void 0){i=0}if(r===void 0){r=-1}var o=t(e,n,i,r);if(o!==-1){v(e,o)}return o}e.removeFirstOf=g;function _(e,t,i,r){if(i===void 0){i=-1}if(r===void 0){r=0}var o=n(e,t,i,r);if(o!==-1){v(e,o)}return o}e.removeLastOf=_;function y(e,t,n,i){if(n===void 0){n=0}if(i===void 0){i=-1}var r=e.length;if(r===0){return 0}if(n<0){n=Math.max(0,n+r)}else{n=Math.min(n,r-1)}if(i<0){i=Math.max(0,i+r)}else{i=Math.min(i,r-1)}var o=0;for(var a=0;a<r;++a){if(n<=i&&(a>=n&&a<=i)&&e[a]===t){o++}else if(i<n&&(a<=i||a>=n)&&e[a]===t){o++}else if(o>0){e[a-o]=e[a]}}if(o>0){e.length=r-o}return o}e.removeAllOf=y;function b(e,t,n,r){if(n===void 0){n=0}if(r===void 0){r=-1}var o;var a=i(e,t,n,r);if(a!==-1){o=v(e,a)}return{index:a,value:o}}e.removeFirstWhere=b;function A(e,t,n,i){if(n===void 0){n=-1}if(i===void 0){i=0}var o;var a=r(e,t,n,i);if(a!==-1){o=v(e,a)}return{index:a,value:o}}e.removeLastWhere=A;function E(e,t,n,i){if(n===void 0){n=0}if(i===void 0){i=-1}var r=e.length;if(r===0){return 0}if(n<0){n=Math.max(0,n+r)}else{n=Math.min(n,r-1)}if(i<0){i=Math.max(0,i+r)}else{i=Math.min(i,r-1)}var o=0;for(var a=0;a<r;++a){if(n<=i&&(a>=n&&a<=i)&&t(e[a],a)){o++}else if(i<n&&(a<=i||a>=n)&&t(e[a],a)){o++}else if(o>0){e[a-o]=e[a]}}if(o>0){e.length=r-o}return o}e.removeAllWhere=E})(i||(i={}));function r(e){var t;if(typeof e.iter==="function"){t=e.iter()}else{t=new p(e)}return t}function o(e){return new m(e)}function a(e){return new v(e)}function s(e){return new g(e)}function u(e){return new _(e)}function l(e,t){var n=0;var i=r(e);var o;while((o=i.next())!==undefined){if(t(o,n++)===false){return}}}function c(e,t){var n=0;var i=r(e);var o;while((o=i.next())!==undefined){if(!t(o,n++)){return false}}return true}function h(e,t){var n=0;var i=r(e);var o;while((o=i.next())!==undefined){if(t(o,n++)){return true}}return false}function d(e){var t=0;var n=[];var i=r(e);var o;while((o=i.next())!==undefined){n[t++]=o}return n}function f(e){var t=r(e);var n;var i={};while((n=t.next())!==undefined){i[n[0]]=n[1]}return i}var p=function(){function e(e){this._index=0;this._source=e}e.prototype.iter=function(){return this};e.prototype.clone=function(){var t=new e(this._source);t._index=this._index;return t};e.prototype.next=function(){if(this._index>=this._source.length){return undefined}return this._source[this._index++]};return e}();var m=function(){function e(e,t){if(t===void 0){t=Object.keys(e)}this._index=0;this._source=e;this._keys=t}e.prototype.iter=function(){return this};e.prototype.clone=function(){var t=new e(this._source,this._keys);t._index=this._index;return t};e.prototype.next=function(){if(this._index>=this._keys.length){return undefined}var e=this._keys[this._index++];if(e in this._source){return e}return this.next()};return e}();var v=function(){function e(e,t){if(t===void 0){t=Object.keys(e)}this._index=0;this._source=e;this._keys=t}e.prototype.iter=function(){return this};e.prototype.clone=function(){var t=new e(this._source,this._keys);t._index=this._index;return t};e.prototype.next=function(){if(this._index>=this._keys.length){return undefined}var e=this._keys[this._index++];if(e in this._source){return this._source[e]}return this.next()};return e}();var g=function(){function e(e,t){if(t===void 0){t=Object.keys(e)}this._index=0;this._source=e;this._keys=t}e.prototype.iter=function(){return this};e.prototype.clone=function(){var t=new e(this._source,this._keys);t._index=this._index;return t};e.prototype.next=function(){if(this._index>=this._keys.length){return undefined}var e=this._keys[this._index++];if(e in this._source){return[e,this._source[e]]}return this.next()};return e}();var _=function(){function e(e){this._fn=e}e.prototype.iter=function(){return this};e.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")};e.prototype.next=function(){return this._fn.call(undefined)};return e}();function y(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return new b(r(e.map(r)))}var b=function(){function e(e){this._cloned=false;this._source=e;this._active=undefined}e.prototype.iter=function(){return this};e.prototype.clone=function(){var t=new e(this._source.clone());t._active=this._active&&this._active.clone();t._cloned=true;this._cloned=true;return t};e.prototype.next=function(){if(this._active===undefined){var e=this._source.next();if(e===undefined){return undefined}this._active=this._cloned?e.clone():e}var t=this._active.next();if(t!==undefined){return t}this._active=undefined;return this.next()};return e}();function A(){return new E}var E=function(){function e(){}e.prototype.iter=function(){return this};e.prototype.clone=function(){return new e};e.prototype.next=function(){return undefined};return e}();function w(e,t){if(t===void 0){t=0}return new C(r(e),t)}var C=function(){function e(e,t){this._source=e;this._index=t}e.prototype.iter=function(){return this};e.prototype.clone=function(){return new e(this._source.clone(),this._index)};e.prototype.next=function(){var e=this._source.next();if(e===undefined){return undefined}return[this._index++,e]};return e}();function x(e,t){return new M(r(e),t)}var M=function(){function e(e,t){this._index=0;this._source=e;this._fn=t}e.prototype.iter=function(){return this};e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);t._index=this._index;return t};e.prototype.next=function(){var e=this._fn;var t=this._source;var n;while((n=t.next())!==undefined){if(e(n,this._index++)){return n}}return undefined};return e}();function S(e,t){var n=0;var i=r(e);var o;while((o=i.next())!==undefined){if(t(o,n++)){return o}}return undefined}function D(e,t){var n=0;var i=r(e);var o;while((o=i.next())!==undefined){if(t(o,n++)){return n-1}}return-1}function B(e,t){var n=r(e);var i=n.next();if(i===undefined){return undefined}var o=i;while((i=n.next())!==undefined){if(t(i,o)<0){o=i}}return o}function P(e,t){var n=r(e);var i=n.next();if(i===undefined){return undefined}var o=i;while((i=n.next())!==undefined){if(t(i,o)>0){o=i}}return o}function T(e,t){var n=r(e);var i=n.next();if(i===undefined){return undefined}var o=i;var a=i;while((i=n.next())!==undefined){if(t(i,o)<0){o=i}else if(t(i,a)>0){a=i}}return[o,a]}function z(e,t){return new R(r(e),t)}var R=function(){function e(e,t){this._index=0;this._source=e;this._fn=t}e.prototype.iter=function(){return this};e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);t._index=this._index;return t};e.prototype.next=function(){var e=this._source.next();if(e===undefined){return undefined}return this._fn.call(undefined,e,this._index++)};return e}();function L(e,t,n){if(t===undefined){return new k(0,e,1)}if(n===undefined){return new k(e,t,1)}return new k(e,t,n)}var k=function(){function e(e,t,n){this._index=0;this._start=e;this._stop=t;this._step=n;this._length=O.rangeLength(e,t,n)}e.prototype.iter=function(){return this};e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);t._index=this._index;return t};e.prototype.next=function(){if(this._index>=this._length){return undefined}return this._start+this._step*this._index++};return e}();var O;(function(e){function t(e,t,n){if(n===0){return Infinity}if(e>t&&n>0){return 0}if(e<t&&n<0){return 0}return Math.ceil((t-e)/n)}e.rangeLength=t})(O||(O={}));function I(e,t,n){var i=0;var o=r(e);var a=o.next();if(a===undefined&&n===undefined){throw new TypeError("Reduce of empty iterable with no initial value.")}if(a===undefined){return n}var s=o.next();if(s===undefined&&n===undefined){return a}if(s===undefined){return t(n,a,i++)}var u;if(n===undefined){u=t(a,s,i++)}else{u=t(t(n,a,i++),s,i++)}var l;while((l=o.next())!==undefined){u=t(u,l,i++)}return u}function H(e,t){return new N(e,t)}function j(e){return new N(e,1)}var N=function(){function e(e,t){this._value=e;this._count=t}e.prototype.iter=function(){return this};e.prototype.clone=function(){return new e(this._value,this._count)};e.prototype.next=function(){if(this._count<=0){return undefined}this._count--;return this._value};return e}();function W(e){var t;if(typeof e.retro==="function"){t=e.retro()}else{t=new F(e)}return t}var F=function(){function e(e){this._source=e;this._index=e.length-1}e.prototype.iter=function(){return this};e.prototype.clone=function(){var t=new e(this._source);t._index=this._index;return t};e.prototype.next=function(){if(this._index<0||this._index>=this._source.length){return undefined}return this._source[this._index--]};return e}();function q(e){var t=[];var n=new Set;var i=new Map;l(e,r);i.forEach((function(e,t){o(t)}));return t;function r(e){var t=e[0],n=e[1];var r=i.get(n);if(r){r.push(t)}else{i.set(n,[t])}}function o(e){if(n.has(e)){return}n.add(e);var r=i.get(e);if(r){r.forEach(o)}t.push(e)}}function G(e,t){return new V(r(e),t)}var V=function(){function e(e,t){this._source=e;this._step=t}e.prototype.iter=function(){return this};e.prototype.clone=function(){return new e(this._source.clone(),this._step)};e.prototype.next=function(){var e=this._source.next();for(var t=this._step-1;t>0;--t){this._source.next()}return e};return e}();var K;(function(e){function t(e,t,n){if(n===void 0){n=0}var i=new Array(t.length);for(var r=0,o=n,a=t.length;r<a;++r,++o){o=e.indexOf(t[r],o);if(o===-1){return null}i[r]=o}return i}e.findIndices=t;function n(e,n,i){if(i===void 0){i=0}var r=t(e,n,i);if(!r){return null}var o=0;for(var a=0,s=r.length;a<s;++a){var u=r[a]-i;o+=u*u}return{score:o,indices:r}}e.matchSumOfSquares=n;function i(e,n,i){if(i===void 0){i=0}var r=t(e,n,i);if(!r){return null}var o=0;var a=i-1;for(var s=0,u=r.length;s<u;++s){var l=r[s];o+=l-a-1;a=l}return{score:o,indices:r}}e.matchSumOfDeltas=i;function r(e,t,n){var i=[];var r=0;var o=0;var a=t.length;while(r<a){var s=t[r];var u=t[r];while(++r<a&&t[r]===u+1){u++}if(o<s){i.push(e.slice(o,s))}if(s<u+1){i.push(n(e.slice(s,u+1)))}o=u+1}if(o<e.length){i.push(e.slice(o))}return i}e.highlight=r;function o(e,t){return e<t?-1:e>t?1:0}e.cmp=o})(K||(K={}));function Y(e,t){return new X(r(e),t)}var X=function(){function e(e,t){this._source=e;this._count=t}e.prototype.iter=function(){return this};e.prototype.clone=function(){return new e(this._source.clone(),this._count)};e.prototype.next=function(){if(this._count<=0){return undefined}var e=this._source.next();if(e===undefined){return undefined}this._count--;return e};return e}();function U(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return new J(e.map(r))}var J=function(){function e(e){this._source=e}e.prototype.iter=function(){return this};e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))};e.prototype.next=function(){var e=new Array(this._source.length);for(var t=0,n=this._source.length;t<n;++t){var i=this._source[t].next();if(i===undefined){return undefined}e[t]=i}return e};return e}()},76219:(e,t,n)=>{"use strict";n.r(t);n.d(t,{Application:()=>c});var i=n(97745);var r=n.n(i);var o=n(9727);var a=n.n(o);var s=n(61389);var u=n.n(s);function l(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}var c=function(){function e(e){this._started=false;this._pluginMap=h.createPluginMap();this._serviceMap=h.createServiceMap();this._delegate=new o.PromiseDelegate;var t=new i.CommandRegistry;var n=e.contextMenuRenderer;var r=new s.ContextMenu({commands:t,renderer:n});this.commands=t;this.contextMenu=r;this.shell=e.shell}Object.defineProperty(e.prototype,"started",{get:function(){return this._delegate.promise},enumerable:true,configurable:true});e.prototype.hasPlugin=function(e){return e in this._pluginMap};e.prototype.listPlugins=function(){return Object.keys(this._pluginMap)};e.prototype.registerPlugin=function(e){if(e.id in this._pluginMap){throw new Error("Plugin '"+e.id+"' is already registered.")}var t=h.createPluginData(e);h.ensureNoCycle(t,this._pluginMap,this._serviceMap);if(t.provides){this._serviceMap.set(t.provides,t.id)}this._pluginMap[t.id]=t};e.prototype.registerPlugins=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];this.registerPlugin(i)}};e.prototype.activatePlugin=function(e){var t=this;var n=this._pluginMap[e];if(!n){return Promise.reject(new Error("Plugin '"+e+"' is not registered."))}if(n.activated){return Promise.resolve(undefined)}if(n.promise){return n.promise}var i=n.requires.map((function(e){return t.resolveRequiredService(e)}));var r=n.optional.map((function(e){return t.resolveOptionalService(e)}));var o=i.concat(r);n.promise=Promise.all(o).then((function(e){return n.activate.apply(undefined,l([t],e))})).then((function(e){n.service=e;n.activated=true;n.promise=null})).catch((function(e){n.promise=null;throw e}));return n.promise};e.prototype.resolveRequiredService=function(e){var t=this._serviceMap.get(e);if(!t){return Promise.reject(new Error("No provider for: "+e.name+"."))}var n=this._pluginMap[t];if(n.activated){return Promise.resolve(n.service)}return this.activatePlugin(t).then((function(){return n.service}))};e.prototype.resolveOptionalService=function(e){var t=this._serviceMap.get(e);if(!t){return Promise.resolve(null)}var n=this._pluginMap[t];if(n.activated){return Promise.resolve(n.service)}return this.activatePlugin(t).then((function(){return n.service})).catch((function(e){console.error(e);return null}))};e.prototype.start=function(e){var t=this;if(e===void 0){e={}}if(this._started){return this._delegate.promise}this._started=true;var n=e.hostID||"";var i=h.collectStartupPlugins(this._pluginMap,e);var r=i.map((function(e){return t.activatePlugin(e).catch((function(t){console.error("Plugin '"+e+"' failed to activate.");console.error(t)}))}));Promise.all(r).then((function(){t.attachShell(n);t.addEventListeners();t._delegate.resolve(undefined)}));return this._delegate.promise};e.prototype.handleEvent=function(e){switch(e.type){case"resize":this.evtResize(e);break;case"keydown":this.evtKeydown(e);break;case"contextmenu":this.evtContextMenu(e);break}};e.prototype.attachShell=function(e){s.Widget.attach(this.shell,e&&document.getElementById(e)||document.body)};e.prototype.addEventListeners=function(){document.addEventListener("contextmenu",this);document.addEventListener("keydown",this,true);window.addEventListener("resize",this)};e.prototype.evtKeydown=function(e){this.commands.processKeydownEvent(e)};e.prototype.evtContextMenu=function(e){if(e.shiftKey){return}if(this.contextMenu.open(e)){e.preventDefault();e.stopPropagation()}};e.prototype.evtResize=function(e){this.shell.update()};return e}();var h;(function(e){function t(){return Object.create(null)}e.createPluginMap=t;function n(){return new Map}e.createServiceMap=n;function i(e){return{id:e.id,service:null,promise:null,activated:false,activate:e.activate,provides:e.provides||null,autoStart:e.autoStart||false,requires:e.requires?e.requires.slice():[],optional:e.optional?e.optional.slice():[]}}e.createPluginData=i;function r(e,t,n){var i=e.requires.concat(e.optional);if(!e.provides||i.length===0){return}var r=[e.id];if(i.some(o)){throw new Error("Cycle detected: "+r.join(" -> ")+".")}function o(i){if(i===e.provides){return true}var a=n.get(i);if(!a){return false}var s=t[a];var u=s.requires.concat(s.optional);if(u.length===0){return false}r.push(a);if(u.some(o)){return true}r.pop();return false}}e.ensureNoCycle=r;function o(e,t){var n=Object.create(null);for(var i in e){if(e[i].autoStart){n[i]=true}}if(t.startPlugins){for(var r=0,o=t.startPlugins;r<o.length;r++){var i=o[r];n[i]=true}}if(t.ignorePlugins){for(var a=0,s=t.ignorePlugins;a<s.length;a++){var i=s[a];delete n[i]}}return Object.keys(n)}e.collectStartupPlugins=o})(h||(h={}))},62687:(e,t,n)=>{"use strict";n.r(t);n.d(t,{CommandRegistry:()=>p});var i=n(62867);var r=n.n(i);var o=n(9727);var a=n.n(o);var s=n(76487);var u=n.n(s);var l=n(33513);var c=n.n(l);var h=n(38102);var d=n(75138);var f=n.n(d);var p=function(){function e(){this._timerID=0;this._replaying=false;this._keystrokes=[];this._keydownEvents=[];this._keyBindings=[];this._exactKeyMatch=null;this._commands=Object.create(null);this._commandChanged=new d.Signal(this);this._commandExecuted=new d.Signal(this);this._keyBindingChanged=new d.Signal(this)}Object.defineProperty(e.prototype,"commandChanged",{get:function(){return this._commandChanged},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"commandExecuted",{get:function(){return this._commandExecuted},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"keyBindingChanged",{get:function(){return this._keyBindingChanged},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"keyBindings",{get:function(){return this._keyBindings},enumerable:true,configurable:true});e.prototype.listCommands=function(){return Object.keys(this._commands)};e.prototype.hasCommand=function(e){return e in this._commands};e.prototype.addCommand=function(e,t){var n=this;if(e in this._commands){throw new Error("Command '"+e+"' already registered.")}this._commands[e]=m.createCommand(t);this._commandChanged.emit({id:e,type:"added"});return new s.DisposableDelegate((function(){delete n._commands[e];n._commandChanged.emit({id:e,type:"removed"})}))};e.prototype.notifyCommandChanged=function(e){if(e!==undefined&&!(e in this._commands)){throw new Error("Command '"+e+"' is not registered.")}this._commandChanged.emit({id:e,type:e?"changed":"many-changed"})};e.prototype.label=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.label.call(undefined,t):""};e.prototype.mnemonic=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.mnemonic.call(undefined,t):-1};e.prototype.icon=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.icon.call(undefined,t):""};e.prototype.iconClass=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.iconClass.call(undefined,t):""};e.prototype.iconLabel=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.iconLabel.call(undefined,t):""};e.prototype.caption=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.caption.call(undefined,t):""};e.prototype.usage=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.usage.call(undefined,t):""};e.prototype.className=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.className.call(undefined,t):""};e.prototype.dataset=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.dataset.call(undefined,t):{}};e.prototype.isEnabled=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.isEnabled.call(undefined,t):false};e.prototype.isToggled=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.isToggled.call(undefined,t):false};e.prototype.isToggleable=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.isToggleable:false};e.prototype.isVisible=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];return n?n.isVisible.call(undefined,t):false};e.prototype.execute=function(e,t){if(t===void 0){t=o.JSONExt.emptyObject}var n=this._commands[e];if(!n){return Promise.reject(new Error("Command '"+e+"' not registered."))}var i;try{i=n.execute.call(undefined,t)}catch(a){i=Promise.reject(a)}var r=Promise.resolve(i);this._commandExecuted.emit({id:e,args:t,result:r});return r};e.prototype.addKeyBinding=function(e){var t=this;var n=m.createKeyBinding(e);this._keyBindings.push(n);this._keyBindingChanged.emit({binding:n,type:"added"});return new s.DisposableDelegate((function(){i.ArrayExt.removeFirstOf(t._keyBindings,n);t._keyBindingChanged.emit({binding:n,type:"removed"})}))};e.prototype.processKeydownEvent=function(t){if(this._replaying){return}var n=e.keystrokeForKeydownEvent(t);if(!n){this._replayKeydownEvents();this._clearPendingState();return}this._keystrokes.push(n);var i=m.matchKeyBinding(this._keyBindings,this._keystrokes,t),r=i.exact,o=i.partial;if(!r&&!o){this._replayKeydownEvents();this._clearPendingState();return}t.preventDefault();t.stopPropagation();if(r&&!o){this._executeKeyBinding(r);this._clearPendingState();return}if(r){this._exactKeyMatch=r}this._keydownEvents.push(t);this._startTimer()};e.prototype._startTimer=function(){var e=this;this._clearTimer();this._timerID=window.setTimeout((function(){e._onPendingTimeout()}),m.CHORD_TIMEOUT)};e.prototype._clearTimer=function(){if(this._timerID!==0){clearTimeout(this._timerID);this._timerID=0}};e.prototype._replayKeydownEvents=function(){if(this._keydownEvents.length===0){return}this._replaying=true;this._keydownEvents.forEach(m.replayKeyEvent);this._replaying=false};e.prototype._executeKeyBinding=function(e){var t=e.command,n=e.args;if(!this.hasCommand(t)||!this.isEnabled(t,n)){var i=this.hasCommand(t)?"enabled":"registered";var r=e.keys.join(", ");var o="Cannot execute key binding '"+r+"':";var a="command '"+t+"' is not "+i+".";console.warn(o+" "+a);return}this.execute(t,n)};e.prototype._clearPendingState=function(){this._clearTimer();this._exactKeyMatch=null;this._keystrokes.length=0;this._keydownEvents.length=0};e.prototype._onPendingTimeout=function(){this._timerID=0;if(this._exactKeyMatch){this._executeKeyBinding(this._exactKeyMatch)}else{this._replayKeydownEvents()}this._clearPendingState()};return e}();(function(e){function t(e){var t="";var n=false;var i=false;var r=false;var o=false;for(var a=0,s=e.split(/\s+/);a<s.length;a++){var u=s[a];if(u==="Accel"){if(l.Platform.IS_MAC){i=true}else{r=true}}else if(u==="Alt"){n=true}else if(u==="Cmd"){i=true}else if(u==="Ctrl"){r=true}else if(u==="Shift"){o=true}else if(u.length>0){t=u}}return{cmd:i,ctrl:r,alt:n,shift:o,key:t}}e.parseKeystroke=t;function n(e){var n="";var i=t(e);if(i.ctrl){n+="Ctrl "}if(i.alt){n+="Alt "}if(i.shift){n+="Shift "}if(i.cmd&&l.Platform.IS_MAC){n+="Cmd "}return n+i.key}e.normalizeKeystroke=n;function i(e){var t;if(l.Platform.IS_WIN){t=e.winKeys||e.keys}else if(l.Platform.IS_MAC){t=e.macKeys||e.keys}else{t=e.linuxKeys||e.keys}return t.map(n)}e.normalizeKeys=i;function r(e){var n="";var i=t(e);if(l.Platform.IS_MAC){if(i.ctrl){n+="⌃ "}if(i.alt){n+="⌥ "}if(i.shift){n+="⇧ "}if(i.cmd){n+="⌘ "}}else{if(i.ctrl){n+="Ctrl+"}if(i.alt){n+="Alt+"}if(i.shift){n+="Shift+"}}return n+i.key}e.formatKeystroke=r;function o(e){var t=(0,h.Vc)().keyForKeydownEvent(e);if(!t){return""}var n="";if(e.ctrlKey){n+="Ctrl "}if(e.altKey){n+="Alt "}if(e.shiftKey){n+="Shift "}if(e.metaKey&&l.Platform.IS_MAC){n+="Cmd "}return n+t}e.keystrokeForKeydownEvent=o})(p||(p={}));var m;(function(e){e.CHORD_TIMEOUT=1e3;function t(e){var t;var n;if(!e.icon||typeof e.icon==="string"){n=f(e.iconClass||e.icon,a);t=n}else{n=f(e.iconClass,a);t=f(e.icon,d)}return{execute:e.execute,label:f(e.label,a),mnemonic:f(e.mnemonic,s),icon:t,iconClass:n,iconLabel:f(e.iconLabel,a),caption:f(e.caption,a),usage:f(e.usage,a),className:f(e.className,a),dataset:f(e.dataset,h),isEnabled:e.isEnabled||u,isToggled:e.isToggled||c,isToggleable:e.isToggleable||!!e.isToggled,isVisible:e.isVisible||u}}e.createCommand=t;function n(e){return{keys:p.normalizeKeys(e),selector:m(e),command:e.command,args:e.args||o.JSONExt.emptyObject}}e.createKeyBinding=n;function i(e,t,n){var i=null;var r=false;var o=Infinity;var a=0;for(var s=0,u=e.length;s<u;++s){var c=e[s];var h=v(c.keys,t);if(h===0){continue}if(h===2){if(!r&&g(c.selector,n)!==-1){r=true}continue}var d=g(c.selector,n);if(d===-1||d>o){continue}var f=l.Selector.calculateSpecificity(c.selector);if(!i||d<o||f>=a){i=c;o=d;a=f}}return{exact:i,partial:r}}e.matchKeyBinding=i;function r(e){e.target.dispatchEvent(_(e))}e.replayKeyEvent=r;var a=function(){return""};var s=function(){return-1};var u=function(){return true};var c=function(){return false};var h=function(){return{}};var d=function(){return undefined};function f(e,t){if(e===undefined){return t}if(typeof e==="function"){return e}return function(){return e}}function m(e){if(e.selector.indexOf(",")!==-1){throw new Error("Selector cannot contain commas: "+e.selector)}if(!l.Selector.isValid(e.selector)){throw new Error("Invalid selector: "+e.selector)}return e.selector}function v(e,t){if(e.length<t.length){return 0}for(var n=0,i=t.length;n<i;++n){if(e[n]!==t[n]){return 0}}if(e.length>t.length){return 2}return 1}function g(e,t){var n=t.target;var i=t.currentTarget;for(var r=0;n!==null;n=n.parentElement,++r){if(n.hasAttribute("data-lm-suppress-shortcuts")){return-1}if(n.hasAttribute("data-p-suppress-shortcuts")){return-1}if(l.Selector.matches(n,e)){return r}if(n===i){return-1}}return-1}function _(e){var t=document.createEvent("Event");var n=e.bubbles||true;var i=e.cancelable||true;t.initEvent(e.type||"keydown",n,i);t.key=e.key||"";t.keyCode=e.keyCode||0;t.which=e.keyCode||0;t.ctrlKey=e.ctrlKey||false;t.altKey=e.altKey||false;t.shiftKey=e.shiftKey||false;t.metaKey=e.metaKey||false;t.view=e.view||window;return t}})(m||(m={}))},54745:(e,t,n)=>{"use strict";n.r(t);n.d(t,{JSONExt:()=>i,MimeData:()=>r,PromiseDelegate:()=>o,Random:()=>a,Token:()=>s,UUID:()=>u});var i;(function(e){e.emptyObject=Object.freeze({});e.emptyArray=Object.freeze([]);function t(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"}e.isPrimitive=t;function n(e){return Array.isArray(e)}e.isArray=n;function i(e){return!t(e)&&!n(e)}e.isObject=i;function r(e,i){if(e===i){return true}if(t(e)||t(i)){return false}var r=n(e);var o=n(i);if(r!==o){return false}if(r&&o){return a(e,i)}return s(e,i)}e.deepEqual=r;function o(e){if(t(e)){return e}if(n(e)){return u(e)}return l(e)}e.deepCopy=o;function a(e,t){if(e===t){return true}if(e.length!==t.length){return false}for(var n=0,i=e.length;n<i;++n){if(!r(e[n],t[n])){return false}}return true}function s(e,t){if(e===t){return true}for(var n in e){if(e[n]!==undefined&&!(n in t)){return false}}for(var n in t){if(t[n]!==undefined&&!(n in e)){return false}}for(var n in e){var i=e[n];var o=t[n];if(i===undefined&&o===undefined){continue}if(i===undefined||o===undefined){return false}if(!r(i,o)){return false}}return true}function u(e){var t=new Array(e.length);for(var n=0,i=e.length;n<i;++n){t[n]=o(e[n])}return t}function l(e){var t={};for(var n in e){var i=e[n];if(i===undefined){continue}t[n]=o(i)}return t}})(i||(i={}));var r=function(){function e(){this._types=[];this._values=[]}e.prototype.types=function(){return this._types.slice()};e.prototype.hasData=function(e){return this._types.indexOf(e)!==-1};e.prototype.getData=function(e){var t=this._types.indexOf(e);return t!==-1?this._values[t]:undefined};e.prototype.setData=function(e,t){this.clearData(e);this._types.push(e);this._values.push(t)};e.prototype.clearData=function(e){var t=this._types.indexOf(e);if(t!==-1){this._types.splice(t,1);this._values.splice(t,1)}};e.prototype.clear=function(){this._types.length=0;this._values.length=0};return e}();var o=function(){function e(){var e=this;this.promise=new Promise((function(t,n){e._resolve=t;e._reject=n}))}e.prototype.resolve=function(e){var t=this._resolve;t(e)};e.prototype.reject=function(e){var t=this._reject;t(e)};return e}();var a;(function(e){e.getRandomValues=function(){var e=typeof window!=="undefined"&&(window.crypto||window.msCrypto)||true&&n(28508)||null;if(e&&typeof e.getRandomValues==="function"){return function t(n){return e.getRandomValues(n)}}if(e&&typeof e.randomFillSync==="function"){return function t(n){return e.randomFillSync(n)}}if(e&&typeof e.randomBytes==="function"){return function t(n){var i=e.randomBytes(n.length);for(var r=0,o=i.length;r<o;++r){n[r]=i[r]}}}return function e(t){var n=0;for(var i=0,r=t.length;i<r;++i){if(i%4===0){n=Math.random()*4294967295>>>0}t[i]=n&255;n>>>=8}}}()})(a||(a={}));var s=function(){function e(e){this.name=e;this._tokenStructuralPropertyT=null}return e}();var u;(function(e){e.uuid4=function(){var e=new Uint8Array(16);var t=new Array(256);for(var n=0;n<16;++n){t[n]="0"+n.toString(16)}for(var n=16;n<256;++n){t[n]=n.toString(16)}return function n(){a.getRandomValues(e);e[6]=64|e[6]&15;e[8]=128|e[8]&63;return t[e[0]]+t[e[1]]+t[e[2]]+t[e[3]]+"-"+t[e[4]]+t[e[5]]+"-"+t[e[6]]+t[e[7]]+"-"+t[e[8]]+t[e[9]]+"-"+t[e[10]]+t[e[11]]+t[e[12]]+t[e[13]]+t[e[14]]+t[e[15]]}}()})(u||(u={}))},28921:(e,t,n)=>{"use strict";n.d(t,{Pl:()=>v,dN:()=>g,T6:()=>C,_$:()=>$,vQ:()=>F,tV:()=>K});var i=n(33513);var r=n.n(i);var o=n(38102);var a=n(43800);var s=n.n(a);var u=n(62867);var l=n.n(u);var c=n(75138);var h=n.n(c);var d=n(61389);var f=n.n(d);var p=n(32151);var m=n.n(p);var v=function(){function e(){this._disposed=false}Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:true,configurable:true});e.prototype.dispose=function(){this._disposed=true};e.prototype.onKeyDown=function(e,t){if(e.editable&&e.selectionModel.cursorRow!==-1&&e.selectionModel.cursorColumn!==-1){var n=String.fromCharCode(t.keyCode);if(/[a-zA-Z0-9-_ ]/.test(n)){var i=e.selectionModel.cursorRow;var r=e.selectionModel.cursorColumn;var a={grid:e,row:i,column:r};e.editorController.edit(a);if((0,o.Vc)().keyForKeydownEvent(t)==="Space"){t.stopPropagation();t.preventDefault()}return}}switch((0,o.Vc)().keyForKeydownEvent(t)){case"ArrowLeft":this.onArrowLeft(e,t);break;case"ArrowRight":this.onArrowRight(e,t);break;case"ArrowUp":this.onArrowUp(e,t);break;case"ArrowDown":this.onArrowDown(e,t);break;case"PageUp":this.onPageUp(e,t);break;case"PageDown":this.onPageDown(e,t);break;case"Escape":this.onEscape(e,t);break;case"Delete":this.onDelete(e,t);break;case"C":this.onKeyC(e,t);break;case"Enter":if(e.selectionModel){e.moveCursor(t.shiftKey?"up":"down");e.scrollToCursor()}break;case"Tab":if(e.selectionModel){e.moveCursor(t.shiftKey?"left":"right");e.scrollToCursor();t.stopPropagation();t.preventDefault()}break}};e.prototype.onArrowLeft=function(e,t){t.preventDefault();t.stopPropagation();var n=e.selectionModel;var r=t.shiftKey;var o=i.Platform.accelKey(t);if(!n&&o){e.scrollTo(0,e.scrollY);return}if(!n){e.scrollByStep("left");return}var a=n.selectionMode;if(a==="row"&&o){e.scrollTo(0,e.scrollY);return}if(a==="row"){e.scrollByStep("left");return}var s=n.cursorRow;var u=n.cursorColumn;var l=n.currentSelection();var c;var h;var d;var f;var p;var m;var v;if(o&&r){c=l?l.r1:0;h=l?l.r2:0;d=l?l.c1:0;f=0;p=s;m=u;v="current"}else if(r){c=l?l.r1:0;h=l?l.r2:0;d=l?l.c1:0;f=l?l.c2-1:0;p=s;m=u;v="current"}else if(o){c=s;h=s;d=0;f=0;p=c;m=d;v="all"}else{c=s;h=s;d=u-1;f=u-1;p=c;m=d;v="all"}n.select({r1:c,c1:d,r2:h,c2:f,cursorRow:p,cursorColumn:m,clear:v});l=n.currentSelection();if(!l){return}if(r||a==="column"){e.scrollToColumn(l.c2)}else{e.scrollToCursor()}};e.prototype.onArrowRight=function(e,t){t.preventDefault();t.stopPropagation();var n=e.selectionModel;var r=t.shiftKey;var o=i.Platform.accelKey(t);if(!n&&o){e.scrollTo(e.maxScrollX,e.scrollY);return}if(!n){e.scrollByStep("right");return}var a=n.selectionMode;if(a==="row"&&o){e.scrollTo(e.maxScrollX,e.scrollY);return}if(a==="row"){e.scrollByStep("right");return}var s=n.cursorRow;var u=n.cursorColumn;var l=n.currentSelection();var c;var h;var d;var f;var p;var m;var v;if(o&&r){c=l?l.r1:0;h=l?l.r2:0;d=l?l.c1:0;f=Infinity;p=s;m=u;v="current"}else if(r){c=l?l.r1:0;h=l?l.r2:0;d=l?l.c1:0;f=l?l.c2+1:0;p=s;m=u;v="current"}else if(o){c=s;h=s;d=Infinity;f=Infinity;p=c;m=d;v="all"}else{c=s;h=s;d=u+1;f=u+1;p=c;m=d;v="all"}n.select({r1:c,c1:d,r2:h,c2:f,cursorRow:p,cursorColumn:m,clear:v});l=n.currentSelection();if(!l){return}if(r||a==="column"){e.scrollToColumn(l.c2)}else{e.scrollToCursor()}};e.prototype.onArrowUp=function(e,t){t.preventDefault();t.stopPropagation();var n=e.selectionModel;var r=t.shiftKey;var o=i.Platform.accelKey(t);if(!n&&o){e.scrollTo(e.scrollX,0);return}if(!n){e.scrollByStep("up");return}var a=n.selectionMode;if(a==="column"&&o){e.scrollTo(e.scrollX,0);return}if(a==="column"){e.scrollByStep("up");return}var s=n.cursorRow;var u=n.cursorColumn;var l=n.currentSelection();var c;var h;var d;var f;var p;var m;var v;if(o&&r){c=l?l.r1:0;h=0;d=l?l.c1:0;f=l?l.c2:0;p=s;m=u;v="current"}else if(r){c=l?l.r1:0;h=l?l.r2-1:0;d=l?l.c1:0;f=l?l.c2:0;p=s;m=u;v="current"}else if(o){c=0;h=0;d=u;f=u;p=c;m=d;v="all"}else{c=s-1;h=s-1;d=u;f=u;p=c;m=d;v="all"}n.select({r1:c,c1:d,r2:h,c2:f,cursorRow:p,cursorColumn:m,clear:v});l=n.currentSelection();if(!l){return}if(r||a==="row"){e.scrollToRow(l.r2)}else{e.scrollToCursor()}};e.prototype.onArrowDown=function(e,t){t.preventDefault();t.stopPropagation();var n=e.selectionModel;var r=t.shiftKey;var o=i.Platform.accelKey(t);if(!n&&o){e.scrollTo(e.scrollX,e.maxScrollY);return}if(!n){e.scrollByStep("down");return}var a=n.selectionMode;if(a==="column"&&o){e.scrollTo(e.scrollX,e.maxScrollY);return}if(a==="column"){e.scrollByStep("down");return}var s=n.cursorRow;var u=n.cursorColumn;var l=n.currentSelection();var c;var h;var d;var f;var p;var m;var v;if(o&&r){c=l?l.r1:0;h=Infinity;d=l?l.c1:0;f=l?l.c2:0;p=s;m=u;v="current"}else if(r){c=l?l.r1:0;h=l?l.r2+1:0;d=l?l.c1:0;f=l?l.c2:0;p=s;m=u;v="current"}else if(o){c=Infinity;h=Infinity;d=u;f=u;p=c;m=d;v="all"}else{c=s+1;h=s+1;d=u;f=u;p=c;m=d;v="all"}n.select({r1:c,c1:d,r2:h,c2:f,cursorRow:p,cursorColumn:m,clear:v});l=n.currentSelection();if(!l){return}if(r||a==="row"){e.scrollToRow(l.r2)}else{e.scrollToCursor()}};e.prototype.onPageUp=function(e,t){if(i.Platform.accelKey(t)){return}t.preventDefault();t.stopPropagation();var n=e.selectionModel;if(!n||n.selectionMode==="column"){e.scrollByPage("up");return}var r=Math.floor(e.pageHeight/e.defaultSizes.rowHeight);var o=n.cursorRow;var a=n.cursorColumn;var s=n.currentSelection();var u;var l;var c;var h;var d;var f;var p;if(t.shiftKey){u=s?s.r1:0;l=s?s.r2-r:0;c=s?s.c1:0;h=s?s.c2:0;d=o;f=a;p="current"}else{u=s?s.r1-r:0;l=u;c=a;h=a;d=u;f=a;p="all"}n.select({r1:u,c1:c,r2:l,c2:h,cursorRow:d,cursorColumn:f,clear:p});s=n.currentSelection();if(!s){return}e.scrollToRow(s.r2)};e.prototype.onPageDown=function(e,t){if(i.Platform.accelKey(t)){return}t.preventDefault();t.stopPropagation();var n=e.selectionModel;if(!n||n.selectionMode==="column"){e.scrollByPage("down");return}var r=Math.floor(e.pageHeight/e.defaultSizes.rowHeight);var o=n.cursorRow;var a=n.cursorColumn;var s=n.currentSelection();var u;var l;var c;var h;var d;var f;var p;if(t.shiftKey){u=s?s.r1:0;l=s?s.r2+r:0;c=s?s.c1:0;h=s?s.c2:0;d=o;f=a;p="current"}else{u=s?s.r1+r:0;l=u;c=a;h=a;d=u;f=a;p="all"}n.select({r1:u,c1:c,r2:l,c2:h,cursorRow:d,cursorColumn:f,clear:p});s=n.currentSelection();if(!s){return}e.scrollToRow(s.r2)};e.prototype.onEscape=function(e,t){if(e.selectionModel){e.selectionModel.clear()}};e.prototype.onDelete=function(e,t){if(e.editable&&!e.selectionModel.isEmpty){var n=e.dataModel;var i=n.rowCount("body")-1;var r=n.columnCount("body")-1;var o=e.selectionModel.selections();var a=void 0;while((a=o.next())!==undefined){var s=Math.max(0,Math.min(a.r1,i));var u=Math.max(0,Math.min(a.c1,r));var l=Math.max(0,Math.min(a.r2,i));var c=Math.max(0,Math.min(a.c2,r));for(var h=s;h<=l;++h){for(var d=u;d<=c;++d){n.setData("body",h,d,null)}}}}};e.prototype.onKeyC=function(e,t){if(t.shiftKey||!i.Platform.accelKey(t)){return}t.preventDefault();t.stopPropagation();e.copyToClipboard()};return e}();var g=function(){function e(){this._disposed=false;this._pressData=null}e.prototype.dispose=function(){if(this._disposed){return}this.release();this._disposed=true};Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:true,configurable:true});e.prototype.release=function(){if(!this._pressData){return}if(this._pressData.type==="select"){this._pressData.timeout=-1}this._pressData.override.dispose();this._pressData=null};e.prototype.onMouseHover=function(e,t){var n=e.hitTest(t.clientX,t.clientY);var i=_.resizeHandleForHitTest(n);var r=this.cursorForHandle(i);e.viewport.node.style.cursor=r};e.prototype.onMouseLeave=function(e,t){e.viewport.node.style.cursor=""};e.prototype.onMouseDown=function(e,t){var n=t.clientX,r=t.clientY;var o=e.hitTest(n,r);var s=o.region,u=o.row,l=o.column;if(s==="void"){return}var c=t.shiftKey;var h=i.Platform.accelKey(t);if(s==="body"){var d=e.selectionModel;if(!d){return}var f=a.Drag.overrideCursor("default");this._pressData={type:"select",region:s,row:u,column:l,override:f,localX:-1,localY:-1,timeout:-1};var p;var m;var v;var g;var y;var b;var A;if(h){p=u;v=u;m=l;g=l;y=u;b=l;A="none"}else if(c){p=d.cursorRow;v=u;m=d.cursorColumn;g=l;y=d.cursorRow;b=d.cursorColumn;A="current"}else{p=u;v=u;m=l;g=l;y=u;b=l;A="all"}d.selectionMode="cell";d.select({r1:p,c1:m,r2:v,c2:g,cursorRow:y,cursorColumn:b,clear:A});return}var E=_.resizeHandleForHitTest(o);var w=this.cursorForHandle(E);if(E==="left"||E==="right"){var C="column-resize";var x=s==="column-header"?"body":"row-header";var M=E==="left"?l-1:l;var S=e.columnSize(x,M);var D=a.Drag.overrideCursor(w);this._pressData={type:C,region:x,index:M,size:S,clientX:n,override:D};return}if(E==="top"||E==="bottom"){var C="row-resize";var x=s==="row-header"?"body":"column-header";var M=E==="top"?u-1:u;var S=e.rowSize(x,M);var B=a.Drag.overrideCursor(w);this._pressData={type:C,region:x,index:M,size:S,clientY:r,override:B};return}var P=e.selectionModel;if(!P){return}var T=a.Drag.overrideCursor("default");this._pressData={type:"select",region:s,row:u,column:l,override:T,localX:-1,localY:-1,timeout:-1};var z;var R;var L;var k;var O;var I;var H;if(s==="corner-header"){z=0;L=Infinity;R=0;k=Infinity;O=h?0:c?P.cursorRow:0;I=h?0:c?P.cursorColumn:0;H=h?"none":c?"current":"all"}else if(s==="row-header"){z=h?u:c?P.cursorRow:u;L=u;R=0;k=Infinity;O=h?u:c?P.cursorRow:u;I=h?0:c?P.cursorColumn:0;H=h?"none":c?"current":"all"}else if(s==="column-header"){z=0;L=Infinity;R=h?l:c?P.cursorColumn:l;k=l;O=h?0:c?P.cursorRow:0;I=h?l:c?P.cursorColumn:l;H=h?"none":c?"current":"all"}else{z=h?u:c?P.cursorRow:u;L=u;R=h?l:c?P.cursorColumn:l;k=l;O=h?u:c?P.cursorRow:u;I=h?l:c?P.cursorColumn:l;H=h?"none":c?"current":"all"}switch(s){case"column-header":P.selectionMode="column";break;case"row-header":P.selectionMode="row";break;default:P.selectionMode="cell";break}P.select({r1:z,c1:R,r2:L,c2:k,cursorRow:O,cursorColumn:I,clear:H})};e.prototype.onMouseMove=function(e,t){var n=this._pressData;if(!n){return}if(n.type==="row-resize"){var i=t.clientY-n.clientY;e.resizeRow(n.region,n.index,n.size+i);return}if(n.type==="column-resize"){var r=t.clientX-n.clientX;e.resizeColumn(n.region,n.index,n.size+r);return}if(n.region==="corner-header"){return}var o=e.selectionModel;if(!o){return}var a=e.mapToLocal(t.clientX,t.clientY),s=a.lx,u=a.ly;n.localX=s;n.localY=u;var l=e.headerWidth;var c=e.headerHeight;var h=e.viewportWidth;var d=e.viewportHeight;var f=e.scrollX;var p=e.scrollY;var m=e.maxScrollY;var v=e.maxScrollY;var g=o.selectionMode;var y=-1;if(n.region==="row-header"||g==="row"){if(u<c&&p>0){y=_.computeTimeout(c-u)}else if(u>=d&&p<v){y=_.computeTimeout(u-d)}}else if(n.region==="column-header"||g==="column"){if(s<l&&f>0){y=_.computeTimeout(l-s)}else if(s>=h&&f<m){y=_.computeTimeout(s-h)}}else{if(s<l&&f>0){y=_.computeTimeout(l-s)}else if(s>=h&&f<m){y=_.computeTimeout(s-h)}else if(u<c&&p>0){y=_.computeTimeout(c-u)}else if(u>=d&&p<v){y=_.computeTimeout(u-d)}}if(y>=0){if(n.timeout<0){n.timeout=y;setTimeout((function(){_.autoselect(e,n)}),y)}else{n.timeout=y}return}n.timeout=-1;var b=e.mapToVirtual(t.clientX,t.clientY),A=b.vx,E=b.vy;A=Math.max(0,Math.min(A,e.bodyWidth-1));E=Math.max(0,Math.min(E,e.bodyHeight-1));var w;var C;var x;var M;var S=o.cursorRow;var D=o.cursorColumn;var B="current";if(n.region==="row-header"||g==="row"){w=n.row;x=e.rowAt("body",E);C=0;M=Infinity}else if(n.region==="column-header"||g==="column"){w=0;x=Infinity;C=n.column;M=e.columnAt("body",A)}else{w=S;x=e.rowAt("body",E);C=D;M=e.columnAt("body",A)}o.select({r1:w,c1:C,r2:x,c2:M,cursorRow:S,cursorColumn:D,clear:B})};e.prototype.onMouseUp=function(e,t){this.release()};e.prototype.onMouseDoubleClick=function(e,t){if(!e.dataModel){this.release();return}var n=t.clientX,i=t.clientY;var r=e.hitTest(n,i);var o=r.region,a=r.row,s=r.column;if(o==="void"){this.release();return}if(o==="body"){if(e.editable){var u={grid:e,row:a,column:s};e.editorController.edit(u)}}this.release()};e.prototype.onContextMenu=function(e,t){};e.prototype.onWheel=function(e,t){if(this._pressData){return}var n=t.deltaX;var i=t.deltaY;switch(t.deltaMode){case 0:break;case 1:var r=e.defaultSizes;n*=r.columnWidth;i*=r.rowHeight;break;case 2:n*=e.pageWidth;i*=e.pageHeight;break;default:throw"unreachable"}e.scrollBy(n,i)};e.prototype.cursorForHandle=function(e){return _.cursorMap[e]};Object.defineProperty(e.prototype,"pressData",{get:function(){return this._pressData},enumerable:true,configurable:true});return e}();var _;(function(e){function t(e){var t=e.row;var n=e.column;var i=e.x;var r=e.y;var o=e.width-e.x;var a=e.height-e.y;var s;switch(e.region){case"corner-header":if(n>0&&i<=5){s="left"}else if(o<=6){s="right"}else if(t>0&&r<=5){s="top"}else if(a<=6){s="bottom"}else{s="none"}break;case"column-header":if(n>0&&i<=5){s="left"}else if(o<=6){s="right"}else if(t>0&&r<=5){s="top"}else if(a<=6){s="bottom"}else{s="none"}break;case"row-header":if(n>0&&i<=5){s="left"}else if(o<=6){s="right"}else if(t>0&&r<=5){s="top"}else if(a<=6){s="bottom"}else{s="none"}break;case"body":s="none";break;case"void":s="none";break;default:throw"unreachable"}return s}e.resizeHandleForHitTest=t;function n(e,t){if(t.timeout<0){return}var i=e.selectionModel;if(!i){return}var r=i.currentSelection();if(!r){return}var o=t.localX;var a=t.localY;var s=r.r1;var u=r.c1;var l=r.r2;var c=r.c2;var h=i.cursorRow;var d=i.cursorColumn;var f="current";var p=e.headerWidth;var m=e.headerHeight;var v=e.viewportWidth;var g=e.viewportHeight;var _=i.selectionMode;if(t.region==="row-header"||_==="row"){l+=a<=m?-1:a>=g?1:0}else if(t.region==="column-header"||_==="column"){c+=o<=p?-1:o>=v?1:0}else{l+=a<=m?-1:a>=g?1:0;c+=o<=p?-1:o>=v?1:0}i.select({r1:s,c1:u,r2:l,c2:c,cursorRow:h,cursorColumn:d,clear:f});r=i.currentSelection();if(!r){return}if(t.region==="row-header"||_==="row"){e.scrollToRow(r.r2)}else if(t.region==="column-header"||_=="column"){e.scrollToColumn(r.c2)}else if(_==="cell"){e.scrollToCell(r.r2,r.c2)}setTimeout((function(){n(e,t)}),t.timeout)}e.autoselect=n;function i(e){return 5+120*(1-Math.min(128,Math.abs(e))/128)}e.computeTimeout=i;e.cursorMap={top:"ns-resize",left:"ew-resize",right:"ew-resize",bottom:"ns-resize",none:"default"}})(_||(_={}));var y=function(e,t){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return y(e,t)};function b(e,t){y(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var A=function(){A=Object.assign||function e(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o))t[o]=n[o]}return t};return A.apply(this,arguments)};var E=function(){function e(e){this._changed=new c.Signal(this);this._selectionMode="cell";this.dataModel=e.dataModel;this._selectionMode=e.selectionMode||"cell";this.dataModel.changed.connect(this.onDataModelChanged,this)}Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(e){if(this._selectionMode===e){return}this._selectionMode=e;this.clear()},enumerable:true,configurable:true});e.prototype.isRowSelected=function(e){return(0,u.some)(this.selections(),(function(t){return w.containsRow(t,e)}))};e.prototype.isColumnSelected=function(e){return(0,u.some)(this.selections(),(function(t){return w.containsColumn(t,e)}))};e.prototype.isCellSelected=function(e,t){return(0,u.some)(this.selections(),(function(n){return w.containsCell(n,e,t)}))};e.prototype.onDataModelChanged=function(e,t){};e.prototype.emitChanged=function(){this._changed.emit(undefined)};return e}();var w;(function(e){function t(e,t){var n=e.r1,i=e.r2;return t>=n&&t<=i||t>=i&&t<=n}e.containsRow=t;function n(e,t){var n=e.c1,i=e.c2;return t>=n&&t<=i||t>=i&&t<=n}e.containsColumn=n;function i(e,i,r){return t(e,i)&&n(e,r)}e.containsCell=i})(w||(w={}));var C=function(e){b(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t._cursorRow=-1;t._cursorColumn=-1;t._cursorRectIndex=-1;t._selections=[];return t}Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._selections.length===0},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"cursorRow",{get:function(){return this._cursorRow},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"cursorColumn",{get:function(){return this._cursorColumn},enumerable:true,configurable:true});t.prototype.moveCursorWithinSelections=function(e){var t=this;if(this.isEmpty||this.cursorRow===-1||this._cursorColumn===-1){return}var n=this._selections[0];if(this._selections.length===1&&n.r1===n.r2&&n.c1===n.c2){return}if(this._cursorRectIndex===-1){this._cursorRectIndex=this._selections.length-1}var i=this._selections[this._cursorRectIndex];var r=e==="down"?1:e==="up"?-1:0;var o=e==="right"?1:e==="left"?-1:0;var a=this._cursorRow+r;var s=this._cursorColumn+o;var u=Math.min(i.r1,i.r2);var l=Math.max(i.r1,i.r2);var c=Math.min(i.c1,i.c2);var h=Math.max(i.c1,i.c2);var d=function(){t._cursorRectIndex=(t._cursorRectIndex+1)%t._selections.length;i=t._selections[t._cursorRectIndex];a=Math.min(i.r1,i.r2);s=Math.min(i.c1,i.c2)};var f=function(){t._cursorRectIndex=t._cursorRectIndex===0?t._selections.length-1:t._cursorRectIndex-1;i=t._selections[t._cursorRectIndex];a=Math.max(i.r1,i.r2);s=Math.max(i.c1,i.c2)};if(a>l){a=u;s+=1;if(s>h){d()}}else if(a<u){a=l;s-=1;if(s<c){f()}}else if(s>h){s=c;a+=1;if(a>l){d()}}else if(s<c){s=h;a-=1;if(a<u){f()}}this._cursorRow=a;this._cursorColumn=s;this.emitChanged()};t.prototype.currentSelection=function(){return this._selections[this._selections.length-1]||null};t.prototype.selections=function(){return(0,u.iter)(this._selections)};t.prototype.select=function(e){var t=this.dataModel.rowCount("body");var n=this.dataModel.columnCount("body");if(t<=0||n<=0){return}var i=e.r1,r=e.c1,o=e.r2,a=e.c2,s=e.cursorRow,u=e.cursorColumn,l=e.clear;if(l==="all"){this._selections.length=0}else if(l==="current"){this._selections.pop()}i=Math.max(0,Math.min(i,t-1));o=Math.max(0,Math.min(o,t-1));r=Math.max(0,Math.min(r,n-1));a=Math.max(0,Math.min(a,n-1));if(this.selectionMode==="row"){r=0;a=n-1}else if(this.selectionMode==="column"){i=0;o=t-1}var c=s;var h=u;if(c<0||c<i&&c<o||c>i&&c>o){c=i}if(h<0||h<r&&h<a||h>r&&h>a){h=r}this._cursorRow=c;this._cursorColumn=h;this._cursorRectIndex=this._selections.length;this._selections.push({r1:i,c1:r,r2:o,c2:a});this.emitChanged()};t.prototype.clear=function(){if(this._selections.length===0){return}this._cursorRow=-1;this._cursorColumn=-1;this._cursorRectIndex=-1;this._selections.length=0;this.emitChanged()};t.prototype.onDataModelChanged=function(e,t){if(this._selections.length===0){return}if(t.type==="cells-changed"){return}if(t.type==="rows-moved"||t.type==="columns-moved"){return}var n=e.rowCount("body")-1;var i=e.columnCount("body")-1;if(n<0||i<0){this._selections.length=0;this.emitChanged();return}var r=this.selectionMode;var o=0;for(var a=0,s=this._selections.length;a<s;++a){var u=this._selections[a],l=u.r1,c=u.c1,h=u.r2,d=u.c2;if(n<l&&n<h||i<c&&i<d){continue}if(r==="row"){l=Math.max(0,Math.min(l,n));h=Math.max(0,Math.min(h,n));c=0;d=i}else if(r==="column"){l=0;h=n;c=Math.max(0,Math.min(c,i));d=Math.max(0,Math.min(d,i))}else{l=Math.max(0,Math.min(l,n));h=Math.max(0,Math.min(h,n));c=Math.max(0,Math.min(c,i));d=Math.max(0,Math.min(d,i))}this._selections[o++]={r1:l,c1:c,r2:h,c2:d}}this._selections.length=o;this.emitChanged()};return t}(E);var x=function(){function e(){}return e}();(function(e){function t(e,t){return typeof e==="function"?e(t):e}e.resolveOption=t})(x||(x={}));var M=function(e){b(t,e);function t(t){var n=e.call(this,{node:S.createNode()})||this;n._message="";n.addClass("lm-DataGrid-notification");n.setFlag(d.Widget.Flag.DisallowLayout);n._target=t.target;n._message=t.message||"";n._placement=t.placement||"bottom";d.Widget.attach(n,document.body);if(t.timeout&&t.timeout>0){setTimeout((function(){n.close()}),t.timeout)}return n}t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault();e.stopPropagation();break}};Object.defineProperty(t.prototype,"placement",{get:function(){return this._placement},set:function(e){if(this._placement===e){return}this._placement=e;this.update()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"message",{get:function(){return this._message},set:function(e){if(this._message===e){return}this._message=e;this.update()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"messageNode",{get:function(){return this.node.getElementsByClassName("lm-DataGrid-notificationMessage")[0]},enumerable:true,configurable:true});t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this);this.update()};t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this)};t.prototype.onUpdateRequest=function(e){var t=this._target.getBoundingClientRect();var n=this.node.style;switch(this._placement){case"bottom":n.left=t.left+"px";n.top=t.bottom+"px";break;case"top":n.left=t.left+"px";n.height=t.top+"px";n.top="0";n.alignItems="flex-end";n.justifyContent="flex-end";break;case"left":n.left="0";n.width=t.left+"px";n.top=t.top+"px";n.alignItems="flex-end";n.justifyContent="flex-end";break;case"right":n.left=t.right+"px";n.top=t.top+"px";break}this.messageNode.innerHTML=this._message};t.prototype._evtMouseDown=function(e){if(e.button!==0){return}e.preventDefault();e.stopPropagation();this.close()};return t}(d.Widget);var S;(function(e){function t(){var e=document.createElement("div");var t=document.createElement("div");t.className="lm-DataGrid-notificationContainer";var n=document.createElement("span");n.className="lm-DataGrid-notificationMessage";t.appendChild(n);e.appendChild(t);return e}e.createNode=t})(S||(S={}));var D="Invalid input!";var B=function(){function e(){}e.prototype.validate=function(e,t){return{valid:true}};return e}();var P=function(){function e(){this.minLength=Number.NaN;this.maxLength=Number.NaN;this.pattern=null}e.prototype.validate=function(e,t){if(t===null){return{valid:true}}if(typeof t!=="string"){return{valid:false,message:"Input must be valid text"}}if(!isNaN(this.minLength)&&t.length<this.minLength){return{valid:false,message:"Text length must be greater than "+this.minLength}}if(!isNaN(this.maxLength)&&t.length>this.maxLength){return{valid:false,message:"Text length must be less than "+this.maxLength}}if(this.pattern&&!this.pattern.test(t)){return{valid:false,message:"Text doesn't match the required pattern"}}return{valid:true}};return e}();var T=function(){function e(){this.min=Number.NaN;this.max=Number.NaN}e.prototype.validate=function(e,t){if(t===null){return{valid:true}}if(isNaN(t)||t%1!==0){return{valid:false,message:"Input must be valid integer"}}if(!isNaN(this.min)&&t<this.min){return{valid:false,message:"Input must be greater than "+this.min}}if(!isNaN(this.max)&&t>this.max){return{valid:false,message:"Input must be less than "+this.max}}return{valid:true}};return e}();var z=function(){function e(){this.min=Number.NaN;this.max=Number.NaN}e.prototype.validate=function(e,t){if(t===null){return{valid:true}}if(isNaN(t)){return{valid:false,message:"Input must be valid number"}}if(!isNaN(this.min)&&t<this.min){return{valid:false,message:"Input must be greater than "+this.min}}if(!isNaN(this.max)&&t>this.max){return{valid:false,message:"Input must be less than "+this.max}}return{valid:true}};return e}();var R=function(){function e(){var e=this;this.inputChanged=new c.Signal(this);this.validityNotification=null;this._disposed=false;this._validInput=true;this._gridWheelEventHandler=null;this.inputChanged.connect((function(){e.validate()}))}Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:true,configurable:true});e.prototype.dispose=function(){if(this._disposed){return}if(this._gridWheelEventHandler){this.cell.grid.node.removeEventListener("wheel",this._gridWheelEventHandler);this._gridWheelEventHandler=null}this._closeValidityNotification();this._disposed=true;this.cell.grid.node.removeChild(this.viewportOccluder)};e.prototype.edit=function(e,t){var n=this;this.cell=e;this.onCommit=t&&t.onCommit;this.onCancel=t&&t.onCancel;this.validator=t&&t.validator?t.validator:this.createValidatorBasedOnType();this._gridWheelEventHandler=function(){n._closeValidityNotification();n.updatePosition()};e.grid.node.addEventListener("wheel",this._gridWheelEventHandler);this._addContainer();this.updatePosition();this.startEditing()};e.prototype.cancel=function(){if(this._disposed){return}this.dispose();if(this.onCancel){this.onCancel()}};Object.defineProperty(e.prototype,"validInput",{get:function(){return this._validInput},enumerable:true,configurable:true});e.prototype.validate=function(){var e;try{e=this.getInput()}catch(n){console.log("Input error: "+n.message);this.setValidity(false,n.message||D);return}if(this.validator){var t=this.validator.validate(this.cell,e);if(t.valid){this.setValidity(true)}else{this.setValidity(false,t.message||D)}}else{this.setValidity(true)}};e.prototype.setValidity=function(e,t){if(t===void 0){t=""}this._validInput=e;this._closeValidityNotification();if(e){this.editorContainer.classList.remove("lm-mod-invalid")}else{this.editorContainer.classList.add("lm-mod-invalid");if(t!==""){this.validityNotification=new M({target:this.editorContainer,message:t,placement:"bottom",timeout:5e3});this.validityNotification.show()}}};e.prototype.createValidatorBasedOnType=function(){var e=this.cell;var t=e.grid.dataModel.metadata("body",e.row,e.column);switch(t&&t.type){case"string":{var n=new P;if(typeof t.format==="string"){var i=t.format;switch(i){case"email":n.pattern=new RegExp("^([a-z0-9_.-]+)@([da-z.-]+).([a-z.]{2,6})$");break;case"uuid":n.pattern=new RegExp("[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}");break}}if(t.constraint){if(t.constraint.minLength!==undefined){n.minLength=t.constraint.minLength}if(t.constraint.maxLength!==undefined){n.maxLength=t.constraint.maxLength}if(typeof t.constraint.pattern==="string"){n.pattern=new RegExp(t.constraint.pattern)}}return n}case"number":{var n=new z;if(t.constraint){if(t.constraint.minimum!==undefined){n.min=t.constraint.minimum}if(t.constraint.maximum!==undefined){n.max=t.constraint.maximum}}return n}case"integer":{var n=new T;if(t.constraint){if(t.constraint.minimum!==undefined){n.min=t.constraint.minimum}if(t.constraint.maximum!==undefined){n.max=t.constraint.maximum}}return n}}return undefined};e.prototype.getCellInfo=function(e){var t=e.grid,n=e.row,i=e.column;var r=t.dataModel.data("body",n,i);var o=t.headerWidth-t.scrollX+t.columnOffset("body",i);var a=t.headerHeight-t.scrollY+t.rowOffset("body",n);var s=t.columnSize("body",i);var u=t.rowSize("body",n);return{grid:t,row:n,column:i,data:r,x:o,y:a,width:s,height:u}};e.prototype.updatePosition=function(){var e=this.cell.grid;var t=this.getCellInfo(this.cell);var n=e.headerHeight;var i=e.headerWidth;this.viewportOccluder.style.top=n+"px";this.viewportOccluder.style.left=i+"px";this.viewportOccluder.style.width=e.viewportWidth-i+"px";this.viewportOccluder.style.height=e.viewportHeight-n+"px";this.viewportOccluder.style.position="absolute";this.editorContainer.style.left=t.x-1-i+"px";this.editorContainer.style.top=t.y-1-n+"px";this.editorContainer.style.width=t.width+1+"px";this.editorContainer.style.height=t.height+1+"px";this.editorContainer.style.visibility="visible";this.editorContainer.style.position="absolute"};e.prototype.commit=function(e){if(e===void 0){e="none"}this.validate();if(!this._validInput){return false}var t;try{t=this.getInput()}catch(n){console.log("Input error: "+n.message);return false}this.dispose();if(this.onCommit){this.onCommit({cell:this.cell,value:t,cursorMovement:e})}return true};e.prototype._addContainer=function(){var e=this;this.viewportOccluder=document.createElement("div");this.viewportOccluder.className="lm-DataGrid-cellEditorOccluder";this.cell.grid.node.appendChild(this.viewportOccluder);this.editorContainer=document.createElement("div");this.editorContainer.className="lm-DataGrid-cellEditorContainer";this.viewportOccluder.appendChild(this.editorContainer);this.editorContainer.addEventListener("mouseleave",(function(t){e.viewportOccluder.style.pointerEvents=e._validInput?"none":"auto"}));this.editorContainer.addEventListener("mouseenter",(function(t){e.viewportOccluder.style.pointerEvents="none"}))};e.prototype._closeValidityNotification=function(){if(this.validityNotification){this.validityNotification.close();this.validityNotification=null}};return e}();var L=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._onKeyDown(e);break;case"blur":this._onBlur(e);break;case"input":this._onInput(e);break}};t.prototype.dispose=function(){if(this.isDisposed){return}this._unbindEvents();e.prototype.dispose.call(this)};t.prototype.startEditing=function(){this.createWidget();var e=this.cell;var t=this.getCellInfo(e);this.input.value=this.deserialize(t.data);this.editorContainer.appendChild(this.input);this.input.focus();this.input.select();this.bindEvents()};t.prototype.deserialize=function(e){if(e===null||e===undefined){return""}return e.toString()};t.prototype.createWidget=function(){var e=document.createElement("input");e.classList.add("lm-DataGrid-cellEditorWidget");e.classList.add("lm-DataGrid-cellEditorInput");e.spellcheck=false;e.type=this.inputType;this.input=e};t.prototype.bindEvents=function(){this.input.addEventListener("keydown",this);this.input.addEventListener("blur",this);this.input.addEventListener("input",this)};t.prototype._unbindEvents=function(){this.input.removeEventListener("keydown",this);this.input.removeEventListener("blur",this);this.input.removeEventListener("input",this)};t.prototype._onKeyDown=function(e){switch((0,o.Vc)().keyForKeydownEvent(e)){case"Enter":this.commit(e.shiftKey?"up":"down");break;case"Tab":this.commit(e.shiftKey?"left":"right");e.stopPropagation();e.preventDefault();break;case"Escape":this.cancel();break}};t.prototype._onBlur=function(e){if(this.isDisposed){return}if(!this.commit()){e.preventDefault();e.stopPropagation();this.input.focus()}};t.prototype._onInput=function(e){this.inputChanged.emit(void 0)};return t}(R);var k=function(e){b(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.inputType="text";return t}t.prototype.getInput=function(){return this.input.value};return t}(L);var O=function(e){b(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.inputType="number";return t}t.prototype.startEditing=function(){e.prototype.startEditing.call(this);this.input.step="any";var t=this.cell;var n=t.grid.dataModel.metadata("body",t.row,t.column);var i=n.constraint;if(i){if(i.minimum){this.input.min=i.minimum}if(i.maximum){this.input.max=i.maximum}}};t.prototype.getInput=function(){var e=this.input.value;if(e.trim()===""){return null}var t=parseFloat(e);if(isNaN(t)){throw new Error("Invalid input")}return t};return t}(L);var I=function(e){b(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.inputType="number";return t}t.prototype.startEditing=function(){e.prototype.startEditing.call(this);this.input.step="1";var t=this.cell;var n=t.grid.dataModel.metadata("body",t.row,t.column);var i=n.constraint;if(i){if(i.minimum){this.input.min=i.minimum}if(i.maximum){this.input.max=i.maximum}}};t.prototype.getInput=function(){var e=this.input.value;if(e.trim()===""){return null}var t=parseInt(e);if(isNaN(t)){throw new Error("Invalid input")}return t};return t}(L);var H=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._onKeyDown(e);break;case"blur":this._onBlur(e);break}};t.prototype.dispose=function(){if(this.isDisposed){return}this._unbindEvents();e.prototype.dispose.call(this)};t.prototype.startEditing=function(){this._createWidget();var e=this.cell;var t=this.getCellInfo(e);this._input.value=this._deserialize(t.data);this.editorContainer.appendChild(this._input);this._input.focus();this._bindEvents()};t.prototype.getInput=function(){return this._input.value};t.prototype._deserialize=function(e){if(e===null||e===undefined){return""}return e.toString()};t.prototype._createWidget=function(){var e=document.createElement("input");e.type="date";e.pattern="d{4}-d{2}-d{2}";e.classList.add("lm-DataGrid-cellEditorWidget");e.classList.add("lm-DataGrid-cellEditorInput");this._input=e};t.prototype._bindEvents=function(){this._input.addEventListener("keydown",this);this._input.addEventListener("blur",this)};t.prototype._unbindEvents=function(){this._input.removeEventListener("keydown",this);this._input.removeEventListener("blur",this)};t.prototype._onKeyDown=function(e){switch((0,o.Vc)().keyForKeydownEvent(e)){case"Enter":this.commit(e.shiftKey?"up":"down");break;case"Tab":this.commit(e.shiftKey?"left":"right");e.stopPropagation();e.preventDefault();break;case"Escape":this.cancel();break}};t.prototype._onBlur=function(e){if(this.isDisposed){return}if(!this.commit()){e.preventDefault();e.stopPropagation();this._input.focus()}};return t}(R);var j=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._onKeyDown(e);break;case"mousedown":this._input.focus();e.stopPropagation();e.preventDefault();break;case"blur":this._onBlur(e);break}};t.prototype.dispose=function(){if(this.isDisposed){return}this._unbindEvents();e.prototype.dispose.call(this)};t.prototype.startEditing=function(){this._createWidget();var e=this.cell;var t=this.getCellInfo(e);this._input.checked=this._deserialize(t.data);this.editorContainer.appendChild(this._input);this._input.focus();this._bindEvents()};t.prototype.getInput=function(){return this._input.checked};t.prototype._deserialize=function(e){if(e===null||e===undefined){return false}return e==true};t.prototype._createWidget=function(){var e=document.createElement("input");e.classList.add("lm-DataGrid-cellEditorWidget");e.classList.add("lm-DataGrid-cellEditorCheckbox");e.type="checkbox";e.spellcheck=false;this._input=e};t.prototype._bindEvents=function(){this._input.addEventListener("keydown",this);this._input.addEventListener("mousedown",this);this._input.addEventListener("blur",this)};t.prototype._unbindEvents=function(){this._input.removeEventListener("keydown",this);this._input.removeEventListener("mousedown",this);this._input.removeEventListener("blur",this)};t.prototype._onKeyDown=function(e){switch((0,o.Vc)().keyForKeydownEvent(e)){case"Enter":this.commit(e.shiftKey?"up":"down");break;case"Tab":this.commit(e.shiftKey?"left":"right");e.stopPropagation();e.preventDefault();break;case"Escape":this.cancel();break}};t.prototype._onBlur=function(e){if(this.isDisposed){return}if(!this.commit()){e.preventDefault();e.stopPropagation();this._input.focus()}};return t}(R);var N=function(e){b(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t._isMultiSelect=false;return t}t.prototype.dispose=function(){if(this.isDisposed){return}e.prototype.dispose.call(this);if(this._isMultiSelect){document.body.removeChild(this._select)}};t.prototype.startEditing=function(){var e=this.cell;var t=this.getCellInfo(e);var n=e.grid.dataModel.metadata("body",e.row,e.column);this._isMultiSelect=n.type==="array";this._createWidget();if(this._isMultiSelect){this._select.multiple=true;var i=this._deserialize(t.data);for(var r=0;r<this._select.options.length;++r){var o=this._select.options.item(r);o.selected=i.indexOf(o.value)!==-1}document.body.appendChild(this._select)}else{this._select.value=this._deserialize(t.data);this.editorContainer.appendChild(this._select)}this._select.focus();this._bindEvents();this.updatePosition()};t.prototype.getInput=function(){if(this._isMultiSelect){var e=[];for(var t=0;t<this._select.selectedOptions.length;++t){e.push(this._select.selectedOptions.item(t).value)}return e}else{return this._select.value}};t.prototype.updatePosition=function(){e.prototype.updatePosition.call(this);if(!this._isMultiSelect){return}var t=this.getCellInfo(this.cell);this._select.style.position="absolute";var n=this.editorContainer.getBoundingClientRect();this._select.style.left=n.left+"px";this._select.style.top=n.top+t.height+"px";this._select.style.width=n.width+"px";this._select.style.maxHeight="60px";this.editorContainer.style.visibility="hidden"};t.prototype._deserialize=function(e){if(e===null||e===undefined){return""}if(this._isMultiSelect){var t=[];if(Array.isArray(e)){for(var n=0,i=e;n<i.length;n++){var r=i[n];t.push(r.toString())}}return t}else{return e.toString()}};t.prototype._createWidget=function(){var e=this.cell;var t=e.grid.dataModel.metadata("body",e.row,e.column);var n=t.constraint.enum;var i=document.createElement("select");i.classList.add("lm-DataGrid-cellEditorWidget");for(var r=0,o=n;r<o.length;r++){var a=o[r];var s=document.createElement("option");s.value=a;s.text=a;i.appendChild(s)}this._select=i};t.prototype._bindEvents=function(){this._select.addEventListener("keydown",this._onKeyDown.bind(this));this._select.addEventListener("blur",this._onBlur.bind(this))};t.prototype._onKeyDown=function(e){switch((0,o.Vc)().keyForKeydownEvent(e)){case"Enter":this.commit(e.shiftKey?"up":"down");break;case"Tab":this.commit(e.shiftKey?"left":"right");e.stopPropagation();e.preventDefault();break;case"Escape":this.cancel();break}};t.prototype._onBlur=function(e){if(this.isDisposed){return}if(!this.commit()){e.preventDefault();e.stopPropagation();this._select.focus()}};return t}(R);var W=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._onKeyDown(e);break;case"blur":this._onBlur(e);break}};t.prototype.dispose=function(){if(this.isDisposed){return}this._unbindEvents();e.prototype.dispose.call(this)};t.prototype.startEditing=function(){this._createWidget();var e=this.cell;var t=this.getCellInfo(e);this._input.value=this._deserialize(t.data);this.editorContainer.appendChild(this._input);this._input.focus();this._input.select();this._bindEvents()};t.prototype.getInput=function(){return this._input.value};t.prototype._deserialize=function(e){if(e===null||e===undefined){return""}return e.toString()};t.prototype._createWidget=function(){var e=this.cell;var t=e.grid;var n=t.dataModel;var i=n.rowCount("body");var r="cell-editor-list";var o=document.createElement("datalist");o.id=r;var a=document.createElement("input");a.classList.add("lm-DataGrid-cellEditorWidget");a.classList.add("lm-DataGrid-cellEditorInput");var s=new Set;for(var u=0;u<i;++u){var l=n.data("body",u,e.column);if(l){s.add(l)}}s.forEach((function(e){var t=document.createElement("option");t.value=e;t.text=e;o.appendChild(t)}));this.editorContainer.appendChild(o);a.setAttribute("list",r);this._input=a};t.prototype._bindEvents=function(){this._input.addEventListener("keydown",this);this._input.addEventListener("blur",this)};t.prototype._unbindEvents=function(){this._input.removeEventListener("keydown",this);this._input.removeEventListener("blur",this)};t.prototype._onKeyDown=function(e){switch((0,o.Vc)().keyForKeydownEvent(e)){case"Enter":this.commit(e.shiftKey?"up":"down");break;case"Tab":this.commit(e.shiftKey?"left":"right");e.stopPropagation();e.preventDefault();break;case"Escape":this.cancel();break}};t.prototype._onBlur=function(e){if(this.isDisposed){return}if(!this.commit()){e.preventDefault();e.stopPropagation();this._input.focus()}};return t}(R);var F=function(){function e(){this._changed=new c.Signal(this)}Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:true,configurable:true});e.prototype.metadata=function(t,n,i){return e.emptyMetadata};e.prototype.emitChanged=function(e){this._changed.emit(e)};return e}();var q=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(F);(function(e){e.emptyMetadata=Object.freeze({})})(F||(F={}));var G=function(){function e(e){this._disposed=false;this._context=e;this._state=V.State.create(e)}e.prototype.dispose=function(){if(this._disposed){return}this._disposed=true;while(this._state.next){this._state=this._state.next;this._context.restore()}};Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"fillStyle",{get:function(){return this._context.fillStyle},set:function(e){if(this._state.fillStyle!==e){this._state.fillStyle=e;this._context.fillStyle=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"strokeStyle",{get:function(){return this._context.strokeStyle},set:function(e){if(this._state.strokeStyle!==e){this._state.strokeStyle=e;this._context.strokeStyle=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"font",{get:function(){return this._context.font},set:function(e){if(this._state.font!==e){this._state.font=e;this._context.font=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._context.textAlign},set:function(e){if(this._state.textAlign!==e){this._state.textAlign=e;this._context.textAlign=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._context.textBaseline},set:function(e){if(this._state.textBaseline!==e){this._state.textBaseline=e;this._context.textBaseline=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"lineCap",{get:function(){return this._context.lineCap},set:function(e){if(this._state.lineCap!==e){this._state.lineCap=e;this._context.lineCap=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"lineDashOffset",{get:function(){return this._context.lineDashOffset},set:function(e){if(this._state.lineDashOffset!==e){this._state.lineDashOffset=e;this._context.lineDashOffset=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._context.lineJoin},set:function(e){if(this._state.lineJoin!==e){this._state.lineJoin=e;this._context.lineJoin=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._context.lineWidth},set:function(e){if(this._state.lineWidth!==e){this._state.lineWidth=e;this._context.lineWidth=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._context.miterLimit},set:function(e){if(this._state.miterLimit!==e){this._state.miterLimit=e;this._context.miterLimit=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"shadowBlur",{get:function(){return this._context.shadowBlur},set:function(e){if(this._state.shadowBlur!==e){this._state.shadowBlur=e;this._context.shadowBlur=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"shadowColor",{get:function(){return this._context.shadowColor},set:function(e){if(this._state.shadowColor!==e){this._state.shadowColor=e;this._context.shadowColor=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"shadowOffsetX",{get:function(){return this._context.shadowOffsetX},set:function(e){if(this._state.shadowOffsetX!==e){this._state.shadowOffsetX=e;this._context.shadowOffsetX=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"shadowOffsetY",{get:function(){return this._context.shadowOffsetY},set:function(e){if(this._state.shadowOffsetY!==e){this._state.shadowOffsetY=e;this._context.shadowOffsetY=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"imageSmoothingEnabled",{get:function(){return this._context.imageSmoothingEnabled},set:function(e){if(this._state.imageSmoothingEnabled!==e){this._state.imageSmoothingEnabled=e;this._context.imageSmoothingEnabled=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"globalAlpha",{get:function(){return this._context.globalAlpha},set:function(e){if(this._state.globalAlpha!==e){this._state.globalAlpha=e;this._context.globalAlpha=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"globalCompositeOperation",{get:function(){return this._context.globalCompositeOperation},set:function(e){if(this._state.globalCompositeOperation!==e){this._state.globalCompositeOperation=e;this._context.globalCompositeOperation=e}},enumerable:true,configurable:true});e.prototype.getLineDash=function(){return this._context.getLineDash()};e.prototype.setLineDash=function(e){this._context.setLineDash(e)};e.prototype.rotate=function(e){this._context.rotate(e)};e.prototype.scale=function(e,t){this._context.scale(e,t)};e.prototype.transform=function(e,t,n,i,r,o){this._context.transform(e,t,n,i,r,o)};e.prototype.translate=function(e,t){this._context.translate(e,t)};e.prototype.setTransform=function(e,t,n,i,r,o){this._context.setTransform(e,t,n,i,r,o)};e.prototype.save=function(){this._state=V.State.push(this._state);this._context.save()};e.prototype.restore=function(){if(!this._state.next){return}this._state=V.State.pop(this._state);this._context.restore()};e.prototype.beginPath=function(){return this._context.beginPath()};e.prototype.closePath=function(){this._context.closePath()};e.prototype.isPointInPath=function(e,t,n){var i;if(arguments.length===2){i=this._context.isPointInPath(e,t)}else{i=this._context.isPointInPath(e,t,n)}return i};e.prototype.arc=function(e,t,n,i,r,o){if(arguments.length===5){this._context.arc(e,t,n,i,r)}else{this._context.arc(e,t,n,i,r,o)}};e.prototype.arcTo=function(e,t,n,i,r){this._context.arcTo(e,t,n,i,r)};e.prototype.bezierCurveTo=function(e,t,n,i,r,o){this._context.bezierCurveTo(e,t,n,i,r,o)};e.prototype.ellipse=function(e,t,n,i,r,o,a,s){if(arguments.length===7){this._context.ellipse(e,t,n,i,r,o,a)}else{this._context.ellipse(e,t,n,i,r,o,a,s)}};e.prototype.lineTo=function(e,t){this._context.lineTo(e,t)};e.prototype.moveTo=function(e,t){this._context.moveTo(e,t)};e.prototype.quadraticCurveTo=function(e,t,n,i){this._context.quadraticCurveTo(e,t,n,i)};e.prototype.rect=function(e,t,n,i){this._context.rect(e,t,n,i)};e.prototype.clip=function(e){if(arguments.length===0){this._context.clip()}else{this._context.clip(e)}};e.prototype.fill=function(e){if(arguments.length===0){this._context.fill()}else{this._context.fill(e)}};e.prototype.stroke=function(){this._context.stroke()};e.prototype.clearRect=function(e,t,n,i){return this._context.clearRect(e,t,n,i)};e.prototype.fillRect=function(e,t,n,i){this._context.fillRect(e,t,n,i)};e.prototype.fillText=function(e,t,n,i){if(arguments.length===3){this._context.fillText(e,t,n)}else{this._context.fillText(e,t,n,i)}};e.prototype.strokeRect=function(e,t,n,i){this._context.strokeRect(e,t,n,i)};e.prototype.strokeText=function(e,t,n,i){if(arguments.length===3){this._context.strokeText(e,t,n)}else{this._context.strokeText(e,t,n,i)}};e.prototype.measureText=function(e){return this._context.measureText(e)};e.prototype.createLinearGradient=function(e,t,n,i){return this._context.createLinearGradient(e,t,n,i)};e.prototype.createRadialGradient=function(e,t,n,i,r,o){return this._context.createRadialGradient(e,t,n,i,r,o)};e.prototype.createPattern=function(e,t){return this._context.createPattern(e,t)};e.prototype.createImageData=function(){return this._context.createImageData.apply(this._context,arguments)};e.prototype.getImageData=function(e,t,n,i){return this._context.getImageData(e,t,n,i)};e.prototype.putImageData=function(){this._context.putImageData.apply(this._context,arguments)};e.prototype.drawImage=function(){this._context.drawImage.apply(this._context,arguments)};e.prototype.drawFocusIfNeeded=function(e){this._context.drawFocusIfNeeded(e)};return e}();var V;(function(e){var t=-1;var n=[];var i=function(){function e(){}e.create=function(i){var r=t<0?new e:n[t--];r.next=null;r.fillStyle=i.fillStyle;r.font=i.font;r.globalAlpha=i.globalAlpha;r.globalCompositeOperation=i.globalCompositeOperation;r.imageSmoothingEnabled=i.imageSmoothingEnabled;r.lineCap=i.lineCap;r.lineDashOffset=i.lineDashOffset;r.lineJoin=i.lineJoin;r.lineWidth=i.lineWidth;r.miterLimit=i.miterLimit;r.shadowBlur=i.shadowBlur;r.shadowColor=i.shadowColor;r.shadowOffsetX=i.shadowOffsetX;r.shadowOffsetY=i.shadowOffsetY;r.strokeStyle=i.strokeStyle;r.textAlign=i.textAlign;r.textBaseline=i.textBaseline;return r};e.push=function(i){var r=t<0?new e:n[t--];r.next=i;r.fillStyle=i.fillStyle;r.font=i.font;r.globalAlpha=i.globalAlpha;r.globalCompositeOperation=i.globalCompositeOperation;r.imageSmoothingEnabled=i.imageSmoothingEnabled;r.lineCap=i.lineCap;r.lineDashOffset=i.lineDashOffset;r.lineJoin=i.lineJoin;r.lineWidth=i.lineWidth;r.miterLimit=i.miterLimit;r.shadowBlur=i.shadowBlur;r.shadowColor=i.shadowColor;r.shadowOffsetX=i.shadowOffsetX;r.shadowOffsetY=i.shadowOffsetY;r.strokeStyle=i.strokeStyle;r.textAlign=i.textAlign;r.textBaseline=i.textBaseline;return r};e.pop=function(e){e.fillStyle="";e.strokeStyle="";n[++t]=e;return e.next};return e}();e.State=i})(V||(V={}));var K=function(e){b(t,e);function t(n){if(n===void 0){n={}}var i=e.call(this)||this;i.font=n.font||"12px sans-serif";i.textColor=n.textColor||"#000000";i.backgroundColor=n.backgroundColor||"";i.verticalAlignment=n.verticalAlignment||"center";i.horizontalAlignment=n.horizontalAlignment||"left";i.format=n.format||t.formatGeneric();i.elideDirection=n.elideDirection||"right";i.wrapText=n.wrapText||false;return i}t.prototype.paint=function(e,t){this.drawBackground(e,t);this.drawText(e,t)};t.prototype.drawBackground=function(e,t){var n=x.resolveOption(this.backgroundColor,t);if(!n){return}e.fillStyle=n;e.fillRect(t.x,t.y,t.width,t.height)};t.prototype.drawText=function(e,n){var i=x.resolveOption(this.font,n);if(!i){return}var r=x.resolveOption(this.textColor,n);if(!r){return}var o=this.format;var a=o(n);if(!a){return}var s=x.resolveOption(this.verticalAlignment,n);var u=x.resolveOption(this.horizontalAlignment,n);var l=x.resolveOption(this.elideDirection,n);var c=x.resolveOption(this.wrapText,n);var h=n.height-(s==="center"?1:2);if(h<=0){return}var d=t.measureFontHeight(i);var f;var p;var m;switch(s){case"top":p=n.y+2+d;break;case"center":p=n.y+n.height/2+d/2;break;case"bottom":p=n.y+n.height-2;break;default:throw"unreachable"}switch(u){case"left":f=n.x+8;m=n.width-14;break;case"center":f=n.x+n.width/2;m=n.width;break;case"right":f=n.x+n.width-8;m=n.width-14;break;default:throw"unreachable"}if(d>h){e.beginPath();e.rect(n.x,n.y,n.width,n.height-1);e.clip()}e.font=i;e.fillStyle=r;e.textAlign=u;e.textBaseline="bottom";var v=e.measureText(a).width;if(c&&v>m){e.beginPath();e.rect(n.x,n.y,n.width,n.height-1);e.clip();var g=a.split(/\s(?=\b)/);var _=p;var y=g.shift();if(g.length===0){var b=e.measureText(y).width;while(b>m&&y!==""){for(var A=y.length;A>0;A--){var E=y.substring(0,A);var w=e.measureText(E).width;if(w<m||E.length===1){var C=y.substring(A,y.length);y=C;b=e.measureText(y).width;e.fillText(E,f,_);_+=d;break}}}}else{while(g.length!==0){var M=g.shift();var S=[y,M].join(" ");var D=e.measureText(S).width;if(D>m){e.fillText(y,f,_);_+=d;y=M}else{y=S}}}e.fillText(y,f,_);return}var B="…";if(l==="right"){while(v>m&&a.length>1){if(a.length>4&&v>=2*m){a=a.substring(0,a.length/2+1)+B}else{a=a.substring(0,a.length-2)+B}v=e.measureText(a).width}}else{while(v>m&&a.length>1){if(a.length>4&&v>=2*m){a=B+a.substring(a.length/2)}else{a=B+a.substring(2)}v=e.measureText(a).width}}e.fillText(a,f,p)};return t}(x);(function(e){function t(e){if(e===void 0){e={}}var t=e.missing||"";return function(e){var n=e.value;if(n===null||n===undefined){return t}return String(n)}}e.formatGeneric=t;function n(e){if(e===void 0){e={}}var t=e.digits;var n=e.missing||"";return function(e){var i=e.value;if(i===null||i===undefined){return n}return Number(i).toFixed(t)}}e.formatFixed=n;function i(e){if(e===void 0){e={}}var t=e.digits;var n=e.missing||"";return function(e){var i=e.value;if(i===null||i===undefined){return n}return Number(i).toPrecision(t)}}e.formatPrecision=i;function r(e){if(e===void 0){e={}}var t=e.digits;var n=e.missing||"";return function(e){var i=e.value;if(i===null||i===undefined){return n}return Number(i).toExponential(t)}}e.formatExponential=r;function o(e){if(e===void 0){e={}}var t=e.missing||"";var n=new Intl.NumberFormat(e.locales,e.options);return function(e){var i=e.value;if(i===null||i===undefined){return t}return n.format(i)}}e.formatIntlNumber=o;function a(e){if(e===void 0){e={}}var t=e.missing||"";return function(e){var n=e.value;if(n===null||n===undefined){return t}if(n instanceof Date){return n.toDateString()}return new Date(n).toDateString()}}e.formatDate=a;function s(e){if(e===void 0){e={}}var t=e.missing||"";return function(e){var n=e.value;if(n===null||n===undefined){return t}if(n instanceof Date){return n.toTimeString()}return new Date(n).toTimeString()}}e.formatTime=s;function u(e){if(e===void 0){e={}}var t=e.missing||"";return function(e){var n=e.value;if(n===null||n===undefined){return t}if(n instanceof Date){return n.toISOString()}return new Date(n).toISOString()}}e.formatISODateTime=u;function l(e){if(e===void 0){e={}}var t=e.missing||"";return function(e){var n=e.value;if(n===null||n===undefined){return t}if(n instanceof Date){return n.toUTCString()}return new Date(n).toUTCString()}}e.formatUTCDateTime=l;function c(e){if(e===void 0){e={}}var t=e.missing||"";var n=new Intl.DateTimeFormat(e.locales,e.options);return function(e){var i=e.value;if(i===null||i===undefined){return t}return n.format(i)}}e.formatIntlDateTime=c;function h(e){var t=Y.fontHeightCache[e];if(t!==undefined){return t}Y.fontMeasurementGC.font=e;var n=Y.fontMeasurementGC.font;Y.fontMeasurementNode.style.font=n;document.body.appendChild(Y.fontMeasurementNode);t=Y.fontMeasurementNode.offsetHeight;document.body.removeChild(Y.fontMeasurementNode);Y.fontHeightCache[e]=t;Y.fontHeightCache[n]=t;return t}e.measureFontHeight=h})(K||(K={}));var Y;(function(e){e.fontHeightCache=Object.create(null);e.fontMeasurementNode=function(){var e=document.createElement("div");e.style.position="absolute";e.style.top="-99999px";e.style.left="-99999px";e.style.visibility="hidden";e.textContent="M";return e}();e.fontMeasurementGC=function(){var e=document.createElement("canvas");e.width=0;e.height=0;return e.getContext("2d")}()})(Y||(Y={}));var X=function(){function e(e,t){if(e===void 0){e={}}this._changed=new c.Signal(this);this._values=A({},e);this._fallback=t||new K}Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:true,configurable:true});e.prototype.get=function(e){var t=this._values[e.region];if(typeof t==="function"){try{t=t(e)}catch(n){t=undefined;console.error(n)}}return t||this._fallback};e.prototype.update=function(e,t){if(e===void 0){e={}}this._values=A(A({},this._values),e);this._fallback=t||this._fallback;this._changed.emit(undefined)};return e}();var U=function(){function e(e){this._count=0;this._length=0;this._sections=[];this._minimumSize=e.minimumSize||2;this._defaultSize=Math.max(this._minimumSize,Math.floor(e.defaultSize))}Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"minimumSize",{get:function(){return this._minimumSize},set:function(e){e=Math.max(2,Math.floor(e));if(this._minimumSize===e){return}this._minimumSize=e;if(e>this._defaultSize){this.defaultSize=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"defaultSize",{get:function(){return this._defaultSize},set:function(e){e=Math.max(this._minimumSize,Math.floor(e));if(this._defaultSize===e){return}var t=e-this._defaultSize;this._defaultSize=e;this._length+=t*(this._count-this._sections.length);if(this._sections.length===0){return}for(var n=0,i=this._sections.length;n<i;++n){var r=this._sections[n-1];var o=this._sections[n];if(r){var a=o.index-r.index-1;o.offset=r.offset+r.size+a*e}else{o.offset=o.index*e}}},enumerable:true,configurable:true});e.prototype.clampSize=function(e){return Math.max(this._minimumSize,Math.floor(e))};e.prototype.indexOf=function(e){if(e<0||e>=this._length||this._count===0){return-1}if(this._sections.length===0){return Math.floor(e/this._defaultSize)}var t=u.ArrayExt.lowerBound(this._sections,e,J.offsetCmp);if(t<this._sections.length&&this._sections[t].offset<=e){return this._sections[t].index}if(t===0){return Math.floor(e/this._defaultSize)}var n=this._sections[t-1];var i=e-(n.offset+n.size);return n.index+Math.floor(i/this._defaultSize)+1};e.prototype.offsetOf=function(e){if(e<0||e>=this._count){return-1}if(this._sections.length===0){return e*this._defaultSize}var t=u.ArrayExt.lowerBound(this._sections,e,J.indexCmp);if(t<this._sections.length&&this._sections[t].index===e){return this._sections[t].offset}if(t===0){return e*this._defaultSize}var n=this._sections[t-1];var i=e-n.index-1;return n.offset+n.size+i*this._defaultSize};e.prototype.extentOf=function(e){if(e<0||e>=this._count){return-1}if(this._sections.length===0){return(e+1)*this._defaultSize-1}var t=u.ArrayExt.lowerBound(this._sections,e,J.indexCmp);if(t<this._sections.length&&this._sections[t].index===e){return this._sections[t].offset+this._sections[t].size-1}if(t===0){return(e+1)*this._defaultSize-1}var n=this._sections[t-1];var i=e-n.index;return n.offset+n.size+i*this._defaultSize-1};e.prototype.sizeOf=function(e){if(e<0||e>=this._count){return-1}if(this._sections.length===0){return this._defaultSize}var t=u.ArrayExt.lowerBound(this._sections,e,J.indexCmp);if(t<this._sections.length&&this._sections[t].index===e){return this._sections[t].size}return this._defaultSize};e.prototype.resize=function(e,t){if(e<0||e>=this._count){return}t=Math.max(this._minimumSize,Math.floor(t));var n=u.ArrayExt.lowerBound(this._sections,e,J.indexCmp);var i;if(n<this._sections.length&&this._sections[n].index===e){var r=this._sections[n];i=t-r.size;r.size=t}else if(n===0){var o=e*this._defaultSize;u.ArrayExt.insert(this._sections,n,{index:e,offset:o,size:t});i=t-this._defaultSize}else{var r=this._sections[n-1];var a=e-r.index-1;var o=r.offset+r.size+a*this._defaultSize;u.ArrayExt.insert(this._sections,n,{index:e,offset:o,size:t});i=t-this._defaultSize}this._length+=i;for(var s=n+1,l=this._sections.length;s<l;++s){this._sections[s].offset+=i}};e.prototype.insert=function(e,t){if(t<=0){return}e=Math.max(0,Math.min(e,this._count));var n=t*this._defaultSize;this._count+=t;this._length+=n;if(this._sections.length===0){return}var i=u.ArrayExt.lowerBound(this._sections,e,J.indexCmp);for(var r=this._sections.length;i<r;++i){var o=this._sections[i];o.index+=t;o.offset+=n}};e.prototype.remove=function(e,t){if(e<0||e>=this._count||t<=0){return}t=Math.min(this._count-e,t);if(this._sections.length===0){this._count-=t;this._length-=t*this._defaultSize;return}if(t===this._count){this._length=0;this._count=0;this._sections.length=0;return}var n=u.ArrayExt.lowerBound(this._sections,e,J.indexCmp);var i=u.ArrayExt.lowerBound(this._sections,e+t,J.indexCmp);var r=this._sections.splice(n,i-n);var o=(t-r.length)*this._defaultSize;for(var a=0,s=r.length;a<s;++a){o+=r[a].size}this._count-=t;this._length-=o;for(var a=n,s=this._sections.length;a<s;++a){var l=this._sections[a];l.index-=t;l.offset-=o}};e.prototype.move=function(e,t,n){if(e<0||e>=this._count||t<=0){return}if(this._sections.length===0){return}t=Math.min(t,this._count-e);n=Math.min(Math.max(0,n),this._count-t);if(e===n){return}var i=Math.min(e,n);var r=u.ArrayExt.lowerBound(this._sections,i,J.indexCmp);if(r===this._sections.length){return}var o=Math.max(e+t-1,n+t-1);var a=u.ArrayExt.upperBound(this._sections,o,J.indexCmp)-1;if(a<r){return}var s=n<e?e:e+t;var l=s-i;var c=o-s+1;var h=l*this._defaultSize;var d=c*this._defaultSize;for(var f=r;f<=a;++f){var p=this._sections[f];if(p.index<s){h+=p.size-this._defaultSize}else{d+=p.size-this._defaultSize}}var m=u.ArrayExt.lowerBound(this._sections,s,J.indexCmp);if(r<=m&&m<=a){u.ArrayExt.rotate(this._sections,m-r,r,a)}for(var f=r;f<=a;++f){var p=this._sections[f];if(p.index<s){p.index+=c;p.offset+=d}else{p.index-=l;p.offset-=h}}};e.prototype.reset=function(){this._sections.length=0;this._length=this._count*this._defaultSize};e.prototype.clear=function(){this._count=0;this._length=0;this._sections.length=0};return e}();var J;(function(e){function t(e,t){if(t<e.offset){return 1}if(e.offset+e.size<=t){return-1}return 0}e.offsetCmp=t;function n(e,t){return e.index-t}e.indexCmp=n})(J||(J={}));function Z(e,t){return typeof e==="function"?e(t):e}var Q=function(){function e(){this._editor=null;this._cell=null;this._typeBasedOverrides=new Map;this._metadataBasedOverrides=new Map}e.prototype.setEditor=function(e,t){if(typeof e==="string"){this._typeBasedOverrides.set(e,t)}else{var n=this._metadataIdentifierToKey(e);this._metadataBasedOverrides.set(n,[e,t])}};e.prototype.edit=function(e,t){var n=e.grid;if(!n.editable){console.error("Grid cannot be edited!");return false}this.cancel();this._cell=e;t=t||{};t.onCommit=t.onCommit||this._onCommit.bind(this);t.onCancel=t.onCancel||this._onCancel.bind(this);if(t.editor){this._editor=t.editor;t.editor.edit(e,t);return true}var i=this._getEditor(e);if(i){this._editor=i;i.edit(e,t);return true}return false};e.prototype.cancel=function(){if(this._editor){this._editor.cancel();this._editor=null}this._cell=null};e.prototype._onCommit=function(e){var t=this._cell;if(!t){return}var n=t.grid;var i=n.dataModel;i.setData("body",t.row,t.column,e.value);n.viewport.node.focus();if(e.cursorMovement!=="none"){n.moveCursor(e.cursorMovement);n.scrollToCursor()}};e.prototype._onCancel=function(){if(!this._cell){return}this._cell.grid.viewport.node.focus()};e.prototype._getDataTypeKey=function(e){var t=e.grid.dataModel?e.grid.dataModel.metadata("body",e.row,e.column):null;if(!t){return"default"}var n="";if(t){n=t.type}if(t.constraint&&t.constraint.enum){if(t.constraint.enum==="dynamic"){n+=":dynamic-option"}else{n+=":option"}}return n};e.prototype._objectToKey=function(e){var t="";for(var n in e){var i=e[n];if(typeof i==="object"){t+=n+":"+this._objectToKey(i)}else{t+="["+n+":"+i+"]"}}return t};e.prototype._metadataIdentifierToKey=function(e){return this._objectToKey(e)};e.prototype._metadataMatchesIdentifier=function(e,t){for(var n in t){if(!e.hasOwnProperty(n)){return false}var i=t[n];var r=e[n];if(typeof i==="object"){if(!this._metadataMatchesIdentifier(r,i)){return false}}else if(r!==i){return false}}return true};e.prototype._getMetadataBasedEditor=function(e){var t=this;var n;var i=e.grid.dataModel.metadata("body",e.row,e.column);if(i){this._metadataBasedOverrides.forEach((function(r){if(!n){var o=r[0],a=r[1];if(t._metadataMatchesIdentifier(i,o)){n=Z(a,e)}}}))}return n};e.prototype._getEditor=function(e){var t=this._getDataTypeKey(e);if(this._typeBasedOverrides.has(t)){var n=this._typeBasedOverrides.get(t);return Z(n,e)}else if(this._metadataBasedOverrides.size>0){var n=this._getMetadataBasedEditor(e);if(n){return n}}switch(t){case"string":return new k;case"number":return new O;case"integer":return new I;case"boolean":return new j;case"date":return new H;case"string:option":case"number:option":case"integer:option":case"date:option":case"array:option":return new N;case"string:dynamic-option":case"number:dynamic-option":case"integer:dynamic-option":case"date:dynamic-option":return new W}if(this._typeBasedOverrides.has("default")){var n=this._typeBasedOverrides.get("default");return Z(n,e)}var i=e.grid.dataModel.data("body",e.row,e.column);if(!i||typeof i!=="object"){return new k}return undefined};return e}();var $=function(e){b(t,e);function t(n){if(n===void 0){n={}}var i=e.call(this)||this;i._scrollX=0;i._scrollY=0;i._viewportWidth=0;i._viewportHeight=0;i._mousedown=false;i._keyHandler=null;i._mouseHandler=null;i._vScrollBarMinWidth=0;i._hScrollBarMinHeight=0;i._dpiRatio=Math.ceil(window.devicePixelRatio);i._dataModel=null;i._selectionModel=null;i._editingEnabled=false;i.addClass("lm-DataGrid");i.addClass("p-DataGrid");i._style=n.style||t.defaultStyle;i._stretchLastRow=n.stretchLastRow||false;i._stretchLastColumn=n.stretchLastColumn||false;i._headerVisibility=n.headerVisibility||"all";i._cellRenderers=n.cellRenderers||new X;i._copyConfig=n.copyConfig||t.defaultCopyConfig;i._cellRenderers.changed.connect(i._onRenderersChanged,i);var r=n.defaultSizes||t.defaultSizes;var o=n.minimumSizes||t.minimumSizes;i._rowSections=new U({defaultSize:r.rowHeight,minimumSize:o.rowHeight});i._columnSections=new U({defaultSize:r.columnWidth,minimumSize:o.columnWidth});i._rowHeaderSections=new U({defaultSize:r.rowHeaderWidth,minimumSize:o.rowHeaderWidth});i._columnHeaderSections=new U({defaultSize:r.columnHeaderHeight,minimumSize:o.columnHeaderHeight});i._canvas=ee.createCanvas();i._buffer=ee.createCanvas();i._overlay=ee.createCanvas();i._canvasGC=i._canvas.getContext("2d");i._bufferGC=i._buffer.getContext("2d");i._overlayGC=i._overlay.getContext("2d");i._canvas.style.position="absolute";i._canvas.style.top="0px";i._canvas.style.left="0px";i._canvas.style.width="0px";i._canvas.style.height="0px";i._overlay.style.position="absolute";i._overlay.style.top="0px";i._overlay.style.left="0px";i._overlay.style.width="0px";i._overlay.style.height="0px";i._viewport=new d.Widget;i._viewport.node.tabIndex=-1;i._viewport.node.style.outline="none";i._vScrollBar=new d.ScrollBar({orientation:"vertical"});i._hScrollBar=new d.ScrollBar({orientation:"horizontal"});i._scrollCorner=new d.Widget;i._editorController=new Q;i._viewport.addClass("lm-DataGrid-viewport");i._vScrollBar.addClass("lm-DataGrid-scrollBar");i._hScrollBar.addClass("lm-DataGrid-scrollBar");i._scrollCorner.addClass("lm-DataGrid-scrollCorner");i._viewport.addClass("p-DataGrid-viewport");i._vScrollBar.addClass("p-DataGrid-scrollBar");i._hScrollBar.addClass("p-DataGrid-scrollBar");i._scrollCorner.addClass("p-DataGrid-scrollCorner");i._viewport.node.appendChild(i._canvas);i._viewport.node.appendChild(i._overlay);p.MessageLoop.installMessageHook(i._viewport,i);p.MessageLoop.installMessageHook(i._hScrollBar,i);p.MessageLoop.installMessageHook(i._vScrollBar,i);i._vScrollBar.hide();i._hScrollBar.hide();i._scrollCorner.hide();i._vScrollBar.thumbMoved.connect(i._onThumbMoved,i);i._hScrollBar.thumbMoved.connect(i._onThumbMoved,i);i._vScrollBar.pageRequested.connect(i._onPageRequested,i);i._hScrollBar.pageRequested.connect(i._onPageRequested,i);i._vScrollBar.stepRequested.connect(i._onStepRequested,i);i._hScrollBar.stepRequested.connect(i._onStepRequested,i);d.GridLayout.setCellConfig(i._viewport,{row:0,column:0});d.GridLayout.setCellConfig(i._vScrollBar,{row:0,column:1});d.GridLayout.setCellConfig(i._hScrollBar,{row:1,column:0});d.GridLayout.setCellConfig(i._scrollCorner,{row:1,column:1});var a=new d.GridLayout({rowCount:2,columnCount:2,rowSpacing:0,columnSpacing:0,fitPolicy:"set-no-constraint"});a.setRowStretch(0,1);a.setRowStretch(1,0);a.setColumnStretch(0,1);a.setColumnStretch(1,0);a.addWidget(i._viewport);a.addWidget(i._vScrollBar);a.addWidget(i._hScrollBar);a.addWidget(i._scrollCorner);i.layout=a;return i}t.prototype.dispose=function(){this._releaseMouse();if(this._keyHandler){this._keyHandler.dispose()}if(this._mouseHandler){this._mouseHandler.dispose()}this._keyHandler=null;this._mouseHandler=null;this._dataModel=null;this._selectionModel=null;this._rowSections.clear();this._columnSections.clear();this._rowHeaderSections.clear();this._columnHeaderSections.clear();e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"dataModel",{get:function(){return this._dataModel},set:function(e){if(this._dataModel===e){return}this._releaseMouse();this.selectionModel=null;if(this._dataModel){this._dataModel.changed.disconnect(this._onDataModelChanged,this)}if(e){e.changed.connect(this._onDataModelChanged,this)}this._dataModel=e;this._rowSections.clear();this._columnSections.clear();this._rowHeaderSections.clear();this._columnHeaderSections.clear();if(e){this._rowSections.insert(0,e.rowCount("body"));this._columnSections.insert(0,e.columnCount("body"));this._rowHeaderSections.insert(0,e.columnCount("row-header"));this._columnHeaderSections.insert(0,e.rowCount("column-header"))}this._scrollX=0;this._scrollY=0;this._syncViewport()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"selectionModel",{get:function(){return this._selectionModel},set:function(e){if(this._selectionModel===e){return}this._releaseMouse();if(e&&e.dataModel!==this._dataModel){throw new Error("SelectionModel.dataModel !== DataGrid.dataModel")}if(this._selectionModel){this._selectionModel.changed.disconnect(this._onSelectionsChanged,this)}if(e){e.changed.connect(this._onSelectionsChanged,this)}this._selectionModel=e;this.repaintOverlay()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"keyHandler",{get:function(){return this._keyHandler},set:function(e){this._keyHandler=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"mouseHandler",{get:function(){return this._mouseHandler},set:function(e){if(this._mouseHandler===e){return}this._releaseMouse();this._mouseHandler=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){if(this._style===e){return}this._style=A({},e);this.repaintContent();this.repaintOverlay()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"cellRenderers",{get:function(){return this._cellRenderers},set:function(e){if(this._cellRenderers===e){return}this._cellRenderers.changed.disconnect(this._onRenderersChanged,this);e.changed.connect(this._onRenderersChanged,this);this._cellRenderers=e;this.repaintContent()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"headerVisibility",{get:function(){return this._headerVisibility},set:function(e){if(this._headerVisibility===e){return}this._headerVisibility=e;this._syncViewport()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"defaultSizes",{get:function(){var e=this._rowSections.defaultSize;var t=this._columnSections.defaultSize;var n=this._rowHeaderSections.defaultSize;var i=this._columnHeaderSections.defaultSize;return{rowHeight:e,columnWidth:t,rowHeaderWidth:n,columnHeaderHeight:i}},set:function(e){this._rowSections.defaultSize=e.rowHeight;this._columnSections.defaultSize=e.columnWidth;this._rowHeaderSections.defaultSize=e.rowHeaderWidth;this._columnHeaderSections.defaultSize=e.columnHeaderHeight;this._syncViewport()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"minimumSizes",{get:function(){var e=this._rowSections.minimumSize;var t=this._columnSections.minimumSize;var n=this._rowHeaderSections.minimumSize;var i=this._columnHeaderSections.minimumSize;return{rowHeight:e,columnWidth:t,rowHeaderWidth:n,columnHeaderHeight:i}},set:function(e){this._rowSections.minimumSize=e.rowHeight;this._columnSections.minimumSize=e.columnWidth;this._rowHeaderSections.minimumSize=e.rowHeaderWidth;this._columnHeaderSections.minimumSize=e.columnHeaderHeight;this._syncViewport()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"copyConfig",{get:function(){return this._copyConfig},set:function(e){this._copyConfig=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"stretchLastRow",{get:function(){return this._stretchLastRow},set:function(e){if(e===this._stretchLastRow){return}this._stretchLastRow=e;this._syncViewport()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"stretchLastColumn",{get:function(){return this._stretchLastColumn},set:function(e){if(e===this._stretchLastColumn){return}this._stretchLastColumn=e;this._syncViewport()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"headerWidth",{get:function(){if(this._headerVisibility==="none"){return 0}if(this._headerVisibility==="column"){return 0}return this._rowHeaderSections.length},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"headerHeight",{get:function(){if(this._headerVisibility==="none"){return 0}if(this._headerVisibility==="row"){return 0}return this._columnHeaderSections.length},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"bodyWidth",{get:function(){return this._columnSections.length},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"bodyHeight",{get:function(){return this._rowSections.length},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"totalWidth",{get:function(){return this.headerWidth+this.bodyWidth},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"totalHeight",{get:function(){return this.headerHeight+this.bodyHeight},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"viewportWidth",{get:function(){return this._viewportWidth},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"viewportHeight",{get:function(){return this._viewportHeight},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"pageWidth",{get:function(){return Math.max(0,this.viewportWidth-this.headerWidth)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"pageHeight",{get:function(){return Math.max(0,this.viewportHeight-this.headerHeight)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"scrollX",{get:function(){return this._hScrollBar.value},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"scrollY",{get:function(){return this._vScrollBar.value},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"maxScrollX",{get:function(){return Math.max(0,this.bodyWidth-this.pageWidth-1)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"maxScrollY",{get:function(){return Math.max(0,this.bodyHeight-this.pageHeight-1)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"viewport",{get:function(){return this._viewport},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"editorController",{get:function(){return this._editorController},set:function(e){this._editorController=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"editingEnabled",{get:function(){return this._editingEnabled},set:function(e){this._editingEnabled=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"editable",{get:function(){return this._editingEnabled&&this._selectionModel!==null&&this._editorController!==null&&this.dataModel instanceof q},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"canvasGC",{get:function(){return this._canvasGC},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"rowSections",{get:function(){return this._rowSections},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"columnSections",{get:function(){return this._columnSections},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"rowHeaderSections",{get:function(){return this._rowHeaderSections},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"columnHeaderSections",{get:function(){return this._columnHeaderSections},enumerable:true,configurable:true});t.prototype.scrollToRow=function(e){var t=this._rowSections.count;if(t===0){return}e=Math.floor(e);e=Math.max(0,Math.min(e,t-1));var n=this._rowSections.offsetOf(e);var i=this._rowSections.extentOf(e);var r=this._scrollY;var o=this._scrollY+this.pageHeight-1;var a=0;if(n<r){a=n-r-10}else if(i>o){a=i-o+10}if(a===0){return}this.scrollBy(0,a)};t.prototype.scrollToColumn=function(e){var t=this._columnSections.count;if(t===0){return}e=Math.floor(e);e=Math.max(0,Math.min(e,t-1));var n=this._columnSections.offsetOf(e);var i=this._columnSections.extentOf(e);var r=this._scrollX;var o=this._scrollX+this.pageWidth-1;var a=0;if(n<r){a=n-r-10}else if(i>o){a=i-o+10}if(a===0){return}this.scrollBy(a,0)};t.prototype.scrollToCell=function(e,t){var n=this._rowSections.count;var i=this._columnSections.count;if(n===0||i===0){return}e=Math.floor(e);t=Math.floor(t);e=Math.max(0,Math.min(e,n-1));t=Math.max(0,Math.min(t,i-1));var r=this._columnSections.offsetOf(t);var o=this._columnSections.extentOf(t);var a=this._rowSections.offsetOf(e);var s=this._rowSections.extentOf(e);var u=this._scrollX;var l=this._scrollX+this.pageWidth-1;var c=this._scrollY;var h=this._scrollY+this.pageHeight-1;var d=0;var f=0;if(r<u){d=r-u-10}else if(o>l){d=o-l+10}if(a<c){f=a-c-10}else if(s>h){f=s-h+10}if(d===0&&f===0){return}this.scrollBy(d,f)};t.prototype.moveCursor=function(e){if(!this.dataModel||!this._selectionModel||this._selectionModel.isEmpty){return}var t=this._selectionModel.selections();var n=t.next()&&!t.next();if(n){var i=this._selectionModel.currentSelection();if(i.r1===i.r2&&i.c1===i.c2){var r=e==="down"?1:e==="up"?-1:0;var o=e==="right"?1:e==="left"?-1:0;var a=i.r1+r;var s=i.c1+o;var u=this.dataModel.rowCount("body");var l=this.dataModel.columnCount("body");if(a>=u){a=0;s+=1}else if(a===-1){a=u-1;s-=1}if(s>=l){s=0;a+=1;if(a>=u){a=0}}else if(s===-1){s=l-1;a-=1;if(a===-1){a=u-1}}this._selectionModel.select({r1:a,c1:s,r2:a,c2:s,cursorRow:a,cursorColumn:s,clear:"all"});return}}this._selectionModel.moveCursorWithinSelections(e)};t.prototype.scrollToCursor=function(){if(!this._selectionModel){return}var e=this._selectionModel.cursorRow;var t=this._selectionModel.cursorColumn;this.scrollToCell(e,t)};t.prototype.scrollBy=function(e,t){this.scrollTo(this.scrollX+e,this.scrollY+t)};t.prototype.scrollByPage=function(e){var t=0;var n=0;switch(e){case"up":n=-this.pageHeight;break;case"down":n=this.pageHeight;break;case"left":t=-this.pageWidth;break;case"right":t=this.pageWidth;break;default:throw"unreachable"}this.scrollTo(this.scrollX+t,this.scrollY+n)};t.prototype.scrollByStep=function(e){var t;var n;var i=this.scrollX;var r=this.scrollY;var o=this._rowSections;var a=this._columnSections;switch(e){case"up":t=o.indexOf(r-1);r=t<0?r:o.offsetOf(t);break;case"down":t=o.indexOf(r);r=t<0?r:o.offsetOf(t)+o.sizeOf(t);break;case"left":n=a.indexOf(i-1);i=n<0?i:a.offsetOf(n);break;case"right":n=a.indexOf(i);i=n<0?i:a.offsetOf(n)+a.sizeOf(n);break;default:throw"unreachable"}this.scrollTo(i,r)};t.prototype.scrollTo=function(e,t){e=Math.max(0,Math.min(Math.floor(e),this.maxScrollX));t=Math.max(0,Math.min(Math.floor(t),this.maxScrollY));this._hScrollBar.value=e;this._vScrollBar.value=t;p.MessageLoop.postMessage(this._viewport,ee.ScrollRequest)};t.prototype.rowCount=function(e){var t;if(e==="body"){t=this._rowSections.count}else{t=this._columnHeaderSections.count}return t};t.prototype.columnCount=function(e){var t;if(e==="body"){t=this._columnSections.count}else{t=this._rowHeaderSections.count}return t};t.prototype.rowAt=function(e,t){if(t<0){return-1}if(e==="column-header"){return this._columnHeaderSections.indexOf(t)}var n=this._rowSections.indexOf(t);if(n>=0){return n}if(!this._stretchLastRow){return-1}var i=this.bodyHeight;var r=this.pageHeight;if(r<=i){return-1}if(t>=r){return-1}return this._rowSections.count-1};t.prototype.columnAt=function(e,t){if(t<0){return-1}if(e==="row-header"){return this._rowHeaderSections.indexOf(t)}var n=this._columnSections.indexOf(t);if(n>=0){return n}if(!this._stretchLastColumn){return-1}var i=this.bodyWidth;var r=this.pageWidth;if(r<=i){return-1}if(t>=r){return-1}return this._columnSections.count-1};t.prototype.rowOffset=function(e,t){var n;if(e==="body"){n=this._rowSections.offsetOf(t)}else{n=this._columnHeaderSections.offsetOf(t)}return n};t.prototype.columnOffset=function(e,t){var n;if(e==="body"){n=this._columnSections.offsetOf(t)}else{n=this._rowHeaderSections.offsetOf(t)}return n};t.prototype.rowSize=function(e,t){if(e==="column-header"){return this._columnHeaderSections.sizeOf(t)}var n=this._rowSections.sizeOf(t);if(n<0){return n}if(!this._stretchLastRow){return n}if(t<this._rowSections.count-1){return n}var i=this.bodyHeight;var r=this.pageHeight;if(r<=i){return n}return n+(r-i)};t.prototype.columnSize=function(e,t){if(e==="row-header"){return this._rowHeaderSections.sizeOf(t)}var n=this._columnSections.sizeOf(t);if(n<0){return n}if(!this._stretchLastColumn){return n}if(t<this._columnSections.count-1){return n}var i=this.bodyWidth;var r=this.pageWidth;if(r<=i){return n}return n+(r-i)};t.prototype.resizeRow=function(e,t,n){var i=new ee.RowResizeRequest(e,t,n);p.MessageLoop.postMessage(this._viewport,i)};t.prototype.resizeColumn=function(e,t,n){var i=new ee.ColumnResizeRequest(e,t,n);p.MessageLoop.postMessage(this._viewport,i)};t.prototype.resetRows=function(e){switch(e){case"all":this._rowSections.reset();this._columnHeaderSections.reset();break;case"body":this._rowSections.reset();break;case"column-header":this._columnHeaderSections.reset();break;default:throw"unreachable"}this.repaintContent();this.repaintOverlay()};t.prototype.resetColumns=function(e){switch(e){case"all":this._columnSections.reset();this._rowHeaderSections.reset();break;case"body":this._columnSections.reset();break;case"row-header":this._rowHeaderSections.reset();break;default:throw"unreachable"}this.repaintContent();this.repaintOverlay()};t.prototype.mapToLocal=function(e,t){var n=this._viewport.node.getBoundingClientRect();var i=n.left,r=n.top;i=Math.floor(i);r=Math.floor(r);var o=e-i;var a=t-r;return{lx:o,ly:a}};t.prototype.mapToVirtual=function(e,t){var n=this.mapToLocal(e,t),i=n.lx,r=n.ly;var o=i+this.scrollX-this.headerWidth;var a=r+this.scrollY-this.headerHeight;return{vx:o,vy:a}};t.prototype.hitTest=function(e,t){var n=this.mapToLocal(e,t),i=n.lx,r=n.ly;var o=this.headerWidth;var a=this.headerHeight;var s=this.bodyWidth;var u=this.bodyHeight;var l=this.pageHeight;var c=this.pageWidth;if(this._stretchLastColumn&&c>s){s=c}if(this._stretchLastRow&&l>u){u=l}if(i>=0&&i<o&&r>=0&&r<a){var h=i;var d=r;var f=this.rowAt("column-header",d);var p=this.columnAt("row-header",h);var m=this.columnOffset("row-header",p);var v=this.rowOffset("column-header",f);var g=this.columnSize("row-header",p);var _=this.rowSize("column-header",f);var y=h-m;var b=d-v;return{region:"corner-header",row:f,column:p,x:y,y:b,width:g,height:_}}if(r>=0&&r<a&&i>=0&&i<o+s){var h=i+this._scrollX-o;var d=r;var A=this.rowAt("column-header",d);var E=this.columnAt("body",h);var m=this.columnOffset("body",E);var v=this.rowOffset("column-header",A);var w=this.columnSize("body",E);var C=this.rowSize("column-header",A);var x=h-m;var M=d-v;return{region:"column-header",row:A,column:E,x,y:M,width:w,height:C}}if(i>=0&&i<o&&r>=0&&r<a+u){var h=i;var d=r+this._scrollY-a;var S=this.rowAt("body",d);var D=this.columnAt("row-header",h);var m=this.columnOffset("row-header",D);var v=this.rowOffset("body",S);var B=this.columnSize("row-header",D);var P=this.rowSize("body",S);var T=h-m;var z=d-v;return{region:"row-header",row:S,column:D,x:T,y:z,width:B,height:P}}if(i>=o&&i<o+s&&r>=a&&r<a+u){var h=i+this._scrollX-o;var d=r+this._scrollY-a;var R=this.rowAt("body",d);var L=this.columnAt("body",h);var m=this.columnOffset("body",L);var v=this.rowOffset("body",R);var k=this.columnSize("body",L);var O=this.rowSize("body",R);var I=h-m;var H=d-v;return{region:"body",row:R,column:L,x:I,y:H,width:k,height:O}}var j=-1;var N=-1;var W=-1;var F=-1;var q=-1;var G=-1;return{region:"void",row:j,column:N,x:W,y:F,width:q,height:G}};t.prototype.copyToClipboard=function(){var e,t;var n=this._dataModel;if(!n){return}var r=this._selectionModel;if(!r){return}var o=(0,u.toArray)(r.selections());if(o.length===0){return}if(o.length>1){alert("Cannot copy multiple grid selections.");return}var a=n.rowCount("body");var s=n.columnCount("body");if(a===0||s===0){return}var l=o[0],c=l.r1,h=l.c1,d=l.r2,f=l.c2;c=Math.max(0,Math.min(c,a-1));h=Math.max(0,Math.min(h,s-1));d=Math.max(0,Math.min(d,a-1));f=Math.max(0,Math.min(f,s-1));if(d<c)e=[d,c],c=e[0],d=e[1];if(f<h)t=[f,h],h=t[0],f=t[1];var p=n.columnCount("row-header");var m=n.rowCount("column-header");var v=this._copyConfig.separator;var g=this._copyConfig.format;var _=this._copyConfig.headers;var y=this._copyConfig.warningThreshold;var b=d-c+1;var A=f-h+1;switch(_){case"none":p=0;m=0;break;case"row":m=0;A+=p;break;case"column":p=0;b+=m;break;case"all":b+=m;A+=p;break;default:throw"unreachable"}var E=b*A;if(E>y){var w="Copying "+E+" cells may take a while. Continue?";if(!window.confirm(w)){return}}var C={region:"body",row:0,column:0,value:null,metadata:{}};var x=new Array(b);for(var M=0;M<b;++M){var S=new Array(A);for(var D=0;D<A;++D){var B=void 0;var P=void 0;var T=void 0;if(M<m&&D<p){B="corner-header";P=M;T=D}else if(M<m){B="column-header";P=M;T=D-p+h}else if(D<p){B="row-header";P=M-m+c;T=D}else{B="body";P=M-m+c;T=D-p+h}C.region=B;C.row=P;C.column=T;C.value=n.data(B,P,T);C.metadata=n.metadata(B,P,T);S[D]=g(C)}x[M]=S}var z=x.map((function(e){return e.join(v)}));var R=z.join("\n");i.ClipboardExt.copyText(R)};t.prototype.processMessage=function(t){if(t.type==="child-shown"||t.type==="child-hidden"){return}if(t.type==="fit-request"){var n=i.ElementExt.sizeLimits(this._vScrollBar.node);var r=i.ElementExt.sizeLimits(this._hScrollBar.node);this._vScrollBarMinWidth=n.minWidth;this._hScrollBarMinHeight=r.minHeight}e.prototype.processMessage.call(this,t)};t.prototype.messageHook=function(e,t){if(e===this._viewport){this._processViewportMessage(t);return true}if(e===this._hScrollBar&&t.type==="activate-request"){this.activate();return false}if(e===this._vScrollBar&&t.type==="activate-request"){this.activate();return false}return true};t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"dblclick":this._evtMouseDoubleClick(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"contextmenu":this._evtContextMenu(e);break;case"wheel":this._evtWheel(e);break;case"resize":this._refreshDPI();break}};t.prototype.onActivateRequest=function(e){this.viewport.node.focus()};t.prototype.onBeforeAttach=function(e){window.addEventListener("resize",this);this.node.addEventListener("wheel",this);this._viewport.node.addEventListener("keydown",this);this._viewport.node.addEventListener("mousedown",this);this._viewport.node.addEventListener("mousemove",this);this._viewport.node.addEventListener("dblclick",this);this._viewport.node.addEventListener("mouseleave",this);this._viewport.node.addEventListener("contextmenu",this);this.repaintContent();this.repaintOverlay()};t.prototype.onAfterDetach=function(e){window.removeEventListener("resize",this);this.node.removeEventListener("wheel",this);this._viewport.node.removeEventListener("keydown",this);this._viewport.node.removeEventListener("mousedown",this);this._viewport.node.removeEventListener("mousemove",this);this._viewport.node.removeEventListener("mouseleave",this);this._viewport.node.removeEventListener("dblclick",this);this._viewport.node.removeEventListener("contextmenu",this);this._releaseMouse()};t.prototype.onBeforeShow=function(e){this.repaintContent();this.repaintOverlay()};t.prototype.onResize=function(e){if(this._editorController){this._editorController.cancel()}this._syncScrollState()};t.prototype.repaintContent=function(){var e=new ee.PaintRequest("all",0,0,0,0);p.MessageLoop.postMessage(this._viewport,e)};t.prototype.repaintRegion=function(e,t,n,i,r){var o=new ee.PaintRequest(e,t,n,i,r);p.MessageLoop.postMessage(this._viewport,o)};t.prototype.repaintOverlay=function(){p.MessageLoop.postMessage(this._viewport,ee.OverlayPaintRequest)};t.prototype._resizeCanvasIfNeeded=function(e,t){e=e*this._dpiRatio;t=t*this._dpiRatio;var n=(Math.ceil((e+1)/512)+1)*512;var i=(Math.ceil((t+1)/512)+1)*512;var r=this._canvas.width;var o=this._canvas.height;if(r>=e&&o>=t&&r<=n&&o<=i){return}var a=n-512;var s=i-512;this._canvasGC.setTransform(1,0,0,1,0,0);this._bufferGC.setTransform(1,0,0,1,0,0);this._overlayGC.setTransform(1,0,0,1,0,0);if(r<e){this._buffer.width=a}else if(r>n){this._buffer.width=n}if(o<t){this._buffer.height=s}else if(o>i){this._buffer.height=i}var u=o>0&&o>0&&e>0&&t>0;if(u){this._bufferGC.drawImage(this._canvas,0,0)}if(r<e){this._canvas.width=a;this._canvas.style.width=a/this._dpiRatio+"px"}else if(r>n){this._canvas.width=n;this._canvas.style.width=n/this._dpiRatio+"px"}if(o<t){this._canvas.height=s;this._canvas.style.height=s/this._dpiRatio+"px"}else if(o>i){this._canvas.height=i;this._canvas.style.height=i/this._dpiRatio+"px"}if(u){this._canvasGC.drawImage(this._buffer,0,0)}if(u){this._bufferGC.drawImage(this._overlay,0,0)}if(r<e){this._overlay.width=a;this._overlay.style.width=a/this._dpiRatio+"px"}else if(r>n){this._overlay.width=n;this._overlay.style.width=n/this._dpiRatio+"px"}if(o<t){this._overlay.height=s;this._overlay.style.height=s/this._dpiRatio+"px"}else if(o>i){this._overlay.height=i;this._overlay.style.height=i/this._dpiRatio+"px"}if(u){this._overlayGC.drawImage(this._buffer,0,0)}};t.prototype._syncScrollState=function(){var e=this.bodyWidth;var t=this.bodyHeight;var n=this.pageWidth;var i=this.pageHeight;var r=!this._vScrollBar.isHidden;var o=!this._hScrollBar.isHidden;var a=this._vScrollBarMinWidth;var s=this._hScrollBarMinHeight;var u=n+(r?a:0);var l=i+(o?s:0);var c=l<t-1;var h=u<e-1;if(c&&!h){h=u-a<e-1}if(h&&!c){c=l-s<t-1}if(c!==r||h!==o){this._vScrollBar.setHidden(!c);this._hScrollBar.setHidden(!h);this._scrollCorner.setHidden(!c||!h);p.MessageLoop.sendMessage(this,d.Widget.Msg.FitRequest)}this._vScrollBar.maximum=this.maxScrollY;this._vScrollBar.page=this.pageHeight;this._hScrollBar.maximum=this.maxScrollX;this._hScrollBar.page=this.pageWidth;this._scrollTo(this._scrollX,this._scrollY)};t.prototype._syncViewport=function(){this.repaintContent();this.repaintOverlay();this._syncScrollState()};t.prototype._processViewportMessage=function(e){switch(e.type){case"resize":this._onViewportResize(e);break;case"scroll-request":this._onViewportScrollRequest(e);break;case"paint-request":this._onViewportPaintRequest(e);break;case"overlay-paint-request":this._onViewportOverlayPaintRequest(e);break;case"row-resize-request":this._onViewportRowResizeRequest(e);break;case"column-resize-request":this._onViewportColumnResizeRequest(e);break}};t.prototype._onViewportResize=function(e){if(!this._viewport.isVisible){return}var t=e.width,n=e.height;if(t===-1){t=this._viewport.node.offsetWidth}if(n===-1){n=this._viewport.node.offsetHeight}t=Math.round(t);n=Math.round(n);var i=this._viewportWidth;var r=this._viewportHeight;this._viewportWidth=t;this._viewportHeight=n;this._resizeCanvasIfNeeded(t,n);if(t===0||n===0){return}if(i===0||r===0){this.paintContent(0,0,t,n);this._paintOverlay();return}if(this._stretchLastColumn&&this.pageWidth>this.bodyWidth){var o=this._columnSections.offsetOf(this._columnSections.count-1);var a=Math.min(this.headerWidth+o,i);this.paintContent(a,0,t-a,n)}else if(t>i){this.paintContent(i,0,t-i,n)}if(this._stretchLastRow&&this.pageHeight>this.bodyHeight){var s=this._rowSections.offsetOf(this._rowSections.count-1);var u=Math.min(this.headerHeight+s,r);this.paintContent(0,u,t,n-u)}else if(n>r){this.paintContent(0,r,t,n-r)}this._paintOverlay()};t.prototype._onViewportScrollRequest=function(e){this._scrollTo(this._hScrollBar.value,this._vScrollBar.value)};t.prototype._onViewportPaintRequest=function(e){if(!this._viewport.isVisible){return}if(this._viewportWidth===0||this._viewportHeight===0){return}var t=0;var n=0;var i=this._viewportWidth-1;var r=this._viewportHeight-1;var o=this._scrollX;var a=this._scrollY;var s=this.headerWidth;var u=this.headerHeight;var l=this._rowSections;var c=this._columnSections;var h=this._rowHeaderSections;var d=this._columnHeaderSections;var f=e.region,p=e.r1,m=e.c1,v=e.r2,g=e.c2;var _;var y;var b;var A;switch(f){case"all":_=t;y=n;b=i;A=r;break;case"body":p=Math.max(0,Math.min(p,l.count));m=Math.max(0,Math.min(m,c.count));v=Math.max(0,Math.min(v,l.count));g=Math.max(0,Math.min(g,c.count));_=c.offsetOf(m)-o+s;y=l.offsetOf(p)-a+u;b=c.extentOf(g)-o+s;A=l.extentOf(v)-a+u;break;case"row-header":p=Math.max(0,Math.min(p,l.count));m=Math.max(0,Math.min(m,h.count));v=Math.max(0,Math.min(v,l.count));g=Math.max(0,Math.min(g,h.count));_=h.offsetOf(m);y=l.offsetOf(p)-a+u;b=h.extentOf(g);A=l.extentOf(v)-a+u;break;case"column-header":p=Math.max(0,Math.min(p,d.count));m=Math.max(0,Math.min(m,c.count));v=Math.max(0,Math.min(v,d.count));g=Math.max(0,Math.min(g,c.count));_=c.offsetOf(m)-o+s;y=d.offsetOf(p);b=c.extentOf(g)-o+s;A=d.extentOf(v);break;case"corner-header":p=Math.max(0,Math.min(p,d.count));m=Math.max(0,Math.min(m,h.count));v=Math.max(0,Math.min(v,d.count));g=Math.max(0,Math.min(g,h.count));_=h.offsetOf(m);y=d.offsetOf(p);b=h.extentOf(g);A=d.extentOf(v);break;default:throw"unreachable"}if(b<t||A<n||_>i||y>r){return}_=Math.max(t,Math.min(_,i));y=Math.max(n,Math.min(y,r));b=Math.max(t,Math.min(b,i));A=Math.max(n,Math.min(A,r));this.paintContent(_,y,b-_+1,A-y+1)};t.prototype._onViewportOverlayPaintRequest=function(e){if(!this._viewport.isVisible){return}if(this._viewportWidth===0||this._viewportHeight===0){return}this._paintOverlay()};t.prototype._onViewportRowResizeRequest=function(e){if(e.region==="body"){this._resizeRow(e.index,e.size)}else{this._resizeColumnHeader(e.index,e.size)}};t.prototype._onViewportColumnResizeRequest=function(e){if(e.region==="body"){this._resizeColumn(e.index,e.size)}else{this._resizeRowHeader(e.index,e.size)}};t.prototype._onThumbMoved=function(e){p.MessageLoop.postMessage(this._viewport,ee.ScrollRequest)};t.prototype._onPageRequested=function(e,t){if(e===this._vScrollBar){this.scrollByPage(t==="decrement"?"up":"down")}else{this.scrollByPage(t==="decrement"?"left":"right")}};t.prototype._onStepRequested=function(e,t){if(e===this._vScrollBar){this.scrollByStep(t==="decrement"?"up":"down")}else{this.scrollByStep(t==="decrement"?"left":"right")}};t.prototype._onDataModelChanged=function(e,t){switch(t.type){case"rows-inserted":this._onRowsInserted(t);break;case"columns-inserted":this._onColumnsInserted(t);break;case"rows-removed":this._onRowsRemoved(t);break;case"columns-removed":this._onColumnsRemoved(t);break;case"rows-moved":this._onRowsMoved(t);break;case"columns-moved":this._onColumnsMoved(t);break;case"cells-changed":this._onCellsChanged(t);break;case"model-reset":this._onModelReset(t);break;default:throw"unreachable"}};t.prototype._onSelectionsChanged=function(e){this.repaintOverlay()};t.prototype._onRowsInserted=function(e){var t=e.region,n=e.index,i=e.span;if(i<=0){return}var r;if(t==="body"){r=this._rowSections}else{r=this._columnHeaderSections}if(this._scrollY===this.maxScrollY&&this.maxScrollY>0){r.insert(n,i);this._scrollY=this.maxScrollY}else{r.insert(n,i)}this._syncViewport()};t.prototype._onColumnsInserted=function(e){var t=e.region,n=e.index,i=e.span;if(i<=0){return}var r;if(t==="body"){r=this._columnSections}else{r=this._rowHeaderSections}if(this._scrollX===this.maxScrollX&&this.maxScrollX>0){r.insert(n,i);this._scrollX=this.maxScrollX}else{r.insert(n,i)}this._syncViewport()};t.prototype._onRowsRemoved=function(e){var t=e.region,n=e.index,i=e.span;if(i<=0){return}var r;if(t==="body"){r=this._rowSections}else{r=this._columnHeaderSections}if(n<0||n>=r.count){return}if(this._scrollY===this.maxScrollY&&this.maxScrollY>0){r.remove(n,i);this._scrollY=this.maxScrollY}else{r.remove(n,i)}this._syncViewport()};t.prototype._onColumnsRemoved=function(e){var t=e.region,n=e.index,i=e.span;if(i<=0){return}var r;if(t==="body"){r=this._columnSections}else{r=this._rowHeaderSections}if(n<0||n>=r.count){return}if(this._scrollX===this.maxScrollX&&this.maxScrollX>0){r.remove(n,i);this._scrollX=this.maxScrollX}else{r.remove(n,i)}this._syncViewport()};t.prototype._onRowsMoved=function(e){var t=e.region,n=e.index,i=e.span,r=e.destination;if(i<=0){return}var o;if(t==="body"){o=this._rowSections}else{o=this._columnHeaderSections}if(n<0||n>=o.count){return}i=Math.min(i,o.count-n);r=Math.min(Math.max(0,r),o.count-i);if(n===r){return}var a=Math.min(n,r);var s=Math.max(n+i-1,r+i-1);o.move(n,i,r);if(t==="body"){this.repaintRegion("body",a,0,s,Infinity);this.repaintRegion("row-header",a,0,s,Infinity)}else{this.repaintRegion("column-header",a,0,s,Infinity);this.repaintRegion("corner-header",a,0,s,Infinity)}this._syncViewport()};t.prototype._onColumnsMoved=function(e){var t=e.region,n=e.index,i=e.span,r=e.destination;if(i<=0){return}var o;if(t==="body"){o=this._columnSections}else{o=this._rowHeaderSections}if(n<0||n>=o.count){return}i=Math.min(i,o.count-n);r=Math.min(Math.max(0,r),o.count-i);if(n===r){return}o.move(n,i,r);var a=Math.min(n,r);var s=Math.max(n+i-1,r+i-1);if(t==="body"){this.repaintRegion("body",0,a,Infinity,s);this.repaintRegion("column-header",0,a,Infinity,s)}else{this.repaintRegion("row-header",0,a,Infinity,s);this.repaintRegion("corner-header",0,a,Infinity,s)}this._syncViewport()};t.prototype._onCellsChanged=function(e){var t=e.region,n=e.row,i=e.column,r=e.rowSpan,o=e.columnSpan;if(r<=0&&o<=0){return}var a=n;var s=i;var u=a+r-1;var l=s+o-1;this.repaintRegion(t,a,s,u,l)};t.prototype._onModelReset=function(e){var t=this._rowSections.count;var n=this._columnSections.count;var i=this._rowHeaderSections.count;var r=this._columnHeaderSections.count;var o=this._dataModel.rowCount("body")-t;var a=this._dataModel.columnCount("body")-n;var s=this._dataModel.columnCount("row-header")-i;var u=this._dataModel.rowCount("column-header")-r;if(o>0){this._rowSections.insert(t,o)}else if(o<0){this._rowSections.remove(t+o,-o)}if(a>0){this._columnSections.insert(n,a)}else if(a<0){this._columnSections.remove(n+a,-a)}if(s>0){this._rowHeaderSections.insert(i,s)}else if(s<0){this._rowHeaderSections.remove(i+s,-s)}if(u>0){this._columnHeaderSections.insert(r,u)}else if(u<0){this._columnHeaderSections.remove(r+u,-u)}this._syncViewport()};t.prototype._onRenderersChanged=function(){this.repaintContent()};t.prototype._evtKeyDown=function(e){if(this._mousedown){e.preventDefault();e.stopPropagation()}else if(this._keyHandler){this._keyHandler.onKeyDown(this,e)}};t.prototype._evtMouseDown=function(e){if(e.button!==0){return}this.activate();e.preventDefault();e.stopPropagation();document.addEventListener("keydown",this,true);document.addEventListener("mouseup",this,true);document.addEventListener("mousedown",this,true);document.addEventListener("mousemove",this,true);document.addEventListener("contextmenu",this,true);this._mousedown=true;if(this._mouseHandler){this._mouseHandler.onMouseDown(this,e)}};t.prototype._evtMouseMove=function(e){if(this._mousedown){e.preventDefault();e.stopPropagation()}if(!this._mouseHandler){return}if(this._mousedown){this._mouseHandler.onMouseMove(this,e)}else{this._mouseHandler.onMouseHover(this,e)}};t.prototype._evtMouseUp=function(e){if(e.button!==0){return}e.preventDefault();e.stopPropagation();if(this._mouseHandler){this._mouseHandler.onMouseUp(this,e)}this._releaseMouse()};t.prototype._evtMouseDoubleClick=function(e){if(e.button!==0){return}e.preventDefault();e.stopPropagation();if(this._mouseHandler){this._mouseHandler.onMouseDoubleClick(this,e)}this._releaseMouse()};t.prototype._evtMouseLeave=function(e){if(this._mousedown){e.preventDefault();e.stopPropagation()}else if(this._mouseHandler){this._mouseHandler.onMouseLeave(this,e)}};t.prototype._evtContextMenu=function(e){if(this._mousedown){e.preventDefault();e.stopPropagation()}else if(this._mouseHandler){this._mouseHandler.onContextMenu(this,e)}};t.prototype._evtWheel=function(e){if(i.Platform.accelKey(e)){return}if(!this._mouseHandler){return}e.preventDefault();e.stopPropagation();this._mouseHandler.onWheel(this,e)};t.prototype._releaseMouse=function(){this._mousedown=false;if(this._mouseHandler){this._mouseHandler.release()}document.removeEventListener("keydown",this,true);document.removeEventListener("mouseup",this,true);document.removeEventListener("mousedown",this,true);document.removeEventListener("mousemove",this,true);document.removeEventListener("contextmenu",this,true)};t.prototype._refreshDPI=function(){var e=Math.ceil(window.devicePixelRatio);if(this._dpiRatio===e){return}this._dpiRatio=e;this.repaintContent();this.repaintOverlay();this._resizeCanvasIfNeeded(this._viewportWidth,this._viewportHeight);this._canvas.style.width=this._canvas.width/this._dpiRatio+"px";this._canvas.style.height=this._canvas.height/this._dpiRatio+"px";this._overlay.style.width=this._overlay.width/this._dpiRatio+"px";this._overlay.style.height=this._overlay.height/this._dpiRatio+"px"};t.prototype._resizeRow=function(e,t){var n=this._rowSections;if(e<0||e>=n.count){return}var i=n.sizeOf(e);var r=n.clampSize(t);if(i===r){return}n.resize(e,r);var o=this._viewportWidth;var a=this._viewportHeight;if(!this._viewport.isVisible||o===0||a===0){this._syncScrollState();return}var s=r-i;var u=this.headerHeight;var l=n.offsetOf(e)+u-this._scrollY;if(u>=a||l>=a){this._syncScrollState();return}if(l+i<=u){this._scrollY+=s;this._syncScrollState();return}var c=Math.max(u,l);if(l+i>=a||l+r>=a){this.paintContent(0,c,o,a-c);this._paintOverlay();this._syncScrollState();return}var h=0;var d=o;var f=0;var p;var m;var v;if(l+r<=u){p=u-s;m=a-p;v=u}else{p=l+i;m=a-p;v=p+s}this._blitContent(this._canvas,h,p,d,m,f,v);if(r>0&&l+r>u){this.paintContent(0,c,o,l+r-c)}if(this._stretchLastRow&&this.pageHeight>this.bodyHeight){var g=this._rowSections.count-1;var _=u+this._rowSections.offsetOf(g);this.paintContent(0,_,o,a-_)}else if(s<0){this.paintContent(0,a+s,o,-s)}this._paintOverlay();this._syncScrollState()};t.prototype._resizeColumn=function(e,t){var n=this._columnSections;if(e<0||e>=n.count){return}var i=n.sizeOf(e);var r=n.clampSize(t);if(i===r){return}n.resize(e,r);var o=this._viewportWidth;var a=this._viewportHeight;if(!this._viewport.isVisible||o===0||a===0){this._syncScrollState();return}var s=r-i;var u=this.headerWidth;var l=n.offsetOf(e)+u-this._scrollX;if(u>=o||l>=o){this._syncScrollState();return}if(l+i<=u){this._scrollX+=s;this._syncScrollState();return}var c=Math.max(u,l);if(l+i>=o||l+r>=o){this.paintContent(c,0,o-c,a);this._paintOverlay();this._syncScrollState();return}var h=0;var d=a;var f=0;var p;var m;var v;if(l+r<=u){p=u-s;m=o-p;v=u}else{p=l+i;m=o-p;v=p+s}this._blitContent(this._canvas,p,h,m,d,v,f);if(r>0&&l+r>u){this.paintContent(c,0,l+r-c,a)}if(this._stretchLastColumn&&this.pageWidth>this.bodyWidth){var g=this._columnSections.count-1;var _=u+this._columnSections.offsetOf(g);this.paintContent(_,0,o-_,a)}else if(s<0){this.paintContent(o+s,0,-s,a)}this._paintOverlay();this._syncScrollState()};t.prototype._resizeRowHeader=function(e,t){var n=this._rowHeaderSections;if(e<0||e>=n.count){return}var i=n.sizeOf(e);var r=n.clampSize(t);if(i===r){return}n.resize(e,r);var o=this._viewportWidth;var a=this._viewportHeight;if(!this._viewport.isVisible||o===0||a===0){this._syncScrollState();return}var s=r-i;var u=n.offsetOf(e);if(u>=o){this._syncScrollState();return}if(u+i>=o||u+r>=o){this.paintContent(u,0,o-u,a);this._paintOverlay();this._syncScrollState();return}var l=u+i;var c=0;var h=o-l;var d=a;var f=l+s;var p=0;this._blitContent(this._canvas,l,c,h,d,f,p);if(r>0){this.paintContent(u,0,r,a)}if(this._stretchLastColumn&&this.pageWidth>this.bodyWidth){var m=this._columnSections.count-1;var v=this.headerWidth+this._columnSections.offsetOf(m);this.paintContent(v,0,o-v,a)}else if(s<0){this.paintContent(o+s,0,-s,a)}this._paintOverlay();this._syncScrollState()};t.prototype._resizeColumnHeader=function(e,t){var n=this._columnHeaderSections;if(e<0||e>=n.count){return}var i=n.sizeOf(e);var r=n.clampSize(t);if(i===r){return}n.resize(e,r);var o=this._viewportWidth;var a=this._viewportHeight;if(!this._viewport.isVisible||o===0||a===0){this._syncScrollState();return}this._paintOverlay();var s=r-i;var u=n.offsetOf(e);if(u>=a){this._syncScrollState();return}if(u+i>=a||u+r>=a){this.paintContent(0,u,o,a-u);this._paintOverlay();this._syncScrollState();return}var l=0;var c=u+i;var h=o;var d=a-c;var f=0;var p=c+s;this._blitContent(this._canvas,l,c,h,d,f,p);if(r>0){this.paintContent(0,u,o,r)}if(this._stretchLastRow&&this.pageHeight>this.bodyHeight){var m=this._rowSections.count-1;var v=this.headerHeight+this._rowSections.offsetOf(m);this.paintContent(0,v,o,a-v)}else if(s<0){this.paintContent(0,a+s,o,-s)}this._paintOverlay();this._syncScrollState()};t.prototype._scrollTo=function(e,t){e=Math.max(0,Math.min(Math.floor(e),this.maxScrollX));t=Math.max(0,Math.min(Math.floor(t),this.maxScrollY));this._hScrollBar.value=e;this._vScrollBar.value=t;var n=e-this._scrollX;var i=t-this._scrollY;if(n===0&&i===0){return}if(!this._viewport.isVisible){this._scrollX=e;this._scrollY=t;return}var r=this._viewportWidth;var o=this._viewportHeight;if(r===0||o===0){this._scrollX=e;this._scrollY=t;return}var a=this.headerWidth;var s=this.headerHeight;var u=r-a;var l=o-s;if(u<=0&&l<=0){this._scrollX=e;this._scrollY=t;return}var c=0;if(n!==0&&u>0){if(Math.abs(n)>=u){c=u*o}else{c=Math.abs(n)*o}}var h=0;if(i!==0&&l>0){if(Math.abs(i)>=l){h=r*l}else{h=r*Math.abs(i)}}if(c+h>=r*o){this._scrollX=e;this._scrollY=t;this.paintContent(0,0,r,o);this._paintOverlay();return}this._scrollY=t;if(i!==0&&l>0){if(Math.abs(i)>=l){this.paintContent(0,s,r,l)}else{var d=0;var f=i<0?s:s+i;var p=r;var m=l-Math.abs(i);this._blitContent(this._canvas,d,f,p,m,d,f-i);this.paintContent(0,i<0?s:o-i,r,Math.abs(i))}}this._scrollX=e;if(n!==0&&u>0){if(Math.abs(n)>=u){this.paintContent(a,0,u,o)}else{var v=n<0?a:a+n;var g=0;var p=u-Math.abs(n);var m=o;this._blitContent(this._canvas,v,g,p,m,v-n,g);this.paintContent(n<0?a:r-n,0,Math.abs(n),o)}}this._paintOverlay()};t.prototype._blitContent=function(e,t,n,i,r,o,a){t*=this._dpiRatio;n*=this._dpiRatio;i*=this._dpiRatio;r*=this._dpiRatio;o*=this._dpiRatio;a*=this._dpiRatio;this._canvasGC.save();this._canvasGC.setTransform(1,0,0,1,0,0);this._canvasGC.drawImage(e,t,n,i,r,o,a,i,r);this._canvasGC.restore()};t.prototype.paintContent=function(e,t,n,i){this._canvasGC.setTransform(this._dpiRatio,0,0,this._dpiRatio,0,0);this._bufferGC.setTransform(this._dpiRatio,0,0,this._dpiRatio,0,0);this._canvasGC.clearRect(e,t,n,i);this._drawVoidRegion(e,t,n,i);this._drawBodyRegion(e,t,n,i);this._drawRowHeaderRegion(e,t,n,i);this._drawColumnHeaderRegion(e,t,n,i);this.drawCornerHeaderRegion(e,t,n,i)};t.prototype._paintOverlay=function(){this._overlayGC.setTransform(this._dpiRatio,0,0,this._dpiRatio,0,0);this._overlayGC.clearRect(0,0,this._overlay.width,this._overlay.height);this._drawBodySelections();this._drawRowHeaderSelections();this._drawColumnHeaderSelections();this._drawCursor();this._drawShadows()};t.prototype._drawVoidRegion=function(e,t,n,i){var r=this._style.voidColor;if(!r){return}this._canvasGC.fillStyle=r;this._canvasGC.fillRect(e,t,n,i)};t.prototype._drawBodyRegion=function(e,t,n,i){var r=this._columnSections.length-this._scrollX;var o=this._rowSections.length-this._scrollY;if(r<=0||o<=0){return}var a=this.headerWidth;var s=this.headerHeight;if(e+n<=a){return}if(t+i<=s){return}if(e>=a+r){return}if(t>=s+o){return}var u=this.bodyHeight;var l=this.bodyWidth;var c=this.pageHeight;var h=this.pageWidth;var d=Math.max(e,a);var f=Math.max(t,s);var p=Math.min(e+n-1,a+r-1);var m=Math.min(t+i-1,s+o-1);var v=this._rowSections.indexOf(f-s+this._scrollY);var g=this._columnSections.indexOf(d-a+this._scrollX);var _=this._rowSections.indexOf(m-s+this._scrollY);var y=this._columnSections.indexOf(p-a+this._scrollX);var b=this._rowSections.count-1;var A=this._columnSections.count-1;if(_<0){_=b}if(y<0){y=A}var E=this._columnSections.offsetOf(g)+a-this._scrollX;var w=this._rowSections.offsetOf(v)+s-this._scrollY;var C=0;var x=0;var M=new Array(_-v+1);var S=new Array(y-g+1);for(var D=v;D<=_;++D){var B=this._rowSections.sizeOf(D);M[D-v]=B;x+=B}for(var P=g;P<=y;++P){var B=this._columnSections.sizeOf(P);S[P-g]=B;C+=B}if(this._stretchLastRow&&c>u&&_===b){var T=this.pageHeight-this.bodyHeight;M[M.length-1]+=T;x+=T;m+=T}if(this._stretchLastColumn&&h>l&&y===A){var z=this.pageWidth-this.bodyWidth;S[S.length-1]+=z;C+=z;p+=z}var R={region:"body",xMin:d,yMin:f,xMax:p,yMax:m,x:E,y:w,width:C,height:x,row:v,column:g,rowSizes:M,columnSizes:S};this._drawBackground(R,this._style.backgroundColor);this._drawRowBackground(R,this._style.rowBackgroundColor);this._drawColumnBackground(R,this._style.columnBackgroundColor);this._drawCells(R);this._drawHorizontalGridLines(R,this._style.horizontalGridLineColor||this._style.gridLineColor);this._drawVerticalGridLines(R,this._style.verticalGridLineColor||this._style.gridLineColor)};t.prototype._drawRowHeaderRegion=function(e,t,n,i){var r=this.headerWidth;var o=this.bodyHeight-this._scrollY;if(r<=0||o<=0){return}var a=0;var s=this.headerHeight;if(e+n<=a){return}if(t+i<=s){return}if(e>=a+r){return}if(t>=s+o){return}var u=this.bodyHeight;var l=this.pageHeight;var c=e;var h=Math.max(t,s);var d=Math.min(e+n-1,a+r-1);var f=Math.min(t+i-1,s+o-1);var p=this._rowSections.indexOf(h-s+this._scrollY);var m=this._rowHeaderSections.indexOf(c);var v=this._rowSections.indexOf(f-s+this._scrollY);var g=this._rowHeaderSections.indexOf(d);var _=this._rowSections.count-1;var y=this._rowHeaderSections.count-1;if(v<0){v=_}if(g<0){g=y}var b=this._rowHeaderSections.offsetOf(m);var A=this._rowSections.offsetOf(p)+s-this._scrollY;var E=0;var w=0;var C=new Array(v-p+1);var x=new Array(g-m+1);for(var M=p;M<=v;++M){var S=this._rowSections.sizeOf(M);C[M-p]=S;w+=S}for(var D=m;D<=g;++D){var S=this._rowHeaderSections.sizeOf(D);x[D-m]=S;E+=S}if(this._stretchLastRow&&l>u&&v===_){var B=this.pageHeight-this.bodyHeight;C[C.length-1]+=B;w+=B;f+=B}var P={region:"row-header",xMin:c,yMin:h,xMax:d,yMax:f,x:b,y:A,width:E,height:w,row:p,column:m,rowSizes:C,columnSizes:x};this._drawBackground(P,this._style.headerBackgroundColor);this._drawCells(P);this._drawHorizontalGridLines(P,this._style.headerHorizontalGridLineColor||this._style.headerGridLineColor);this._drawVerticalGridLines(P,this._style.headerVerticalGridLineColor||this._style.headerGridLineColor)};t.prototype._drawColumnHeaderRegion=function(e,t,n,i){var r=this.bodyWidth-this._scrollX;var o=this.headerHeight;if(r<=0||o<=0){return}var a=this.headerWidth;var s=0;if(e+n<=a){return}if(t+i<=s){return}if(e>=a+r){return}if(t>=s+o){return}var u=this.bodyWidth;var l=this.pageWidth;var c=Math.max(e,a);var h=t;var d=Math.min(e+n-1,a+r-1);var f=Math.min(t+i-1,s+o-1);var p=this._columnHeaderSections.indexOf(h);var m=this._columnSections.indexOf(c-a+this._scrollX);var v=this._columnHeaderSections.indexOf(f);var g=this._columnSections.indexOf(d-a+this._scrollX);var _=this._columnHeaderSections.count-1;var y=this._columnSections.count-1;if(v<0){v=_}if(g<0){g=y}var b=this._columnSections.offsetOf(m)+a-this._scrollX;var A=this._columnHeaderSections.offsetOf(p);var E=0;var w=0;var C=new Array(v-p+1);var x=new Array(g-m+1);for(var M=p;M<=v;++M){var S=this._columnHeaderSections.sizeOf(M);C[M-p]=S;w+=S}for(var D=m;D<=g;++D){var S=this._columnSections.sizeOf(D);x[D-m]=S;E+=S}if(this._stretchLastColumn&&l>u&&g===y){var B=this.pageWidth-this.bodyWidth;x[x.length-1]+=B;E+=B;d+=B}var P={region:"column-header",xMin:c,yMin:h,xMax:d,yMax:f,x:b,y:A,width:E,height:w,row:p,column:m,rowSizes:C,columnSizes:x};this._drawBackground(P,this._style.headerBackgroundColor);this._drawCells(P);this._drawHorizontalGridLines(P,this._style.headerHorizontalGridLineColor||this._style.headerGridLineColor);this._drawVerticalGridLines(P,this._style.headerVerticalGridLineColor||this._style.headerGridLineColor)};t.prototype.drawCornerHeaderRegion=function(e,t,n,i){var r=this.headerWidth;var o=this.headerHeight;if(r<=0||o<=0){return}var a=0;var s=0;if(e+n<=a){return}if(t+i<=s){return}if(e>=a+r){return}if(t>=s+o){return}var u=e;var l=t;var c=Math.min(e+n-1,a+r-1);var h=Math.min(t+i-1,s+o-1);var d=this._columnHeaderSections.indexOf(l);var f=this._rowHeaderSections.indexOf(u);var p=this._columnHeaderSections.indexOf(h);var m=this._rowHeaderSections.indexOf(c);if(p<0){p=this._columnHeaderSections.count-1}if(m<0){m=this._rowHeaderSections.count-1}var v=this._rowHeaderSections.offsetOf(f);var g=this._columnHeaderSections.offsetOf(d);var _=0;var y=0;var b=new Array(p-d+1);var A=new Array(m-f+1);for(var E=d;E<=p;++E){var w=this._columnHeaderSections.sizeOf(E);b[E-d]=w;y+=w}for(var C=f;C<=m;++C){var w=this._rowHeaderSections.sizeOf(C);A[C-f]=w;_+=w}var x={region:"corner-header",xMin:u,yMin:l,xMax:c,yMax:h,x:v,y:g,width:_,height:y,row:d,column:f,rowSizes:b,columnSizes:A};this._drawBackground(x,this._style.headerBackgroundColor);this._drawCells(x);this._drawHorizontalGridLines(x,this._style.headerHorizontalGridLineColor||this._style.headerGridLineColor);this._drawVerticalGridLines(x,this._style.headerVerticalGridLineColor||this._style.headerGridLineColor)};t.prototype._drawBackground=function(e,t){if(!t){return}var n=e.xMin,i=e.yMin,r=e.xMax,o=e.yMax;this._canvasGC.fillStyle=t;this._canvasGC.fillRect(n,i,r-n+1,o-i+1)};t.prototype._drawRowBackground=function(e,t){if(!t){return}var n=Math.max(e.xMin,e.x);var i=Math.min(e.x+e.width-1,e.xMax);for(var r=e.y,o=0,a=e.rowSizes.length;o<a;++o){var s=e.rowSizes[o];if(s===0){continue}var u=t(e.row+o);if(u){var l=Math.max(e.yMin,r);var c=Math.min(r+s-1,e.yMax);this._canvasGC.fillStyle=u;this._canvasGC.fillRect(n,l,i-n+1,c-l+1)}r+=s}};t.prototype._drawColumnBackground=function(e,t){if(!t){return}var n=Math.max(e.yMin,e.y);var i=Math.min(e.y+e.height-1,e.yMax);for(var r=e.x,o=0,a=e.columnSizes.length;o<a;++o){var s=e.columnSizes[o];if(s===0){continue}var u=t(e.column+o);if(u){var l=Math.max(e.xMin,r);var c=Math.min(r+s-1,e.xMax);this._canvasGC.fillStyle=u;this._canvasGC.fillRect(l,n,c-l+1,i-n+1)}r+=s}};t.prototype._drawCells=function(e){if(!this._dataModel){return}var t={x:0,y:0,width:0,height:0,region:e.region,row:0,column:0,value:null,metadata:F.emptyMetadata};this._bufferGC.save();var n=new G(this._bufferGC);var i=Math.max(e.yMin,e.y);var r=Math.min(e.y+e.height-1,e.yMax);for(var o=e.x,a=0,s=e.columnSizes.length;a<s;++a){var u=e.columnSizes[a];if(u===0){continue}var l=e.column+a;t.x=o;t.width=u;t.column=l;n.clearRect(o,e.y,u,e.height);n.save();for(var c=e.y,h=0,d=e.rowSizes.length;h<d;++h){var f=e.rowSizes[h];if(f===0){continue}var p=e.row+h;var m=void 0;try{m=this._dataModel.data(e.region,p,l)}catch(b){m=undefined;console.error(b)}var v=void 0;try{v=this._dataModel.metadata(e.region,p,l)}catch(b){v=F.emptyMetadata;console.error(b)}t.y=c;t.height=f;t.row=p;t.value=m;t.metadata=v;var g=this._cellRenderers.get(t);n.save();try{g.paint(n,t)}catch(b){console.error(b)}n.restore();c+=f}n.restore();var _=Math.max(e.xMin,o);var y=Math.min(o+u-1,e.xMax);this._blitContent(this._buffer,_,i,y-_+1,r-i+1,_,i);o+=u}n.dispose();this._bufferGC.restore()};t.prototype._drawHorizontalGridLines=function(e,t){if(!t){return}var n=Math.max(e.xMin,e.x);var i=Math.min(e.x+e.width,e.xMax+1);this._canvasGC.beginPath();this._canvasGC.lineWidth=1;var r=this.bodyHeight;var o=this.pageHeight;var a=e.rowSizes.length;if(this._stretchLastRow&&o>r){if(e.row+a===this._rowSections.count){a-=1}}for(var s=e.y,u=0;u<a;++u){var l=e.rowSizes[u];if(l===0){continue}var c=s+l-1;if(c>=e.yMin&&c<=e.yMax){this._canvasGC.moveTo(n,c+.5);this._canvasGC.lineTo(i,c+.5)}s+=l}this._canvasGC.strokeStyle=t;this._canvasGC.stroke()};t.prototype._drawVerticalGridLines=function(e,t){if(!t){return}var n=Math.max(e.yMin,e.y);var i=Math.min(e.y+e.height,e.yMax+1);this._canvasGC.beginPath();this._canvasGC.lineWidth=1;var r=this.bodyWidth;var o=this.pageWidth;var a=e.columnSizes.length;if(this._stretchLastColumn&&o>r){if(e.column+a===this._columnSections.count){a-=1}}for(var s=e.x,u=0;u<a;++u){var l=e.columnSizes[u];if(l===0){continue}var c=s+l-1;if(c>=e.xMin&&c<=e.xMax){this._canvasGC.moveTo(c+.5,n);this._canvasGC.lineTo(c+.5,i)}s+=l}this._canvasGC.strokeStyle=t;this._canvasGC.stroke()};t.prototype._drawBodySelections=function(){var e=this._selectionModel;if(!e||e.isEmpty){return}var t=this._style.selectionFillColor;var n=this._style.selectionBorderColor;if(!t&&!n){return}var i=this._scrollX;var r=this._scrollY;var o=this._rowSections.indexOf(r);var a=this._columnSections.indexOf(i);if(o<0||a<0){return}var s=this.bodyWidth;var u=this.bodyHeight;var l=this.pageWidth;var c=this.pageHeight;var h=this.headerWidth;var d=this.headerHeight;var f=this._rowSections.indexOf(r+c);var p=this._columnSections.indexOf(i+l);var m=this._rowSections.count-1;var v=this._columnSections.count-1;f=f<0?m:f;p=p<0?v:p;var g=this._overlayGC;g.save();g.beginPath();g.rect(h,d,l,c);g.clip();if(t){g.fillStyle=t}if(n){g.strokeStyle=n;g.lineWidth=1}var _=e.selections();var y;while((y=_.next())!==undefined){if(y.r1<o&&y.r2<o){continue}if(y.r1>f&&y.r2>f){continue}if(y.c1<a&&y.c2<a){continue}if(y.c1>p&&y.c2>p){continue}var b=Math.max(0,Math.min(y.r1,m));var A=Math.max(0,Math.min(y.c1,v));var E=Math.max(0,Math.min(y.r2,m));var w=Math.max(0,Math.min(y.c2,v));var C=void 0;if(b>E){C=b;b=E;E=C}if(A>w){C=A;A=w;w=C}var x=this._columnSections.offsetOf(A)-i+h;var M=this._rowSections.offsetOf(b)-r+d;var S=this._columnSections.extentOf(w)-i+h;var D=this._rowSections.extentOf(E)-r+d;if(this._stretchLastColumn&&l>s&&w===v){S=h+l-1}if(this._stretchLastRow&&c>u&&E===m){D=d+c-1}x=Math.max(h-1,x);M=Math.max(d-1,M);S=Math.min(h+l+1,S);D=Math.min(d+c+1,D);if(S<x||D<M){continue}if(t){g.fillRect(x,M,S-x+1,D-M+1)}if(n){g.strokeRect(x-.5,M-.5,S-x+1,D-M+1)}}g.restore()};t.prototype._drawRowHeaderSelections=function(){var e=this._selectionModel;if(!e||e.isEmpty||e.selectionMode=="column"){return}if(this.headerWidth===0||this.pageHeight===0){return}var t=this._style.headerSelectionFillColor;var n=this._style.headerSelectionBorderColor;if(!t&&!n){return}var i=this._scrollY;var r=this.bodyHeight;var o=this.pageHeight;var a=this.headerWidth;var s=this.headerHeight;var u=this._rowSections;var l=this._overlayGC;l.save();l.beginPath();l.rect(0,s,a,o);l.clip();if(t){l.fillStyle=t}if(n){l.strokeStyle=n;l.lineWidth=1}var c=u.count-1;var h=u.indexOf(i);var d=u.indexOf(i+o-1);d=d<0?c:d;for(var f=h;f<=d;++f){if(!e.isRowSelected(f)){continue}var p=u.offsetOf(f)-i+s;var m=u.sizeOf(f);if(this._stretchLastRow&&o>r&&f===c){m=s+o-p}if(m===0){continue}if(t){l.fillRect(0,p,a,m)}if(n){l.beginPath();l.moveTo(a-.5,p-1);l.lineTo(a-.5,p+m);l.stroke()}}l.restore()};t.prototype._drawColumnHeaderSelections=function(){var e=this._selectionModel;if(!e||e.isEmpty||e.selectionMode=="row"){return}if(this.headerHeight===0||this.pageWidth===0){return}var t=this._style.headerSelectionFillColor;var n=this._style.headerSelectionBorderColor;if(!t&&!n){return}var i=this._scrollX;var r=this.bodyWidth;var o=this.pageWidth;var a=this.headerWidth;var s=this.headerHeight;var u=this._columnSections;var l=this._overlayGC;l.save();l.beginPath();l.rect(a,0,o,s);l.clip();if(t){l.fillStyle=t}if(n){l.strokeStyle=n;l.lineWidth=1}var c=u.count-1;var h=u.indexOf(i);var d=u.indexOf(i+o-1);d=d<0?c:d;for(var f=h;f<=d;++f){if(!e.isColumnSelected(f)){continue}var p=u.offsetOf(f)-i+a;var m=u.sizeOf(f);if(this._stretchLastColumn&&o>r&&f===c){m=a+o-p}if(m===0){continue}if(t){l.fillRect(p,0,m,s)}if(n){l.beginPath();l.moveTo(p-1,s-.5);l.lineTo(p+m,s-.5);l.stroke()}}l.restore()};t.prototype._drawCursor=function(){var e=this._selectionModel;if(!e||e.isEmpty||e.selectionMode!=="cell"){return}var t=this._style.cursorFillColor;var n=this._style.cursorBorderColor;if(!t&&!n){return}var i=e.cursorRow;var r=e.cursorColumn;var o=this._rowSections.count-1;var a=this._columnSections.count-1;if(i<0||i>o){return}if(r<0||r>a){return}var s=this._scrollX;var u=this._scrollY;var l=this.bodyWidth;var c=this.bodyHeight;var h=this.pageWidth;var d=this.pageHeight;var f=this.headerWidth;var p=this.headerHeight;var m=this._viewportWidth;var v=this._viewportHeight;var g=this._columnSections.offsetOf(r)-s+f;var _=this._columnSections.extentOf(r)-s+f;var y=this._rowSections.offsetOf(i)-u+p;var b=this._rowSections.extentOf(i)-u+p;if(this._stretchLastColumn&&h>l&&r===a){_=m-1}if(this._stretchLastRow&&d>c&&i===o){b=v-1}if(_<g||b<y){return}if(g-1>=m||y-1>=v||_+1<f||b+1<p){return}var A=this._overlayGC;A.save();A.beginPath();A.rect(f,p,h,d);A.clip();A.clearRect(g,y,_-g+1,b-y+1);if(t){A.fillStyle=t;A.fillRect(g,y,_-g+1,b-y+1)}if(n){A.strokeStyle=n;A.lineWidth=2;A.strokeRect(g,y,_-g,b-y)}A.restore()};t.prototype._drawShadows=function(){var e=this._style.scrollShadow;if(!e){return}var t=this._scrollX;var n=this._scrollY;var i=this.maxScrollX;var r=this.maxScrollY;var o=this.headerWidth;var a=this.headerHeight;var s=this.pageWidth;var u=this.pageHeight;var l=this._viewportWidth;var c=this._viewportHeight;var h=this.bodyWidth;var d=this.bodyHeight;if(this._stretchLastRow&&u>d){d=u}if(this._stretchLastColumn&&s>h){h=s}var f=this._overlayGC;f.save();if(n>0){var p=0;var m=a;var v=0;var g=m+e.size;var _=f.createLinearGradient(p,m,v,g);_.addColorStop(0,e.color1);_.addColorStop(.5,e.color2);_.addColorStop(1,e.color3);var y=0;var b=a;var A=o+Math.min(s,h-t);var E=e.size;f.fillStyle=_;f.fillRect(y,b,A,E)}if(t>0){var p=o;var m=0;var v=p+e.size;var g=0;var _=f.createLinearGradient(p,m,v,g);_.addColorStop(0,e.color1);_.addColorStop(.5,e.color2);_.addColorStop(1,e.color3);var y=o;var b=0;var A=e.size;var E=a+Math.min(u,d-n);f.fillStyle=_;f.fillRect(y,b,A,E)}if(n<r){var p=0;var m=c;var v=0;var g=c-e.size;var _=f.createLinearGradient(p,m,v,g);_.addColorStop(0,e.color1);_.addColorStop(.5,e.color2);_.addColorStop(1,e.color3);var y=0;var b=c-e.size;var A=o+Math.min(s,h-t);var E=e.size;f.fillStyle=_;f.fillRect(y,b,A,E)}if(t<i){var p=l;var m=0;var v=l-e.size;var g=0;var _=f.createLinearGradient(p,m,v,g);_.addColorStop(0,e.color1);_.addColorStop(.5,e.color2);_.addColorStop(1,e.color3);var y=l-e.size;var b=0;var A=e.size;var E=a+Math.min(u,d-n);f.fillStyle=_;f.fillRect(y,b,A,E)}f.restore()};return t}(d.Widget);(function(e){function t(e){if(e.value===null||e.value===undefined){return""}return String(e.value)}e.copyFormatGeneric=t;e.defaultStyle={voidColor:"#F3F3F3",backgroundColor:"#FFFFFF",gridLineColor:"rgba(20, 20, 20, 0.15)",headerBackgroundColor:"#F3F3F3",headerGridLineColor:"rgba(20, 20, 20, 0.25)",selectionFillColor:"rgba(49, 119, 229, 0.2)",selectionBorderColor:"rgba(0, 107, 247, 1.0)",cursorBorderColor:"rgba(0, 107, 247, 1.0)",headerSelectionFillColor:"rgba(20, 20, 20, 0.1)",headerSelectionBorderColor:"rgba(0, 107, 247, 1.0)",scrollShadow:{size:10,color1:"rgba(0, 0, 0, 0.20)",color2:"rgba(0, 0, 0, 0.05)",color3:"rgba(0, 0, 0, 0.00)"}};e.defaultSizes={rowHeight:20,columnWidth:64,rowHeaderWidth:64,columnHeaderHeight:20};e.minimumSizes={rowHeight:20,columnWidth:10,rowHeaderWidth:10,columnHeaderHeight:20};e.defaultCopyConfig={separator:"\t",format:t,headers:"none",warningThreshold:1e6}})($||($={}));var ee;(function(e){e.ScrollRequest=new p.ConflatableMessage("scroll-request");e.OverlayPaintRequest=new p.ConflatableMessage("overlay-paint-request");function t(){var e=document.createElement("canvas");e.width=0;e.height=0;return e}e.createCanvas=t;var n=function(e){b(t,e);function t(t,n,i,r,o){var a=e.call(this,"paint-request")||this;a._region=t;a._r1=n;a._c1=i;a._r2=r;a._c2=o;return a}Object.defineProperty(t.prototype,"region",{get:function(){return this._region},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"r1",{get:function(){return this._r1},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"c1",{get:function(){return this._c1},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"r2",{get:function(){return this._r2},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"c2",{get:function(){return this._c2},enumerable:true,configurable:true});t.prototype.conflate=function(e){if(this._region==="all"){return true}if(e._region==="all"){this._region="all";return true}if(this._region!==e._region){return false}this._r1=Math.min(this._r1,e._r1);this._c1=Math.min(this._c1,e._c1);this._r2=Math.max(this._r2,e._r2);this._c2=Math.max(this._c2,e._c2);return true};return t}(p.ConflatableMessage);e.PaintRequest=n;var i=function(e){b(t,e);function t(t,n,i){var r=e.call(this,"row-resize-request")||this;r._region=t;r._index=n;r._size=i;return r}Object.defineProperty(t.prototype,"region",{get:function(){return this._region},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:true,configurable:true});t.prototype.conflate=function(e){if(this._region!==e._region||this._index!==e._index){return false}this._size=e._size;return true};return t}(p.ConflatableMessage);e.RowResizeRequest=i;var r=function(e){b(t,e);function t(t,n,i){var r=e.call(this,"column-resize-request")||this;r._region=t;r._index=n;r._size=i;return r}Object.defineProperty(t.prototype,"region",{get:function(){return this._region},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:true,configurable:true});t.prototype.conflate=function(e){if(this._region!==e._region||this._index!==e._index){return false}this._size=e._size;return true};return t}(p.ConflatableMessage);e.ColumnResizeRequest=r})(ee||(ee={}));var te=function(e){b(t,e);function t(t){var n=e.call(this)||this;var i=ne.splitFields(t.schema);n._data=t.data;n._bodyFields=i.bodyFields;n._headerFields=i.headerFields;n._missingValues=ne.createMissingMap(t.schema);return n}t.prototype.rowCount=function(e){if(e==="body"){return this._data.length}return 1};t.prototype.columnCount=function(e){if(e==="body"){return this._bodyFields.length}return this._headerFields.length};t.prototype.data=function(e,t,n){var i;var r;switch(e){case"body":i=this._bodyFields[n];r=this._data[t][i.name];break;case"column-header":i=this._bodyFields[n];r=i.title||i.name;break;case"row-header":i=this._headerFields[n];r=this._data[t][i.name];break;case"corner-header":i=this._headerFields[n];r=i.title||i.name;break;default:throw"unreachable"}var o=this._missingValues!==null&&typeof r==="string"&&this._missingValues[r]===true;return o?null:r};t.prototype.metadata=function(e,t,n){if(e==="body"||e==="column-header"){return this._bodyFields[n]}return this._headerFields[n]};return t}(F);var ne;(function(e){function t(e){var t;if(e.primaryKey===undefined){t=[]}else if(typeof e.primaryKey==="string"){t=[e.primaryKey]}else{t=e.primaryKey}var n=[];var i=[];for(var r=0,o=e.fields;r<o.length;r++){var a=o[r];if(t.indexOf(a.name)===-1){n.push(a)}else{i.push(a)}}return{bodyFields:n,headerFields:i}}e.splitFields=t;function n(e){if(!e.missingValues||e.missingValues.length===0){return null}var t=Object.create(null);for(var n=0,i=e.missingValues;n<i.length;n++){var r=i[n];t[r]=true}return t}e.createMissingMap=n})(ne||(ne={}))},72488:(e,t,n)=>{"use strict";n.r(t);n.d(t,{DisposableDelegate:()=>l,DisposableSet:()=>h,ObservableDisposableDelegate:()=>c,ObservableDisposableSet:()=>d});var i=n(62867);var r=n.n(i);var o=n(75138);var a=n.n(o);var s=function(e,t){s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return s(e,t)};function u(e,t){s(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){function e(e){this._fn=e}Object.defineProperty(e.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:true,configurable:true});e.prototype.dispose=function(){if(!this._fn){return}var e=this._fn;this._fn=null;e()};return e}();var c=function(e){u(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t._disposed=new o.Signal(t);return t}Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:true,configurable:true});t.prototype.dispose=function(){if(this.isDisposed){return}e.prototype.dispose.call(this);this._disposed.emit(undefined);o.Signal.clearData(this)};return t}(l);var h=function(){function e(){this._isDisposed=false;this._items=new Set}Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:true,configurable:true});e.prototype.dispose=function(){if(this._isDisposed){return}this._isDisposed=true;this._items.forEach((function(e){e.dispose()}));this._items.clear()};e.prototype.contains=function(e){return this._items.has(e)};e.prototype.add=function(e){this._items.add(e)};e.prototype.remove=function(e){this._items.delete(e)};e.prototype.clear=function(){this._items.clear()};return e}();(function(e){function t(t){var n=new e;(0,i.each)(t,(function(e){n.add(e)}));return n}e.from=t})(h||(h={}));var d=function(e){u(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t._disposed=new o.Signal(t);return t}Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:true,configurable:true});t.prototype.dispose=function(){if(this.isDisposed){return}e.prototype.dispose.call(this);this._disposed.emit(undefined);o.Signal.clearData(this)};return t}(h);(function(e){function t(t){var n=new e;(0,i.each)(t,(function(e){n.add(e)}));return n}e.from=t})(d||(d={}))},85403:(e,t,n)=>{"use strict";n.r(t);n.d(t,{ClipboardExt:()=>i,ElementExt:()=>r,Platform:()=>o,Selector:()=>a});var i;(function(e){function t(e){var t=document.body;var n=function(i){i.preventDefault();i.stopPropagation();i.clipboardData.setData("text",e);t.removeEventListener("copy",n,true)};t.addEventListener("copy",n,true);document.execCommand("copy")}e.copyText=t})(i||(i={}));var r;(function(e){function t(e){var t=window.getComputedStyle(e);var n=parseFloat(t.borderTopWidth)||0;var i=parseFloat(t.borderLeftWidth)||0;var r=parseFloat(t.borderRightWidth)||0;var o=parseFloat(t.borderBottomWidth)||0;var a=parseFloat(t.paddingTop)||0;var s=parseFloat(t.paddingLeft)||0;var u=parseFloat(t.paddingRight)||0;var l=parseFloat(t.paddingBottom)||0;var c=i+s+u+r;var h=n+a+l+o;return{borderTop:n,borderLeft:i,borderRight:r,borderBottom:o,paddingTop:a,paddingLeft:s,paddingRight:u,paddingBottom:l,horizontalSum:c,verticalSum:h}}e.boxSizing=t;function n(e){var t=window.getComputedStyle(e);var n=parseFloat(t.minWidth)||0;var i=parseFloat(t.minHeight)||0;var r=parseFloat(t.maxWidth)||Infinity;var o=parseFloat(t.maxHeight)||Infinity;r=Math.max(n,r);o=Math.max(i,o);return{minWidth:n,minHeight:i,maxWidth:r,maxHeight:o}}e.sizeLimits=n;function i(e,t,n){var i=e.getBoundingClientRect();return t>=i.left&&t<i.right&&n>=i.top&&n<i.bottom}e.hitTest=i;function r(e,t){var n=e.getBoundingClientRect();var i=t.getBoundingClientRect();if(i.top<=n.top&&i.bottom>=n.bottom){return}if(i.top<n.top&&i.height<=n.height){e.scrollTop-=n.top-i.top;return}if(i.bottom>n.bottom&&i.height>=n.height){e.scrollTop-=n.top-i.top;return}if(i.top<n.top&&i.height>n.height){e.scrollTop-=n.bottom-i.bottom;return}if(i.bottom>n.bottom&&i.height<n.height){e.scrollTop-=n.bottom-i.bottom;return}}e.scrollIntoViewIfNeeded=r})(r||(r={}));var o;(function(e){e.IS_MAC=!!navigator.platform.match(/Mac/i);e.IS_WIN=!!navigator.platform.match(/Win/i);e.IS_IE=/Trident/.test(navigator.userAgent);e.IS_EDGE=/Edge/.test(navigator.userAgent);function t(t){return e.IS_MAC?t.metaKey:t.ctrlKey}e.accelKey=t})(o||(o={}));var a;(function(e){function t(e){if(e in s.specificityCache){return s.specificityCache[e]}var t=s.calculateSingle(e);return s.specificityCache[e]=t}e.calculateSpecificity=t;function n(e){if(e in s.validityCache){return s.validityCache[e]}var t=true;try{s.testElem.querySelector(e)}catch(n){t=false}return s.validityCache[e]=t}e.isValid=n;function i(e,t){return s.protoMatchFunc.call(e,t)}e.matches=i})(a||(a={}));var s;(function(e){e.specificityCache=Object.create(null);e.validityCache=Object.create(null);e.testElem=document.createElement("div");e.protoMatchFunc=function(){var e=Element.prototype;return e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){var t=this;var n=t.ownerDocument?t.ownerDocument.querySelectorAll(e):[];return Array.prototype.indexOf.call(n,t)!==-1}}();function t(e){e=e.split(",",1)[0];var t=0;var c=0;var h=0;function d(t){var n=e.match(t);if(n===null){return false}e=e.slice(n[0].length);return true}e=e.replace(l," $1 ");while(e.length>0){if(d(n)){t++;continue}if(d(i)){c++;continue}if(d(r)){c++;continue}if(d(a)){h++;continue}if(d(s)){c++;continue}if(d(o)){h++;continue}if(d(u)){continue}return 0}t=Math.min(t,255);c=Math.min(c,255);h=Math.min(h,255);return t<<16|c<<8|h}e.calculateSingle=t;var n=/^#[^\s\+>~#\.\[:]+/;var i=/^\.[^\s\+>~#\.\[:]+/;var r=/^\[[^\]]+\]/;var o=/^[^\s\+>~#\.\[:]+/;var a=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/;var s=/^:[^\s\+>~#\.\[:]+/;var u=/^[\s\+>~\*]+/;var l=/:not\(([^\)]+)\)/g})(s||(s={}))},38809:(e,t,n)=>{"use strict";n.r(t);n.d(t,{Drag:()=>o});var i=n(76487);var r=n.n(i);var o=function(){function e(e){var t=this;this._onScrollFrame=function(){if(!t._scrollTarget){return}var e=t._scrollTarget,n=e.element,i=e.edge,r=e.distance;var o=a.SCROLL_EDGE_SIZE-r;var s=Math.pow(o/a.SCROLL_EDGE_SIZE,2);var u=Math.max(1,Math.round(s*a.SCROLL_EDGE_SIZE));switch(i){case"top":n.scrollTop-=u;break;case"left":n.scrollLeft-=u;break;case"right":n.scrollLeft+=u;break;case"bottom":n.scrollTop+=u;break}requestAnimationFrame(t._onScrollFrame)};this._disposed=false;this._dropAction="none";this._override=null;this._currentTarget=null;this._currentElement=null;this._promise=null;this._scrollTarget=null;this._resolve=null;this.mimeData=e.mimeData;this.dragImage=e.dragImage||null;this.proposedAction=e.proposedAction||"copy";this.supportedActions=e.supportedActions||"all";this.source=e.source||null}e.prototype.dispose=function(){if(this._disposed){return}this._disposed=true;if(this._currentTarget){var e=a.createMouseEvent("mouseup",-1,-1);a.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")};Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:true,configurable:true});e.prototype.start=function(e,t){var n=this;if(this._disposed){return Promise.resolve("none")}if(this._promise){return this._promise}this._addListeners();this._attachDragImage(e,t);this._promise=new Promise((function(e,t){n._resolve=e}));var i=a.createMouseEvent("mousemove",e,t);document.dispatchEvent(i);return this._promise};e.prototype.handleEvent=function(e){switch(e.type){case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault();e.stopPropagation();break}};e.prototype.moveDragImage=function(e,t){if(!this.dragImage){return}var n=this.dragImage.style;n.top=t+"px";n.left=e+"px"};e.prototype._evtMouseMove=function(e){e.preventDefault();e.stopPropagation();this._updateCurrentTarget(e);this._updateDragScroll(e);this.moveDragImage(e.clientX,e.clientY)};e.prototype._evtMouseUp=function(e){e.preventDefault();e.stopPropagation();if(e.button!==0){return}this._updateCurrentTarget(e);if(!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){a.dispatchDragLeave(this,this._currentTarget,null,e);this._finalize("none");return}var t=a.dispatchDrop(this,this._currentTarget,e);this._finalize(t)};e.prototype._evtKeyDown=function(e){e.preventDefault();e.stopPropagation();if(e.keyCode===27){this.dispose()}};e.prototype._addListeners=function(){document.addEventListener("mousedown",this,true);document.addEventListener("mousemove",this,true);document.addEventListener("mouseup",this,true);document.addEventListener("mouseenter",this,true);document.addEventListener("mouseleave",this,true);document.addEventListener("mouseover",this,true);document.addEventListener("mouseout",this,true);document.addEventListener("keydown",this,true);document.addEventListener("keyup",this,true);document.addEventListener("keypress",this,true);document.addEventListener("contextmenu",this,true)};e.prototype._removeListeners=function(){document.removeEventListener("mousedown",this,true);document.removeEventListener("mousemove",this,true);document.removeEventListener("mouseup",this,true);document.removeEventListener("mouseenter",this,true);document.removeEventListener("mouseleave",this,true);document.removeEventListener("mouseover",this,true);document.removeEventListener("mouseout",this,true);document.removeEventListener("keydown",this,true);document.removeEventListener("keyup",this,true);document.removeEventListener("keypress",this,true);document.removeEventListener("contextmenu",this,true)};e.prototype._updateDragScroll=function(e){var t=a.findScrollTarget(e);if(!this._scrollTarget&&!t){return}if(!this._scrollTarget){setTimeout(this._onScrollFrame,500)}this._scrollTarget=t};e.prototype._updateCurrentTarget=function(e){var t=this._currentTarget;var n=this._currentTarget;var i=this._currentElement;var r=document.elementFromPoint(e.clientX,e.clientY);this._currentElement=r;if(r!==i&&r!==n){a.dispatchDragExit(this,n,r,e)}if(r!==i&&r!==n){n=a.dispatchDragEnter(this,r,n,e)}if(n!==t){this._currentTarget=n;a.dispatchDragLeave(this,t,n,e)}var o=a.dispatchDragOver(this,n,e);this._setDropAction(o)};e.prototype._attachDragImage=function(e,t){if(!this.dragImage){return}this.dragImage.classList.add("lm-mod-drag-image");this.dragImage.classList.add("p-mod-drag-image");var n=this.dragImage.style;n.pointerEvents="none";n.position="fixed";n.top=t+"px";n.left=e+"px";document.body.appendChild(this.dragImage)};e.prototype._detachDragImage=function(){if(!this.dragImage){return}var e=this.dragImage.parentNode;if(!e){return}e.removeChild(this.dragImage)};e.prototype._setDropAction=function(t){t=a.validateAction(t,this.supportedActions);if(this._override&&this._dropAction===t){return}switch(t){case"none":this._dropAction=t;this._override=e.overrideCursor("no-drop");break;case"copy":this._dropAction=t;this._override=e.overrideCursor("copy");break;case"link":this._dropAction=t;this._override=e.overrideCursor("alias");break;case"move":this._dropAction=t;this._override=e.overrideCursor("move");break}};e.prototype._finalize=function(e){var t=this._resolve;this._removeListeners();this._detachDragImage();if(this._override){this._override.dispose();this._override=null}this.mimeData.clear();this._disposed=true;this._dropAction="none";this._currentTarget=null;this._currentElement=null;this._scrollTarget=null;this._promise=null;this._resolve=null;if(t){t(e)}};return e}();(function(e){function t(e){var t=++n;document.body.style.cursor=e;document.body.classList.add("lm-mod-override-cursor");document.body.classList.add("p-mod-override-cursor");return new i.DisposableDelegate((function(){if(t===n){document.body.style.cursor="";document.body.classList.remove("lm-mod-override-cursor");document.body.classList.remove("p-mod-override-cursor")}}))}e.overrideCursor=t;var n=0})(o||(o={}));var a;(function(e){e.SCROLL_EDGE_SIZE=20;function t(e,t){return l[e]&c[t]?e:"none"}e.validateAction=t;function n(e,t,n){var i=document.createEvent("MouseEvent");i.initMouseEvent(e,true,true,window,0,0,0,t,n,false,false,false,false,0,null);return i}e.createMouseEvent=n;function i(t){var n=t.clientX;var i=t.clientY;var r=document.elementFromPoint(n,i);for(;r;r=r.parentElement){var o=r.hasAttribute("data-lm-dragscroll");o=o||r.hasAttribute("data-p-dragscroll");if(!o){continue}var a=0;var s=0;if(r===document.body){a=window.pageXOffset;s=window.pageYOffset}var u=r.getBoundingClientRect();var l=u.top+s;var c=u.left+a;var h=c+u.width;var d=l+u.height;if(n<c||n>=h||i<l||i>=d){continue}var f=n-c+1;var p=i-l+1;var m=h-n;var v=d-i;var g=Math.min(f,p,m,v);if(g>e.SCROLL_EDGE_SIZE){continue}var _=void 0;switch(g){case v:_="bottom";break;case p:_="top";break;case m:_="right";break;case f:_="left";break;default:throw"unreachable"}var y=r.scrollWidth-r.clientWidth;var b=r.scrollHeight-r.clientHeight;var A=void 0;switch(_){case"top":A=b>0&&r.scrollTop>0;break;case"left":A=y>0&&r.scrollLeft>0;break;case"right":A=y>0&&r.scrollLeft<y;break;case"bottom":A=b>0&&r.scrollTop<b;break;default:throw"unreachable"}if(!A){continue}return{element:r,edge:_,distance:g}}return null}e.findScrollTarget=i;function r(e,t,n,i){if(!t){return null}var r=h("lm-dragenter",e,i,n);var o=!t.dispatchEvent(r);if(o){return t}r=h("p-dragenter",e,i,n);o=!t.dispatchEvent(r);if(o){return t}if(t===document.body){return n}r=h("lm-dragenter",e,i,n);document.body.dispatchEvent(r);r=h("p-dragenter",e,i,n);document.body.dispatchEvent(r);return document.body}e.dispatchDragEnter=r;function o(e,t,n,i){if(!t){return}var r=h("lm-dragexit",e,i,n);t.dispatchEvent(r);r=h("p-dragexit",e,i,n);t.dispatchEvent(r)}e.dispatchDragExit=o;function a(e,t,n,i){if(!t){return}var r=h("lm-dragleave",e,i,n);t.dispatchEvent(r);r=h("p-dragleave",e,i,n);t.dispatchEvent(r)}e.dispatchDragLeave=a;function s(e,t,n){if(!t){return"none"}var i=h("lm-dragover",e,n,null);var r=!t.dispatchEvent(i);if(r){return i.dropAction}i=h("p-dragover",e,n,null);r=!t.dispatchEvent(i);if(r){return i.dropAction}return"none"}e.dispatchDragOver=s;function u(e,t,n){if(!t){return"none"}var i=h("lm-drop",e,n,null);var r=!t.dispatchEvent(i);if(r){return i.dropAction}i=h("p-drop",e,n,null);r=!t.dispatchEvent(i);if(r){return i.dropAction}return"none"}e.dispatchDrop=u;var l={none:0,copy:1,link:2,move:4};var c={none:l["none"],copy:l["copy"],link:l["link"],move:l["move"],"copy-link":l["copy"]|l["link"],"copy-move":l["copy"]|l["move"],"link-move":l["link"]|l["move"],all:l["copy"]|l["link"]|l["move"]};function h(e,t,n,i){var r=document.createEvent("MouseEvent");r.initMouseEvent(e,true,true,window,0,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,i);r.dropAction="none";r.mimeData=t.mimeData;r.proposedAction=t.proposedAction;r.supportedActions=t.supportedActions;r.source=t.source;return r}})(a||(a={}))},69908:(e,t,n)=>{"use strict";var i=n(93379);var r=n.n(i);var o=n(25578);var a={};a.insert="head";a.singleton=false;var s=r()(o.Z,a);const u=o.Z.locals||{}},38102:(e,t,n)=>{"use strict";n.d(t,{Vc:()=>i});function i(){return s.keyboardLayout}function r(e){s.keyboardLayout=e}var o=function(){function e(t,n){this.name=t;this._codes=n;this._keys=e.extractKeys(n)}e.prototype.keys=function(){return Object.keys(this._keys)};e.prototype.isValidKey=function(e){return e in this._keys};e.prototype.keyForKeydownEvent=function(e){return this._codes[e.keyCode]||""};return e}();(function(e){function t(e){var t=Object.create(null);for(var n in e){t[e[n]]=true}return t}e.extractKeys=t})(o||(o={}));var a=new o("en-us",{8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"});var s;(function(e){e.keyboardLayout=a})(s||(s={}))},73316:(e,t,n)=>{"use strict";n.r(t);n.d(t,{ConflatableMessage:()=>h,Message:()=>c,MessageLoop:()=>d});var i=n(62867);var r=function(){function e(e){this._root=new o.LeafNode;this.cmp=e}Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._root.size===0},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"size",{get:function(){return this._root.size},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"first",{get:function(){var e=o.firstLeaf(this._root);return e.size>0?e.items[0]:undefined},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"last",{get:function(){var e=o.lastLeaf(this._root);return e.size>0?e.items[e.size-1]:undefined},enumerable:true,configurable:true});e.prototype.iter=function(){return o.iterItems(this._root)};e.prototype.retro=function(){return o.retroItems(this._root)};e.prototype.slice=function(e,t){return o.sliceItems(this._root,e,t)};e.prototype.retroSlice=function(e,t){return o.retroSliceItems(this._root,e,t)};e.prototype.at=function(e){return o.itemAt(this._root,e)};e.prototype.has=function(e,t){return o.hasItem(this._root,e,t)};e.prototype.indexOf=function(e,t){return o.indexOf(this._root,e,t)};e.prototype.get=function(e,t){return o.getItem(this._root,e,t)};e.prototype.assign=function(e){this.clear();this.update(e)};e.prototype.insert=function(e){var t=o.insertItem(this._root,e,this.cmp);this._root=o.maybeSplitRoot(this._root);return t};e.prototype.update=function(e){var t=this;(0,i.each)(e,(function(e){t.insert(e)}))};e.prototype.delete=function(e,t){var n=o.deleteItem(this._root,e,t);this._root=o.maybeExtractRoot(this._root);return n};e.prototype.remove=function(e){var t=o.removeItem(this._root,e);this._root=o.maybeExtractRoot(this._root);return t};e.prototype.clear=function(){o.clear(this._root);this._root=new o.LeafNode};return e}();(function(e){function t(t,n){var i=new e(n);i.assign(t);return i}e.from=t})(r||(r={}));var o;(function(e){var t=function(){function e(){this.items=[];this.sizes=[];this.children=[]}Object.defineProperty(e.prototype,"type",{get:function(){return 0},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"width",{get:function(){return this.children.length},enumerable:true,configurable:true});return e}();e.BranchNode=t;var n=function(){function e(){this.next=null;this.prev=null;this.items=[]}Object.defineProperty(e.prototype,"type",{get:function(){return 1},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"size",{get:function(){return this.items.length},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"width",{get:function(){return this.items.length},enumerable:true,configurable:true});return e}();e.LeafNode=n;function r(e){while(e.type===0){e=e.children[0]}return e}e.firstLeaf=r;function o(e){while(e.type===0){e=e.children[e.children.length-1]}return e}e.lastLeaf=o;function a(e){var t=r(e);return new E(t,0,-1)}e.iterItems=a;function s(e){var t=o(e);return new w(t,t.size-1,-1)}e.retroItems=s;function u(e,t,n){if(t===undefined){t=0}else if(t<0){t=Math.max(0,t+e.size)}else{t=Math.min(t,e.size)}if(n===undefined){n=e.size}else if(n<0){n=Math.max(0,n+e.size)}else{n=Math.min(n,e.size)}var r=Math.max(0,n-t);if(r===0){return(0,i.empty)()}while(e.type===0){var o=C(e.sizes,t);if(o>0)t-=e.sizes[o-1];e=e.children[o]}return new E(e,t,r)}e.sliceItems=u;function l(e,t,n){if(t===undefined){t=e.size-1}else if(t<0){t=Math.max(-1,t+e.size)}else{t=Math.min(t,e.size-1)}if(n===undefined){n=-1}else if(n<0){n=Math.max(-1,n+e.size)}else{n=Math.min(n,e.size-1)}var r=Math.max(0,t-n);if(r===0){return(0,i.empty)()}while(e.type===0){var o=C(e.sizes,t);if(o>0)t-=e.sizes[o-1];e=e.children[o]}return new w(e,t,r)}e.retroSliceItems=l;function c(e,t){if(t<0){t+=e.size}if(t<0||t>=e.size){return undefined}while(e.type===0){var n=C(e.sizes,t);if(n>0)t-=e.sizes[n-1];e=e.children[n]}return e.items[t]}e.itemAt=c;function h(e,t,n){while(e.type===0){var i=x(e.items,t,n);e=e.children[i]}var r=M(e.items,t,n);return r>=0}e.hasItem=h;function d(e,t,n){var i=0;while(e.type===0){var r=x(e.items,t,n);if(r>0)i+=e.sizes[r-1];e=e.children[r]}var o=M(e.items,t,n);return o>=0?i+o:-i+o}e.indexOf=d;function f(e,t,n){while(e.type===0){var i=x(e.items,t,n);e=e.children[i]}var r=M(e.items,t,n);return r>=0?e.items[r]:undefined}e.getItem=f;function p(e,t,n){if(e.type===1){var r=M(e.items,t,n);var o;if(r>=0){o=e.items[r];e.items[r]=t}else{o=undefined;i.ArrayExt.insert(e.items,-r-1,t)}return o}var a=x(e.items,t,n);var s=e.children[a];var u=s.size;var l=p(s,t,n);var c=s.size;e.items[a]=s.items[0];if(u===c){return l}if(s.width>b){var h=D(s);i.ArrayExt.insert(e.children,a+1,h);i.ArrayExt.insert(e.items,a+1,h.items[0])}S(e,a);return l}e.insertItem=p;function m(e,t,n){if(e.type===1){var r=M(e.items,t,n);if(r<0){return undefined}return i.ArrayExt.removeAt(e.items,r)}var o=x(e.items,t,n);var a=e.children[o];var s=a.size;var u=m(a,t,n);var l=a.size;if(s===l){return u}e.items[o]=a.items[0];if(a.width<A){o=B(e,o)}S(e,o);return u}e.deleteItem=m;function v(e,t){if(t<0){t+=e.size}if(t<0||t>=e.size){return undefined}if(e.type===1){return i.ArrayExt.removeAt(e.items,t)}var n=C(e.sizes,t);if(n>0)t-=e.sizes[n];var r=e.children[n];var o=v(r,t);e.items[n]=r.items[0];if(r.width<A){n=B(e,n)}S(e,n);return o}e.removeItem=v;function g(e){if(e.type===0){(0,i.each)(e.children,g);e.children.length=0;e.sizes.length=0;e.items.length=0}else{e.items.length=0;e.next=null;e.prev=null}}e.clear=g;function _(e){if(e.width<=b){return e}var n=new t;var i=D(e);n.sizes[0]=e.size;n.sizes[1]=e.size+i.size;n.children[0]=e;n.children[1]=i;n.items[0]=e.items[0];n.items[1]=i.items[0];return n}e.maybeSplitRoot=_;function y(e){if(e.type===1){return e}if(e.children.length>1){return e}var t=e.children.pop();g(e);return t}e.maybeExtractRoot=y;var b=32;var A=b>>1;var E=function(){function e(e,t,n){this._node=e;this._index=t;this._count=n}e.prototype.iter=function(){return this};e.prototype.clone=function(){return new e(this._node,this._index,this._count)};e.prototype.next=function(){if(this._node===null||this._count===0){return undefined}if(this._index>=this._node.size){this._node=this._node.next;this._index=0;return this.next()}if(this._count>0){this._count--}return this._node.items[this._index++]};return e}();var w=function(){function e(e,t,n){this._node=e;this._index=t;this._count=n}e.prototype.iter=function(){return this};e.prototype.clone=function(){return new e(this._node,this._index,this._count)};e.prototype.next=function(){if(this._node===null||this._count===0){return undefined}if(this._index>=this._node.size){this._index=this._node.size-1}if(this._index<0){this._node=this._node.prev;this._index=this._node?this._node.size-1:-1;return this.next()}if(this._count>0){this._count--}return this._node.items[this._index--]};return e}();function C(e,t){var n=e.length;for(var i=0;i<n;++i){if(e[i]>t){return i}}return n-1}function x(e,t,n){var i=e.length;for(var r=1;r<i;++r){if(n(e[r],t)>0){return r-1}}return i-1}function M(e,t,n){var i=e.length;for(var r=0;r<i;++r){var o=n(e[r],t);if(o===0){return r}if(o>0){return-r-1}}return-i-1}function S(e,t){var n=e.sizes,i=e.children;var r=t>0?n[t-1]:0;for(var o=i.length;t<o;++t){r=n[t]=r+i[t].size}n.length=i.length}function D(e){if(e.type===1){var i=new n;var r=e.items;var o=i.items;for(var a=A,s=r.length;a<s;++a){o.push(r[a])}r.length=A;if(e.next)e.next.prev=i;i.next=e.next;i.prev=e;e.next=i;return i}var u=new t;var l=e.children;var c=u.children;for(var a=A,s=l.length;a<s;++a){c.push(l[a])}l.length=A;var h=e.items;var d=u.items;for(var a=A,s=h.length;a<s;++a){d.push(h[a])}h.length=A;S(e,A);S(u,0);return u}function B(e,t){var n,r,o,a,s,u;var l=e.children[t];var c=t===0?e.children[t+1]:e.children[t-1];var h=t===0;var d=l.type===1;var f=c.width>A;if(d&&f&&h){var p=l;var m=c;p.items.push(m.items.shift());e.items[t+1]=m.items[0];return t}if(d&&f&&!h){var p=l;var m=c;p.items.unshift(m.items.pop());e.items[t]=p.items[0];return t-1}if(d&&!f&&h){var p=l;var m=c;(n=m.items).unshift.apply(n,p.items);i.ArrayExt.removeAt(e.children,t);i.ArrayExt.removeAt(e.items,t+1);if(p.prev)p.prev.next=m;m.prev=p.prev;g(p);return t}if(d&&!f&&!h){var p=l;var m=c;(r=m.items).push.apply(r,p.items);i.ArrayExt.removeAt(e.children,t);i.ArrayExt.removeAt(e.items,t);if(p.next)p.next.prev=m;m.next=p.next;g(p);return t-1}if(!d&&f&&h){var p=l;var m=c;p.children.push(m.children.shift());p.items.push(m.items.shift());e.items[t+1]=m.items[0];S(p,p.width-1);S(m,0);return t}if(!d&&f&&!h){var p=l;var m=c;p.children.unshift(m.children.pop());p.items.unshift(m.items.pop());e.items[t]=p.items[0];S(p,0);S(m,m.width-1);return t-1}if(!d&&!f&&h){var p=l;var m=c;(o=m.children).unshift.apply(o,p.children);(a=m.items).unshift.apply(a,p.items);i.ArrayExt.removeAt(e.children,t);i.ArrayExt.removeAt(e.items,t+1);S(m,0);p.children.length=0;g(p);return t}if(!d&&!f&&!h){var p=l;var m=c;(s=m.children).push.apply(s,p.children);(u=m.items).push.apply(u,p.items);i.ArrayExt.removeAt(e.children,t);i.ArrayExt.removeAt(e.items,t);S(m,0);p.children.length=0;g(p);return t-1}throw"unreachable"}})(o||(o={}));var a=function(){function e(){this._first=null;this._last=null;this._size=0}Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._size===0},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"first",{get:function(){return this._first?this._first.value:undefined},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"last",{get:function(){return this._last?this._last.value:undefined},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"firstNode",{get:function(){return this._first},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"lastNode",{get:function(){return this._last},enumerable:true,configurable:true});e.prototype.iter=function(){return new e.ForwardValueIterator(this._first)};e.prototype.retro=function(){return new e.RetroValueIterator(this._last)};e.prototype.nodes=function(){return new e.ForwardNodeIterator(this._first)};e.prototype.retroNodes=function(){return new e.RetroNodeIterator(this._last)};e.prototype.assign=function(e){var t=this;this.clear();(0,i.each)(e,(function(e){t.addLast(e)}))};e.prototype.push=function(e){this.addLast(e)};e.prototype.pop=function(){return this.removeLast()};e.prototype.shift=function(e){this.addFirst(e)};e.prototype.unshift=function(){return this.removeFirst()};e.prototype.addFirst=function(e){var t=new s.LinkedListNode(this,e);if(!this._first){this._first=t;this._last=t}else{t.next=this._first;this._first.prev=t;this._first=t}this._size++;return t};e.prototype.addLast=function(e){var t=new s.LinkedListNode(this,e);if(!this._last){this._first=t;this._last=t}else{t.prev=this._last;this._last.next=t;this._last=t}this._size++;return t};e.prototype.insertBefore=function(e,t){if(!t||t===this._first){return this.addFirst(e)}if(!(t instanceof s.LinkedListNode)||t.list!==this){throw new Error("Reference node is not owned by the list.")}var n=new s.LinkedListNode(this,e);var i=t;var r=i.prev;n.next=i;n.prev=r;i.prev=n;r.next=n;this._size++;return n};e.prototype.insertAfter=function(e,t){if(!t||t===this._last){return this.addLast(e)}if(!(t instanceof s.LinkedListNode)||t.list!==this){throw new Error("Reference node is not owned by the list.")}var n=new s.LinkedListNode(this,e);var i=t;var r=i.next;n.next=r;n.prev=i;i.next=n;r.prev=n;this._size++;return n};e.prototype.removeFirst=function(){var e=this._first;if(!e){return undefined}if(e===this._last){this._first=null;this._last=null}else{this._first=e.next;this._first.prev=null}e.list=null;e.next=null;e.prev=null;this._size--;return e.value};e.prototype.removeLast=function(){var e=this._last;if(!e){return undefined}if(e===this._first){this._first=null;this._last=null}else{this._last=e.prev;this._last.next=null}e.list=null;e.next=null;e.prev=null;this._size--;return e.value};e.prototype.removeNode=function(e){if(!(e instanceof s.LinkedListNode)||e.list!==this){throw new Error("Node is not owned by the list.")}var t=e;if(t===this._first&&t===this._last){this._first=null;this._last=null}else if(t===this._first){this._first=t.next;this._first.prev=null}else if(t===this._last){this._last=t.prev;this._last.next=null}else{t.next.prev=t.prev;t.prev.next=t.next}t.list=null;t.next=null;t.prev=null;this._size--};e.prototype.clear=function(){var e=this._first;while(e){var t=e.next;e.list=null;e.prev=null;e.next=null;e=t}this._first=null;this._last=null;this._size=0};return e}();(function(e){function t(t){var n=new e;n.assign(t);return n}e.from=t;var n=function(){function e(e){this._node=e}e.prototype.iter=function(){return this};e.prototype.clone=function(){return new e(this._node)};e.prototype.next=function(){if(!this._node){return undefined}var e=this._node;this._node=e.next;return e.value};return e}();e.ForwardValueIterator=n;var i=function(){function e(e){this._node=e}e.prototype.iter=function(){return this};e.prototype.clone=function(){return new e(this._node)};e.prototype.next=function(){if(!this._node){return undefined}var e=this._node;this._node=e.prev;return e.value};return e}();e.RetroValueIterator=i;var r=function(){function e(e){this._node=e}e.prototype.iter=function(){return this};e.prototype.clone=function(){return new e(this._node)};e.prototype.next=function(){if(!this._node){return undefined}var e=this._node;this._node=e.next;return e};return e}();e.ForwardNodeIterator=r;var o=function(){function e(e){this._node=e}e.prototype.iter=function(){return this};e.prototype.clone=function(){return new e(this._node)};e.prototype.next=function(){if(!this._node){return undefined}var e=this._node;this._node=e.prev;return e};return e}();e.RetroNodeIterator=o})(a||(a={}));var s;(function(e){var t=function(){function e(e,t){this.list=null;this.next=null;this.prev=null;this.list=e;this.value=t}return e}();e.LinkedListNode=t})(s||(s={}));var u=function(e,t){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return u(e,t)};function l(e,t){u(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var c=function(){function e(e){this.type=e}Object.defineProperty(e.prototype,"isConflatable",{get:function(){return false},enumerable:true,configurable:true});e.prototype.conflate=function(e){return false};return e}();var h=function(e){l(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}Object.defineProperty(t.prototype,"isConflatable",{get:function(){return true},enumerable:true,configurable:true});t.prototype.conflate=function(e){return true};return t}(c);var d;(function(e){function t(e,t){var n=d.get(e);if(!n||n.length===0){b(e,t);return}var r=(0,i.every)((0,i.retro)(n),(function(n){return n?y(n,e,t):true}));if(r){b(e,t)}}e.sendMessage=t;function n(e,t){if(!t.isConflatable){A(e,t);return}var n=(0,i.some)(h,(function(n){if(n.handler!==e){return false}if(!n.msg){return false}if(n.msg.type!==t.type){return false}if(!n.msg.isConflatable){return false}return n.msg.conflate(t)}));if(!n){A(e,t)}}e.postMessage=n;function r(e,t){var n=d.get(e);if(n&&n.indexOf(t)!==-1){return}if(!n){d.set(e,[t])}else{n.push(t)}}e.installMessageHook=r;function o(e,t){var n=d.get(e);if(!n){return}var i=n.indexOf(t);if(i===-1){return}n[i]=null;w(n)}e.removeMessageHook=o;function s(e){var t=d.get(e);if(t&&t.length>0){i.ArrayExt.fill(t,null);w(t)}(0,i.each)(h,(function(t){if(t.handler===e){t.handler=null;t.msg=null}}))}e.clearData=s;function u(){if(v||m===0){return}_(m);v=true;E();v=false}e.flush=u;function l(){return p}e.getExceptionHandler=l;function c(e){var t=p;p=e;return t}e.setExceptionHandler=c;var h=new a;var d=new WeakMap;var f=new Set;var p=function(e){console.error(e)};var m=0;var v=false;var g=function(){var e=typeof requestAnimationFrame==="function";return e?requestAnimationFrame:setImmediate}();var _=function(){var e=typeof cancelAnimationFrame==="function";return e?cancelAnimationFrame:clearImmediate}();function y(e,t,n){var i=true;try{if(typeof e==="function"){i=e(t,n)}else{i=e.messageHook(t,n)}}catch(r){p(r)}return i}function b(e,t){try{e.processMessage(t)}catch(n){p(n)}}function A(e,t){h.addLast({handler:e,msg:t});if(m!==0){return}m=g(E)}function E(){m=0;if(h.isEmpty){return}var e={handler:null,msg:null};h.addLast(e);while(true){var n=h.removeFirst();if(n===e){return}if(n.handler&&n.msg){t(n.handler,n.msg)}}}function w(e){if(f.size===0){g(C)}f.add(e)}function C(){f.forEach(x);f.clear()}function x(e){i.ArrayExt.removeAllWhere(e,M)}function M(e){return e===null}})(d||(d={}))},82361:(e,t,n)=>{"use strict";n.r(t);n.d(t,{Debouncer:()=>g,Poll:()=>p,RateLimiter:()=>v,Throttler:()=>_});var i=n(9727);var r=n.n(i);var o=n(75138);var a=n.n(o);var s=function(e,t){s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return s(e,t)};function u(e,t){s(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){l=Object.assign||function e(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o))t[o]=n[o]}return t};return l.apply(this,arguments)};function c(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(t){o(t)}}function s(e){try{u(i["throw"](e))}catch(t){o(t)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((i=i.apply(e,t||[])).next())}))}function h(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,r&&(o=a[0]&2?r["return"]:a[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;if(r=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;r=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(s){a=[6,s];r=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}}var d=typeof requestAnimationFrame==="function"?requestAnimationFrame:setImmediate;var f=typeof cancelAnimationFrame==="function"?cancelAnimationFrame:clearImmediate;var p=function(){function e(e){var t=this;this._disposed=new o.Signal(this);this._tick=new i.PromiseDelegate;this._ticked=new o.Signal(this);this._timeout=-1;this._factory=e.factory;this._standby=e.standby||m.DEFAULT_STANDBY;this._state=l(l({},m.DEFAULT_STATE),{timestamp:(new Date).getTime()});var n=e.frequency||{};var r=Math.max(n.interval||0,n.max||0,m.DEFAULT_FREQUENCY.max);this.frequency=l(l(l({},m.DEFAULT_FREQUENCY),n),{max:r});this.name=e.name||m.DEFAULT_NAME;if("auto"in e?e.auto:true){d((function(){return void t.start()}))}}Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"frequency",{get:function(){return this._frequency},set:function(t){if(this.isDisposed||i.JSONExt.deepEqual(t,this.frequency||{})){return}var n=t.backoff,r=t.interval,o=t.max;r=Math.round(r);o=Math.round(o);if(typeof n==="number"&&n<1){throw new Error("Poll backoff growth factor must be at least 1")}if((r<0||r>o)&&r!==e.NEVER){throw new Error("Poll interval must be between 0 and max")}if(o>e.MAX_INTERVAL&&o!==e.NEVER){throw new Error("Max interval must be less than "+e.MAX_INTERVAL)}this._frequency={backoff:n,interval:r,max:o}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.state.phase==="disposed"},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"standby",{get:function(){return this._standby},set:function(e){if(this.isDisposed||this.standby===e){return}this._standby=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"tick",{get:function(){return this._tick.promise},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ticked",{get:function(){return this._ticked},enumerable:true,configurable:true});e.prototype.dispose=function(){if(this.isDisposed){return}this._state=l(l({},m.DISPOSED_STATE),{timestamp:(new Date).getTime()});this._tick.promise.catch((function(e){return undefined}));this._tick.reject(new Error("Poll ("+this.name+") is disposed."));this._disposed.emit(undefined);o.Signal.clearData(this)};e.prototype.refresh=function(){return this.schedule({cancel:function(e){var t=e.phase;return t==="refreshed"},interval:e.IMMEDIATE,phase:"refreshed"})};e.prototype.schedule=function(t){if(t===void 0){t={}}return c(this,void 0,void 0,(function(){var n,r,o,a,s;var u=this;return h(this,(function(c){switch(c.label){case 0:if(this.isDisposed){return[2]}if(t.cancel&&t.cancel(this.state)){return[2]}n=this.state;r=this._tick;o=new i.PromiseDelegate;a=l({interval:this.frequency.interval,payload:null,phase:"standby",timestamp:(new Date).getTime()},t);this._state=a;this._tick=o;if(n.interval===e.IMMEDIATE){f(this._timeout)}else{clearTimeout(this._timeout)}this._ticked.emit(this.state);r.resolve(this);return[4,r.promise];case 1:c.sent();s=function(){if(u.isDisposed||u.tick!==o.promise){return}u._execute()};this._timeout=a.interval===e.IMMEDIATE?d(s):a.interval===e.NEVER?-1:setTimeout(s,a.interval);return[2]}}))}))};e.prototype.start=function(){return this.schedule({cancel:function(e){var t=e.phase;return t!=="constructed"&&t!=="standby"&&t!=="stopped"},interval:e.IMMEDIATE,phase:"started"})};e.prototype.stop=function(){return this.schedule({cancel:function(e){var t=e.phase;return t==="stopped"},interval:e.NEVER,phase:"stopped"})};e.prototype._execute=function(){var e=this;var t=typeof this.standby==="function"?this.standby():this.standby;t=t==="never"?false:t==="when-hidden"?!!(typeof document!=="undefined"&&document&&document.hidden):t;if(t){void this.schedule();return}var n=this.tick;this._factory(this.state).then((function(t){if(e.isDisposed||e.tick!==n){return}void e.schedule({payload:t,phase:e.state.phase==="rejected"?"reconnected":"resolved"})})).catch((function(t){if(e.isDisposed||e.tick!==n){return}void e.schedule({interval:m.sleep(e.frequency,e.state),payload:t,phase:"rejected"})}))};return e}();(function(e){e.IMMEDIATE=0;e.MAX_INTERVAL=2147483647;e.NEVER=Infinity})(p||(p={}));var m;(function(e){e.DEFAULT_BACKOFF=3;e.DEFAULT_FREQUENCY={backoff:true,interval:1e3,max:30*1e3};e.DEFAULT_NAME="unknown";e.DEFAULT_STANDBY="when-hidden";e.DEFAULT_STATE={interval:p.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()};e.DISPOSED_STATE={interval:p.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()};function t(e,t){e=Math.ceil(e);t=Math.floor(t);return Math.floor(Math.random()*(t-e+1))+e}function n(n,i){var r=n.backoff,o=n.interval,a=n.max;if(o===p.NEVER){return o}var s=r===true?e.DEFAULT_BACKOFF:r===false?1:r;var u=t(o,i.interval*s);return Math.min(a,u)}e.sleep=n})(m||(m={}));var v=function(){function e(e,t){var n=this;if(t===void 0){t=500}this.payload=null;this.limit=t;this.poll=new p({auto:false,factory:function(){return c(n,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return[2,t.sent()]}}))}))},frequency:{backoff:false,interval:p.NEVER,max:p.NEVER},standby:"never"});this.payload=new i.PromiseDelegate;this.poll.ticked.connect((function(e,t){var r=n.payload;if(t.phase==="resolved"){n.payload=new i.PromiseDelegate;r.resolve(t.payload);return}if(t.phase==="rejected"||t.phase==="stopped"){n.payload=new i.PromiseDelegate;r.promise.catch((function(e){return undefined}));r.reject(t.payload);return}}),this)}Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.payload===null},enumerable:true,configurable:true});e.prototype.dispose=function(){if(this.isDisposed){return}this.payload=null;this.poll.dispose()};e.prototype.stop=function(){return c(this,void 0,void 0,(function(){return h(this,(function(e){return[2,this.poll.stop()]}))}))};return e}();var g=function(e){u(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.invoke=function(){void this.poll.schedule({interval:this.limit,phase:"invoked"});return this.payload.promise};return t}(v);var _=function(e){u(t,e);function t(t,n){var i=e.call(this,t,typeof n==="number"?n:n&&n.limit)||this;var r="leading";if(typeof n!=="number"){n=n||{};r="edge"in n?n.edge:r}i._interval=r==="trailing"?i.limit:p.IMMEDIATE;return i}t.prototype.invoke=function(){if(this.poll.state.phase!=="invoked"){void this.poll.schedule({interval:this._interval,phase:"invoked"})}return this.payload.promise};return t}(v);(function(e){})(_||(_={}))},73312:(e,t,n)=>{"use strict";n.r(t);n.d(t,{AttachedProperty:()=>i});var i=function(){function e(e){this._pid=r.nextPID();this.name=e.name;this._create=e.create;this._coerce=e.coerce||null;this._compare=e.compare||null;this._changed=e.changed||null}e.prototype.get=function(e){var t;var n=r.ensureMap(e);if(this._pid in n){t=n[this._pid]}else{t=n[this._pid]=this._createValue(e)}return t};e.prototype.set=function(e,t){var n;var i=r.ensureMap(e);if(this._pid in i){n=i[this._pid]}else{n=i[this._pid]=this._createValue(e)}var o=this._coerceValue(e,t);this._maybeNotify(e,n,i[this._pid]=o)};e.prototype.coerce=function(e){var t;var n=r.ensureMap(e);if(this._pid in n){t=n[this._pid]}else{t=n[this._pid]=this._createValue(e)}var i=this._coerceValue(e,t);this._maybeNotify(e,t,n[this._pid]=i)};e.prototype._createValue=function(e){var t=this._create;return t(e)};e.prototype._coerceValue=function(e,t){var n=this._coerce;return n?n(e,t):t};e.prototype._compareValue=function(e,t){var n=this._compare;return n?n(e,t):e===t};e.prototype._maybeNotify=function(e,t,n){var i=this._changed;if(i&&!this._compareValue(t,n)){i(e,t,n)}};return e}();(function(e){function t(e){r.ownerData.delete(e)}e.clearData=t})(i||(i={}));var r;(function(e){e.ownerData=new WeakMap;e.nextPID=function(){var e=0;return function(){var t=Math.random();var n=(""+t).slice(2);return"pid-"+n+"-"+e++}}();function t(t){var n=e.ownerData.get(t);if(n){return n}n=Object.create(null);e.ownerData.set(t,n);return n}e.ensureMap=t})(r||(r={}))},75445:(e,t,n)=>{"use strict";n.r(t);n.d(t,{Signal:()=>o});var i=n(62867);var r=n.n(i);var o=function(){function e(e){this.sender=e}e.prototype.connect=function(e,t){return a.connect(this,e,t)};e.prototype.disconnect=function(e,t){return a.disconnect(this,e,t)};e.prototype.emit=function(e){a.emit(this,e)};return e}();(function(e){function t(e,t){a.disconnectBetween(e,t)}e.disconnectBetween=t;function n(e){a.disconnectSender(e)}e.disconnectSender=n;function i(e){a.disconnectReceiver(e)}e.disconnectReceiver=i;function r(e){a.disconnectAll(e)}e.disconnectAll=r;function o(e){a.disconnectAll(e)}e.clearData=o;function s(){return a.exceptionHandler}e.getExceptionHandler=s;function u(e){var t=a.exceptionHandler;a.exceptionHandler=e;return t}e.setExceptionHandler=u})(o||(o={}));var a;(function(e){e.exceptionHandler=function(e){console.error(e)};function t(e,t,n){n=n||undefined;var i=l.get(e.sender);if(!i){i=[];l.set(e.sender,i)}if(f(i,e,t,n)){return false}var r=n||t;var o=c.get(r);if(!o){o=[];c.set(r,o)}var a={signal:e,slot:t,thisArg:n};i.push(a);o.push(a);return true}e.connect=t;function n(e,t,n){n=n||undefined;var i=l.get(e.sender);if(!i||i.length===0){return false}var r=f(i,e,t,n);if(!r){return false}var o=n||t;var a=c.get(o);r.signal=null;m(i);m(a);return true}e.disconnect=n;function r(e,t){var n=l.get(e);if(!n||n.length===0){return}var r=c.get(t);if(!r||r.length===0){return}(0,i.each)(r,(function(t){if(!t.signal){return}if(t.signal.sender===e){t.signal=null}}));m(n);m(r)}e.disconnectBetween=r;function o(e){var t=l.get(e);if(!t||t.length===0){return}(0,i.each)(t,(function(e){if(!e.signal){return}var t=e.thisArg||e.slot;e.signal=null;m(c.get(t))}));m(t)}e.disconnectSender=o;function a(e){var t=c.get(e);if(!t||t.length===0){return}(0,i.each)(t,(function(e){if(!e.signal){return}var t=e.signal.sender;e.signal=null;m(l.get(t))}));m(t)}e.disconnectReceiver=a;function s(e){o(e);a(e)}e.disconnectAll=s;function u(e,t){var n=l.get(e.sender);if(!n||n.length===0){return}for(var i=0,r=n.length;i<r;++i){var o=n[i];if(o.signal===e){p(o,t)}}}e.emit=u;var l=new WeakMap;var c=new WeakMap;var h=new Set;var d=function(){var e=typeof requestAnimationFrame==="function";return e?requestAnimationFrame:setImmediate}();function f(e,t,n,r){return(0,i.find)(e,(function(e){return e.signal===t&&e.slot===n&&e.thisArg===r}))}function p(t,n){var i=t.signal,r=t.slot,o=t.thisArg;try{r.call(o,i.sender,n)}catch(a){e.exceptionHandler(a)}}function m(e){if(h.size===0){d(v)}h.add(e)}function v(){h.forEach(g);h.clear()}function g(e){i.ArrayExt.removeAllWhere(e,_)}function _(e){return e.signal===null}})(a||(a={}))},1053:(e,t,n)=>{"use strict";n.r(t);n.d(t,{VirtualDOM:()=>d,VirtualElement:()=>u,VirtualElementPass:()=>l,VirtualText:()=>s,h:()=>c,hpass:()=>h});var i=n(62867);var r=n.n(i);var o=function(e,t){o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return o(e,t)};function a(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){function e(e){this.type="text";this.content=e}return e}();var u=function(){function e(e,t,n,i){this.type="element";this.tag=e;this.attrs=t;this.children=n;this.renderer=i}return e}();var l=function(e){a(t,e);function t(t,n,i){return e.call(this,t,n,[],i||undefined)||this}return t}(u);function c(e){var t={};var n;var i=[];for(var r=1,o=arguments.length;r<o;++r){var a=arguments[r];if(typeof a==="string"){i.push(new s(a))}else if(a instanceof s){i.push(a)}else if(a instanceof u){i.push(a)}else if(a instanceof Array){l(i,a)}else if((r===1||r===2)&&a&&typeof a==="object"){if("render"in a){n=a}else{t=a}}}return new u(e,t,i,n);function l(e,t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(typeof r==="string"){e.push(new s(r))}else if(r instanceof s){e.push(r)}else if(r instanceof u){e.push(r)}}}}(function(e){e.a=e.bind(undefined,"a");e.abbr=e.bind(undefined,"abbr");e.address=e.bind(undefined,"address");e.area=e.bind(undefined,"area");e.article=e.bind(undefined,"article");e.aside=e.bind(undefined,"aside");e.audio=e.bind(undefined,"audio");e.b=e.bind(undefined,"b");e.bdi=e.bind(undefined,"bdi");e.bdo=e.bind(undefined,"bdo");e.blockquote=e.bind(undefined,"blockquote");e.br=e.bind(undefined,"br");e.button=e.bind(undefined,"button");e.canvas=e.bind(undefined,"canvas");e.caption=e.bind(undefined,"caption");e.cite=e.bind(undefined,"cite");e.code=e.bind(undefined,"code");e.col=e.bind(undefined,"col");e.colgroup=e.bind(undefined,"colgroup");e.data=e.bind(undefined,"data");e.datalist=e.bind(undefined,"datalist");e.dd=e.bind(undefined,"dd");e.del=e.bind(undefined,"del");e.dfn=e.bind(undefined,"dfn");e.div=e.bind(undefined,"div");e.dl=e.bind(undefined,"dl");e.dt=e.bind(undefined,"dt");e.em=e.bind(undefined,"em");e.embed=e.bind(undefined,"embed");e.fieldset=e.bind(undefined,"fieldset");e.figcaption=e.bind(undefined,"figcaption");e.figure=e.bind(undefined,"figure");e.footer=e.bind(undefined,"footer");e.form=e.bind(undefined,"form");e.h1=e.bind(undefined,"h1");e.h2=e.bind(undefined,"h2");e.h3=e.bind(undefined,"h3");e.h4=e.bind(undefined,"h4");e.h5=e.bind(undefined,"h5");e.h6=e.bind(undefined,"h6");e.header=e.bind(undefined,"header");e.hr=e.bind(undefined,"hr");e.i=e.bind(undefined,"i");e.iframe=e.bind(undefined,"iframe");e.img=e.bind(undefined,"img");e.input=e.bind(undefined,"input");e.ins=e.bind(undefined,"ins");e.kbd=e.bind(undefined,"kbd");e.label=e.bind(undefined,"label");e.legend=e.bind(undefined,"legend");e.li=e.bind(undefined,"li");e.main=e.bind(undefined,"main");e.map=e.bind(undefined,"map");e.mark=e.bind(undefined,"mark");e.meter=e.bind(undefined,"meter");e.nav=e.bind(undefined,"nav");e.noscript=e.bind(undefined,"noscript");e.object=e.bind(undefined,"object");e.ol=e.bind(undefined,"ol");e.optgroup=e.bind(undefined,"optgroup");e.option=e.bind(undefined,"option");e.output=e.bind(undefined,"output");e.p=e.bind(undefined,"p");e.param=e.bind(undefined,"param");e.pre=e.bind(undefined,"pre");e.progress=e.bind(undefined,"progress");e.q=e.bind(undefined,"q");e.rp=e.bind(undefined,"rp");e.rt=e.bind(undefined,"rt");e.ruby=e.bind(undefined,"ruby");e.s=e.bind(undefined,"s");e.samp=e.bind(undefined,"samp");e.section=e.bind(undefined,"section");e.select=e.bind(undefined,"select");e.small=e.bind(undefined,"small");e.source=e.bind(undefined,"source");e.span=e.bind(undefined,"span");e.strong=e.bind(undefined,"strong");e.sub=e.bind(undefined,"sub");e.summary=e.bind(undefined,"summary");e.sup=e.bind(undefined,"sup");e.table=e.bind(undefined,"table");e.tbody=e.bind(undefined,"tbody");e.td=e.bind(undefined,"td");e.textarea=e.bind(undefined,"textarea");e.tfoot=e.bind(undefined,"tfoot");e.th=e.bind(undefined,"th");e.thead=e.bind(undefined,"thead");e.time=e.bind(undefined,"time");e.title=e.bind(undefined,"title");e.tr=e.bind(undefined,"tr");e.track=e.bind(undefined,"track");e.u=e.bind(undefined,"u");e.ul=e.bind(undefined,"ul");e.var_=e.bind(undefined,"var");e.video=e.bind(undefined,"video");e.wbr=e.bind(undefined,"wbr")})(c||(c={}));function h(e){var t={};var n=null;if(arguments.length===2){var i=arguments[1];if("render"in i){n=i}else{t=i}}else if(arguments.length===3){t=arguments[1];n=arguments[2]}else if(arguments.length>3){throw new Error("hpass() should be called with 1, 2, or 3 arguments")}return new l(e,t,n)}var d;(function(e){function t(e){return f.createDOMNode(e)}e.realize=t;function n(e,t){var n=f.hostMap.get(t)||[];var i=f.asContentArray(e);f.hostMap.set(t,i);f.updateContent(t,n,i)}e.render=n})(d||(d={}));var f;(function(e){e.hostMap=new WeakMap;function t(e){if(!e){return[]}if(e instanceof Array){return e}return[e]}e.asContentArray=t;function n(e){var t=arguments[1]||null;var i=arguments[2]||null;if(t){t.insertBefore(n(e),i)}else{if(e.type==="text"){return document.createTextNode(e.content)}t=document.createElement(e.tag);s(t,e.attrs);if(e.renderer){e.renderer.render(t,{attrs:e.attrs,children:e.children});return t}for(var r=0,o=e.children.length;r<o;++r){n(e.children[r],t)}}return t}e.createDOMNode=n;function r(e,t,a){if(t===a){return}var s=f(e,t);var l=t.slice();var c=e.firstChild;var h=a.length;for(var d=0;d<h;++d){if(d>=l.length){n(a[d],e);continue}var p=l[d];var m=a[d];if(p===m){c=c.nextSibling;continue}if(p.type==="text"&&m.type==="text"){c.textContent=m.content;c=c.nextSibling;continue}if(p.type==="text"||m.type==="text"){i.ArrayExt.insert(l,d,m);n(m,e,c);continue}if(!p.renderer!=!m.renderer){i.ArrayExt.insert(l,d,m);n(m,e,c);continue}var v=m.attrs.key;if(v&&v in s){var g=s[v];if(g.vNode!==p){i.ArrayExt.move(l,l.indexOf(g.vNode,d+1),d);e.insertBefore(g.element,c);p=g.vNode;c=g.element}}if(p===m){c=c.nextSibling;continue}var _=p.attrs.key;if(_&&_!==v){i.ArrayExt.insert(l,d,m);n(m,e,c);continue}if(p.tag!==m.tag){i.ArrayExt.insert(l,d,m);n(m,e,c);continue}u(c,p.attrs,m.attrs);if(m.renderer){m.renderer.render(c,{attrs:m.attrs,children:m.children})}else{r(c,p.children,m.children)}c=c.nextSibling}o(e,l,h,true)}e.updateContent=r;function o(e,t,n,i){for(var r=t.length-1;r>=n;--r){var a=t[r];var s=i?e.lastChild:e.childNodes[r];if(a.type==="text");else if(a.renderer&&a.renderer.unrender){a.renderer.unrender(s,{attrs:a.attrs,children:a.children})}else{o(s,a.children,0,false)}if(i){e.removeChild(s)}}}var a={key:true,className:true,htmlFor:true,dataset:true,style:true};function s(e,t){for(var n in t){if(n in a){continue}if(n.substr(0,2)==="on"){e[n]=t[n]}else{e.setAttribute(n,t[n])}}if(t.className!==undefined){e.setAttribute("class",t.className)}if(t.htmlFor!==undefined){e.setAttribute("for",t.htmlFor)}if(t.dataset){l(e,t.dataset)}if(t.style){h(e,t.style)}}function u(e,t,n){if(t===n){return}var i;for(i in t){if(i in a||i in n){continue}if(i.substr(0,2)==="on"){e[i]=null}else{e.removeAttribute(i)}}for(i in n){if(i in a||t[i]===n[i]){continue}if(i.substr(0,2)==="on"){e[i]=n[i]}else{e.setAttribute(i,n[i])}}if(t.className!==n.className){if(n.className!==undefined){e.setAttribute("class",n.className)}else{e.removeAttribute("class")}}if(t.htmlFor!==n.htmlFor){if(n.htmlFor!==undefined){e.setAttribute("for",n.htmlFor)}else{e.removeAttribute("for")}}if(t.dataset!==n.dataset){c(e,t.dataset||{},n.dataset||{})}if(t.style!==n.style){d(e,t.style||{},n.style||{})}}function l(e,t){for(var n in t){e.setAttribute("data-"+n,t[n])}}function c(e,t,n){for(var i in t){if(!(i in n)){e.removeAttribute("data-"+i)}}for(var r in n){if(t[r]!==n[r]){e.setAttribute("data-"+r,n[r])}}}function h(e,t){var n=e.style;var i;for(i in t){n[i]=t[i]}}function d(e,t,n){var i=e.style;var r;for(r in t){if(!(r in n)){i[r]=""}}for(r in n){if(t[r]!==n[r]){i[r]=n[r]}}}function f(e,t){var n=e.firstChild;var i=Object.create(null);for(var r=0,o=t;r<o.length;r++){var a=o[r];if(a.type==="element"&&a.attrs.key){i[a.attrs.key]={vNode:a,element:n}}n=n.nextSibling}return i}})(f||(f={}))},90450:(e,t,n)=>{"use strict";n.r(t);n.d(t,{BoxEngine:()=>x,BoxLayout:()=>O,BoxPanel:()=>N,BoxSizer:()=>C,CommandPalette:()=>F,ContextMenu:()=>K,DockLayout:()=>J,DockPanel:()=>Q,FocusTracker:()=>ee,GridLayout:()=>te,Layout:()=>z,LayoutItem:()=>R,Menu:()=>G,MenuBar:()=>ie,Panel:()=>H,PanelLayout:()=>k,ScrollBar:()=>oe,SingletonLayout:()=>se,SplitLayout:()=>ue,SplitPanel:()=>ce,StackedLayout:()=>de,StackedPanel:()=>fe,TabBar:()=>X,TabPanel:()=>me,Title:()=>B,Widget:()=>P});var i=n(62867);var r=n.n(i);var o=n(33513);var a=n.n(o);var s=n(32151);var u=n.n(s);var l=n(72189);var c=n.n(l);var h=n(75138);var d=n.n(h);var f=n(9727);var p=n.n(f);var m=n(97745);var v=n.n(m);var g=n(98723);var _=n.n(g);var y=n(76487);var b=n.n(y);var A=n(38102);var E=n(43800);var w=n.n(E);var C=function(){function e(){this.sizeHint=0;this.minSize=0;this.maxSize=Infinity;this.stretch=1;this.size=0;this.done=false}return e}();var x;(function(e){function t(e,t){var n=e.length;if(n===0){return t}var i=0;var r=0;var o=0;var a=0;var s=0;for(var u=0;u<n;++u){var l=e[u];var c=l.minSize;var h=l.maxSize;var d=l.sizeHint;l.done=false;l.size=Math.max(c,Math.min(d,h));o+=l.size;i+=c;r+=h;if(l.stretch>0){a+=l.stretch;s++}}if(t===o){return 0}if(t<=i){for(var u=0;u<n;++u){var l=e[u];l.size=l.minSize}return t-i}if(t>=r){for(var u=0;u<n;++u){var l=e[u];l.size=l.maxSize}return t-r}var f=.01;var p=n;if(t<o){var m=o-t;while(s>0&&m>f){var v=m;var g=a;for(var u=0;u<n;++u){var l=e[u];if(l.done||l.stretch===0){continue}var _=l.stretch*v/g;if(l.size-_<=l.minSize){m-=l.size-l.minSize;a-=l.stretch;l.size=l.minSize;l.done=true;p--;s--}else{m-=_;l.size-=_}}}while(p>0&&m>f){var _=m/p;for(var u=0;u<n;++u){var l=e[u];if(l.done){continue}if(l.size-_<=l.minSize){m-=l.size-l.minSize;l.size=l.minSize;l.done=true;p--}else{m-=_;l.size-=_}}}}else{var m=t-o;while(s>0&&m>f){var v=m;var g=a;for(var u=0;u<n;++u){var l=e[u];if(l.done||l.stretch===0){continue}var _=l.stretch*v/g;if(l.size+_>=l.maxSize){m-=l.maxSize-l.size;a-=l.stretch;l.size=l.maxSize;l.done=true;p--;s--}else{m-=_;l.size+=_}}}while(p>0&&m>f){var _=m/p;for(var u=0;u<n;++u){var l=e[u];if(l.done){continue}if(l.size+_>=l.maxSize){m-=l.maxSize-l.size;l.size=l.maxSize;l.done=true;p--}else{m-=_;l.size+=_}}}}return 0}e.calc=t;function n(e,t,n){if(e.length===0||n===0){return}if(n>0){i(e,t,n)}else{r(e,t,-n)}}e.adjust=n;function i(e,t,n){var i=0;for(var r=0;r<=t;++r){var o=e[r];i+=o.maxSize-o.size}var a=0;for(var r=t+1,s=e.length;r<s;++r){var o=e[r];a+=o.size-o.minSize}n=Math.min(n,i,a);var u=n;for(var r=t;r>=0&&u>0;--r){var o=e[r];var l=o.maxSize-o.size;if(l>=u){o.sizeHint=o.size+u;u=0}else{o.sizeHint=o.size+l;u-=l}}var c=n;for(var r=t+1,s=e.length;r<s&&c>0;++r){var o=e[r];var l=o.size-o.minSize;if(l>=c){o.sizeHint=o.size-c;c=0}else{o.sizeHint=o.size-l;c-=l}}}function r(e,t,n){var i=0;for(var r=t+1,o=e.length;r<o;++r){var a=e[r];i+=a.maxSize-a.size}var s=0;for(var r=0;r<=t;++r){var a=e[r];s+=a.size-a.minSize}n=Math.min(n,i,s);var u=n;for(var r=t+1,o=e.length;r<o&&u>0;++r){var a=e[r];var l=a.maxSize-a.size;if(l>=u){a.sizeHint=a.size+u;u=0}else{a.sizeHint=a.size+l;u-=l}}var c=n;for(var r=t;r>=0&&c>0;--r){var a=e[r];var l=a.size-a.minSize;if(l>=c){a.sizeHint=a.size-c;c=0}else{a.sizeHint=a.size-l;c-=l}}}})(x||(x={}));var M=function(e,t){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return M(e,t)};function S(e,t){M(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var D=function(){D=Object.assign||function e(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o))t[o]=n[o]}return t};return D.apply(this,arguments)};var B=function(){function e(e){this._label="";this._caption="";this._mnemonic=-1;this._iconClass="";this._iconLabel="";this._className="";this._closable=false;this._changed=new h.Signal(this);this.owner=e.owner;if(e.label!==undefined){this._label=e.label}if(e.mnemonic!==undefined){this._mnemonic=e.mnemonic}if(e.icon!==undefined){if(typeof e.icon==="string"){this._icon=null;this._iconClass=e.icon}else{this._icon=e.icon}}else{this._icon=null}if(e.iconClass!==undefined){this._iconClass=e.iconClass}if(e.iconLabel!==undefined){this._iconLabel=e.iconLabel}if(e.iconRenderer!==undefined){this._icon=e.iconRenderer}if(e.caption!==undefined){this._caption=e.caption}if(e.className!==undefined){this._className=e.className}if(e.closable!==undefined){this._closable=e.closable}this._dataset=e.dataset||{}}Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){if(this._label===e){return}this._label=e;this._changed.emit(undefined)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(e){if(this._mnemonic===e){return}this._mnemonic=e;this._changed.emit(undefined)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"icon",{get:function(){if(this._icon===null){return this.iconClass}return this._icon},set:function(e){if(typeof e==="string"){this._icon=null;this.iconClass=e}else{if(this._icon===e){return}this._icon=e;this._changed.emit(undefined)}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"iconClass",{get:function(){return this._iconClass},set:function(e){if(this._iconClass===e){return}this._iconClass=e;this._changed.emit(undefined)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(e){if(this._iconLabel===e){return}this._iconLabel=e;this._changed.emit(undefined)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"iconRenderer",{get:function(){return this._icon||undefined},set:function(e){this.icon=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"caption",{get:function(){return this._caption},set:function(e){if(this._caption===e){return}this._caption=e;this._changed.emit(undefined)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){if(this._className===e){return}this._className=e;this._changed.emit(undefined)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"closable",{get:function(){return this._closable},set:function(e){if(this._closable===e){return}this._closable=e;this._changed.emit(undefined)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dataset",{get:function(){return this._dataset},set:function(e){if(this._dataset===e){return}this._dataset=e;this._changed.emit(undefined)},enumerable:true,configurable:true});return e}();var P=function(){function e(e){if(e===void 0){e={}}this._flags=0;this._layout=null;this._parent=null;this._disposed=new h.Signal(this);this.node=T.createNode(e);this.addClass("lm-Widget");this.addClass("p-Widget")}e.prototype.dispose=function(){if(this.isDisposed){return}this.setFlag(e.Flag.IsDisposed);this._disposed.emit(undefined);if(this.parent){this.parent=null}else if(this.isAttached){e.detach(this)}if(this._layout){this._layout.dispose();this._layout=null}h.Signal.clearData(this);s.MessageLoop.clearData(this);l.AttachedProperty.clearData(this)};Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.testFlag(e.Flag.IsDisposed)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isAttached",{get:function(){return this.testFlag(e.Flag.IsAttached)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.testFlag(e.Flag.IsHidden)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.testFlag(e.Flag.IsVisible)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"title",{get:function(){return T.titleProperty.get(this)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"id",{get:function(){return this.node.id},set:function(e){this.node.id=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(t){if(this._parent===t){return}if(t&&this.contains(t)){throw new Error("Invalid parent widget.")}if(this._parent&&!this._parent.isDisposed){var n=new e.ChildMessage("child-removed",this);s.MessageLoop.sendMessage(this._parent,n)}this._parent=t;if(this._parent&&!this._parent.isDisposed){var n=new e.ChildMessage("child-added",this);s.MessageLoop.sendMessage(this._parent,n)}if(!this.isDisposed){s.MessageLoop.sendMessage(this,e.Msg.ParentChanged)}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(t){if(this._layout===t){return}if(this.testFlag(e.Flag.DisallowLayout)){throw new Error("Cannot set widget layout.")}if(this._layout){throw new Error("Cannot change widget layout.")}if(t.parent){throw new Error("Cannot change layout parent.")}this._layout=t;t.parent=this},enumerable:true,configurable:true});e.prototype.children=function(){return this._layout?this._layout.iter():(0,i.empty)()};e.prototype.contains=function(e){for(var t=e;t;t=t._parent){if(t===this){return true}}return false};e.prototype.hasClass=function(e){return this.node.classList.contains(e)};e.prototype.addClass=function(e){this.node.classList.add(e)};e.prototype.removeClass=function(e){this.node.classList.remove(e)};e.prototype.toggleClass=function(e,t){if(t===true){this.node.classList.add(e);return true}if(t===false){this.node.classList.remove(e);return false}return this.node.classList.toggle(e)};e.prototype.update=function(){s.MessageLoop.postMessage(this,e.Msg.UpdateRequest)};e.prototype.fit=function(){s.MessageLoop.postMessage(this,e.Msg.FitRequest)};e.prototype.activate=function(){s.MessageLoop.postMessage(this,e.Msg.ActivateRequest)};e.prototype.close=function(){s.MessageLoop.sendMessage(this,e.Msg.CloseRequest)};e.prototype.show=function(){if(!this.testFlag(e.Flag.IsHidden)){return}if(this.isAttached&&(!this.parent||this.parent.isVisible)){s.MessageLoop.sendMessage(this,e.Msg.BeforeShow)}this.clearFlag(e.Flag.IsHidden);this.removeClass("lm-mod-hidden");this.removeClass("p-mod-hidden");if(this.isAttached&&(!this.parent||this.parent.isVisible)){s.MessageLoop.sendMessage(this,e.Msg.AfterShow)}if(this.parent){var t=new e.ChildMessage("child-shown",this);s.MessageLoop.sendMessage(this.parent,t)}};e.prototype.hide=function(){if(this.testFlag(e.Flag.IsHidden)){return}if(this.isAttached&&(!this.parent||this.parent.isVisible)){s.MessageLoop.sendMessage(this,e.Msg.BeforeHide)}this.setFlag(e.Flag.IsHidden);this.addClass("lm-mod-hidden");this.addClass("p-mod-hidden");if(this.isAttached&&(!this.parent||this.parent.isVisible)){s.MessageLoop.sendMessage(this,e.Msg.AfterHide)}if(this.parent){var t=new e.ChildMessage("child-hidden",this);s.MessageLoop.sendMessage(this.parent,t)}};e.prototype.setHidden=function(e){if(e){this.hide()}else{this.show()}};e.prototype.testFlag=function(e){return(this._flags&e)!==0};e.prototype.setFlag=function(e){this._flags|=e};e.prototype.clearFlag=function(e){this._flags&=~e};e.prototype.processMessage=function(t){switch(t.type){case"resize":this.notifyLayout(t);this.onResize(t);break;case"update-request":this.notifyLayout(t);this.onUpdateRequest(t);break;case"fit-request":this.notifyLayout(t);this.onFitRequest(t);break;case"before-show":this.notifyLayout(t);this.onBeforeShow(t);break;case"after-show":this.setFlag(e.Flag.IsVisible);this.notifyLayout(t);this.onAfterShow(t);break;case"before-hide":this.notifyLayout(t);this.onBeforeHide(t);break;case"after-hide":this.clearFlag(e.Flag.IsVisible);this.notifyLayout(t);this.onAfterHide(t);break;case"before-attach":this.notifyLayout(t);this.onBeforeAttach(t);break;case"after-attach":if(!this.isHidden&&(!this.parent||this.parent.isVisible)){this.setFlag(e.Flag.IsVisible)}this.setFlag(e.Flag.IsAttached);this.notifyLayout(t);this.onAfterAttach(t);break;case"before-detach":this.notifyLayout(t);this.onBeforeDetach(t);break;case"after-detach":this.clearFlag(e.Flag.IsVisible);this.clearFlag(e.Flag.IsAttached);this.notifyLayout(t);this.onAfterDetach(t);break;case"activate-request":this.notifyLayout(t);this.onActivateRequest(t);break;case"close-request":this.notifyLayout(t);this.onCloseRequest(t);break;case"child-added":this.notifyLayout(t);this.onChildAdded(t);break;case"child-removed":this.notifyLayout(t);this.onChildRemoved(t);break;default:this.notifyLayout(t);break}};e.prototype.notifyLayout=function(e){if(this._layout){this._layout.processParentMessage(e)}};e.prototype.onCloseRequest=function(t){if(this.parent){this.parent=null}else if(this.isAttached){e.detach(this)}};e.prototype.onResize=function(e){};e.prototype.onUpdateRequest=function(e){};e.prototype.onFitRequest=function(e){};e.prototype.onActivateRequest=function(e){};e.prototype.onBeforeShow=function(e){};e.prototype.onAfterShow=function(e){};e.prototype.onBeforeHide=function(e){};e.prototype.onAfterHide=function(e){};e.prototype.onBeforeAttach=function(e){};e.prototype.onAfterAttach=function(e){};e.prototype.onBeforeDetach=function(e){};e.prototype.onAfterDetach=function(e){};e.prototype.onChildAdded=function(e){};e.prototype.onChildRemoved=function(e){};return e}();(function(e){var t;(function(e){e[e["IsDisposed"]=1]="IsDisposed";e[e["IsAttached"]=2]="IsAttached";e[e["IsHidden"]=4]="IsHidden";e[e["IsVisible"]=8]="IsVisible";e[e["DisallowLayout"]=16]="DisallowLayout"})(t=e.Flag||(e.Flag={}));var n;(function(e){e.BeforeShow=new s.Message("before-show");e.AfterShow=new s.Message("after-show");e.BeforeHide=new s.Message("before-hide");e.AfterHide=new s.Message("after-hide");e.BeforeAttach=new s.Message("before-attach");e.AfterAttach=new s.Message("after-attach");e.BeforeDetach=new s.Message("before-detach");e.AfterDetach=new s.Message("after-detach");e.ParentChanged=new s.Message("parent-changed");e.UpdateRequest=new s.ConflatableMessage("update-request");e.FitRequest=new s.ConflatableMessage("fit-request");e.ActivateRequest=new s.ConflatableMessage("activate-request");e.CloseRequest=new s.ConflatableMessage("close-request")})(n=e.Msg||(e.Msg={}));var i=function(e){S(t,e);function t(t,n){var i=e.call(this,t)||this;i.child=n;return i}return t}(s.Message);e.ChildMessage=i;var r=function(e){S(t,e);function t(t,n){var i=e.call(this,"resize")||this;i.width=t;i.height=n;return i}return t}(s.Message);e.ResizeMessage=r;(function(e){e.UnknownSize=new e(-1,-1)})(r=e.ResizeMessage||(e.ResizeMessage={}));function o(t,n,i){if(i===void 0){i=null}if(t.parent){throw new Error("Cannot attach a child widget.")}if(t.isAttached||document.body.contains(t.node)){throw new Error("Widget is already attached.")}if(!document.body.contains(n)){throw new Error("Host is not attached.")}s.MessageLoop.sendMessage(t,e.Msg.BeforeAttach);n.insertBefore(t.node,i);s.MessageLoop.sendMessage(t,e.Msg.AfterAttach)}e.attach=o;function a(t){if(t.parent){throw new Error("Cannot detach a child widget.")}if(!t.isAttached||!document.body.contains(t.node)){throw new Error("Widget is not attached.")}s.MessageLoop.sendMessage(t,e.Msg.BeforeDetach);t.node.parentNode.removeChild(t.node);s.MessageLoop.sendMessage(t,e.Msg.AfterDetach)}e.detach=a})(P||(P={}));var T;(function(e){e.titleProperty=new l.AttachedProperty({name:"title",create:function(e){return new B({owner:e})}});function t(e){return e.node||document.createElement(e.tag||"div")}e.createNode=t})(T||(T={}));var z=function(){function e(e){if(e===void 0){e={}}this._disposed=false;this._parent=null;this._fitPolicy=e.fitPolicy||"set-min-size"}e.prototype.dispose=function(){this._parent=null;this._disposed=true;h.Signal.clearData(this);l.AttachedProperty.clearData(this)};Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){if(this._parent===e){return}if(this._parent){throw new Error("Cannot change parent widget.")}if(e.layout!==this){throw new Error("Invalid parent widget.")}this._parent=e;this.init()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(e){if(this._fitPolicy===e){return}this._fitPolicy=e;if(this._parent){var t=this._parent.node.style;t.minWidth="";t.minHeight="";t.maxWidth="";t.maxHeight="";this._parent.fit()}},enumerable:true,configurable:true});e.prototype.processParentMessage=function(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}};e.prototype.init=function(){var e=this;(0,i.each)(this,(function(t){t.parent=e.parent}))};e.prototype.onResize=function(e){(0,i.each)(this,(function(e){s.MessageLoop.sendMessage(e,P.ResizeMessage.UnknownSize)}))};e.prototype.onUpdateRequest=function(e){(0,i.each)(this,(function(e){s.MessageLoop.sendMessage(e,P.ResizeMessage.UnknownSize)}))};e.prototype.onBeforeAttach=function(e){(0,i.each)(this,(function(t){s.MessageLoop.sendMessage(t,e)}))};e.prototype.onAfterAttach=function(e){(0,i.each)(this,(function(t){s.MessageLoop.sendMessage(t,e)}))};e.prototype.onBeforeDetach=function(e){(0,i.each)(this,(function(t){s.MessageLoop.sendMessage(t,e)}))};e.prototype.onAfterDetach=function(e){(0,i.each)(this,(function(t){s.MessageLoop.sendMessage(t,e)}))};e.prototype.onBeforeShow=function(e){(0,i.each)(this,(function(t){if(!t.isHidden){s.MessageLoop.sendMessage(t,e)}}))};e.prototype.onAfterShow=function(e){(0,i.each)(this,(function(t){if(!t.isHidden){s.MessageLoop.sendMessage(t,e)}}))};e.prototype.onBeforeHide=function(e){(0,i.each)(this,(function(t){if(!t.isHidden){s.MessageLoop.sendMessage(t,e)}}))};e.prototype.onAfterHide=function(e){(0,i.each)(this,(function(t){if(!t.isHidden){s.MessageLoop.sendMessage(t,e)}}))};e.prototype.onChildRemoved=function(e){this.removeWidget(e.child)};e.prototype.onFitRequest=function(e){};e.prototype.onChildShown=function(e){};e.prototype.onChildHidden=function(e){};return e}();(function(e){function t(e){return L.horizontalAlignmentProperty.get(e)}e.getHorizontalAlignment=t;function n(e,t){L.horizontalAlignmentProperty.set(e,t)}e.setHorizontalAlignment=n;function i(e){return L.verticalAlignmentProperty.get(e)}e.getVerticalAlignment=i;function r(e,t){L.verticalAlignmentProperty.set(e,t)}e.setVerticalAlignment=r})(z||(z={}));var R=function(){function e(e){this._top=NaN;this._left=NaN;this._width=NaN;this._height=NaN;this._minWidth=0;this._minHeight=0;this._maxWidth=Infinity;this._maxHeight=Infinity;this._disposed=false;this.widget=e;this.widget.node.style.position="absolute"}e.prototype.dispose=function(){if(this._disposed){return}this._disposed=true;var e=this.widget.node.style;e.position="";e.top="";e.left="";e.width="";e.height=""};Object.defineProperty(e.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:true,configurable:true});e.prototype.fit=function(){var e=o.ElementExt.sizeLimits(this.widget.node);this._minWidth=e.minWidth;this._minHeight=e.minHeight;this._maxWidth=e.maxWidth;this._maxHeight=e.maxHeight};e.prototype.update=function(e,t,n,i){var r=Math.max(this._minWidth,Math.min(n,this._maxWidth));var o=Math.max(this._minHeight,Math.min(i,this._maxHeight));if(r<n){switch(z.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(n-r)/2;break;case"right":e+=n-r;break;default:throw"unreachable"}}if(o<i){switch(z.getVerticalAlignment(this.widget)){case"top":break;case"center":t+=(i-o)/2;break;case"bottom":t+=i-o;break;default:throw"unreachable"}}var a=false;var u=this.widget.node.style;if(this._top!==t){this._top=t;u.top=t+"px"}if(this._left!==e){this._left=e;u.left=e+"px"}if(this._width!==r){a=true;this._width=r;u.width=r+"px"}if(this._height!==o){a=true;this._height=o;u.height=o+"px"}if(a){var l=new P.ResizeMessage(r,o);s.MessageLoop.sendMessage(this.widget,l)}};return e}();var L;(function(e){e.horizontalAlignmentProperty=new l.AttachedProperty({name:"horizontalAlignment",create:function(){return"center"},changed:t});e.verticalAlignmentProperty=new l.AttachedProperty({name:"verticalAlignment",create:function(){return"top"},changed:t});function t(e){if(e.parent&&e.parent.layout){e.parent.update()}}})(L||(L={}));var k=function(e){S(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t._widgets=[];return t}t.prototype.dispose=function(){while(this._widgets.length>0){this._widgets.pop().dispose()}e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"widgets",{get:function(){return this._widgets},enumerable:true,configurable:true});t.prototype.iter=function(){return(0,i.iter)(this._widgets)};t.prototype.addWidget=function(e){this.insertWidget(this._widgets.length,e)};t.prototype.insertWidget=function(e,t){t.parent=this.parent;var n=this._widgets.indexOf(t);var r=Math.max(0,Math.min(e,this._widgets.length));if(n===-1){i.ArrayExt.insert(this._widgets,r,t);if(this.parent){this.attachWidget(r,t)}return}if(r===this._widgets.length){r--}if(n===r){return}i.ArrayExt.move(this._widgets,n,r);if(this.parent){this.moveWidget(n,r,t)}};t.prototype.removeWidget=function(e){this.removeWidgetAt(this._widgets.indexOf(e))};t.prototype.removeWidgetAt=function(e){var t=i.ArrayExt.removeAt(this._widgets,e);if(t&&this.parent){this.detachWidget(e,t)}};t.prototype.init=function(){var t=this;e.prototype.init.call(this);(0,i.each)(this,(function(e,n){t.attachWidget(n,e)}))};t.prototype.attachWidget=function(e,t){var n=this.parent.node.children[e];if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.BeforeAttach)}this.parent.node.insertBefore(t.node,n);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.AfterAttach)}};t.prototype.moveWidget=function(e,t,n){if(this.parent.isAttached){s.MessageLoop.sendMessage(n,P.Msg.BeforeDetach)}this.parent.node.removeChild(n.node);if(this.parent.isAttached){s.MessageLoop.sendMessage(n,P.Msg.AfterDetach)}var i=this.parent.node.children[t];if(this.parent.isAttached){s.MessageLoop.sendMessage(n,P.Msg.BeforeAttach)}this.parent.node.insertBefore(n.node,i);if(this.parent.isAttached){s.MessageLoop.sendMessage(n,P.Msg.AfterAttach)}};t.prototype.detachWidget=function(e,t){if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.BeforeDetach)}this.parent.node.removeChild(t.node);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.AfterDetach)}};return t}(z);var O=function(e){S(t,e);function t(t){if(t===void 0){t={}}var n=e.call(this)||this;n._fixed=0;n._spacing=4;n._dirty=false;n._sizers=[];n._items=[];n._box=null;n._alignment="start";n._direction="top-to-bottom";if(t.direction!==undefined){n._direction=t.direction}if(t.alignment!==undefined){n._alignment=t.alignment}if(t.spacing!==undefined){n._spacing=I.clampSpacing(t.spacing)}return n}t.prototype.dispose=function(){(0,i.each)(this._items,(function(e){e.dispose()}));this._box=null;this._items.length=0;this._sizers.length=0;e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){if(this._direction===e){return}this._direction=e;if(!this.parent){return}this.parent.dataset["direction"]=e;this.parent.fit()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(e){if(this._alignment===e){return}this._alignment=e;if(!this.parent){return}this.parent.dataset["alignment"]=e;this.parent.update()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=I.clampSpacing(e);if(this._spacing===e){return}this._spacing=e;if(!this.parent){return}this.parent.fit()},enumerable:true,configurable:true});t.prototype.init=function(){this.parent.dataset["direction"]=this.direction;this.parent.dataset["alignment"]=this.alignment;e.prototype.init.call(this)};t.prototype.attachWidget=function(e,t){i.ArrayExt.insert(this._items,e,new R(t));i.ArrayExt.insert(this._sizers,e,new C);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.BeforeAttach)}this.parent.node.appendChild(t.node);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.AfterAttach)}this.parent.fit()};t.prototype.moveWidget=function(e,t,n){i.ArrayExt.move(this._items,e,t);i.ArrayExt.move(this._sizers,e,t);this.parent.update()};t.prototype.detachWidget=function(e,t){var n=i.ArrayExt.removeAt(this._items,e);i.ArrayExt.removeAt(this._sizers,e);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.BeforeDetach)}this.parent.node.removeChild(t.node);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.AfterDetach)}n.dispose();this.parent.fit()};t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t);this.parent.update()};t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t);this.parent.fit()};t.prototype.onChildShown=function(e){this.parent.fit()};t.prototype.onChildHidden=function(e){this.parent.fit()};t.prototype.onResize=function(e){if(this.parent.isVisible){this._update(e.width,e.height)}};t.prototype.onUpdateRequest=function(e){if(this.parent.isVisible){this._update(-1,-1)}};t.prototype.onFitRequest=function(e){if(this.parent.isAttached){this._fit()}};t.prototype._fit=function(){var e=0;for(var n=0,i=this._items.length;n<i;++n){e+=+!this._items[n].isHidden}this._fixed=this._spacing*Math.max(0,e-1);var r=I.isHorizontal(this._direction);var a=r?this._fixed:0;var u=r?0:this._fixed;for(var n=0,i=this._items.length;n<i;++n){var l=this._items[n];var c=this._sizers[n];if(l.isHidden){c.minSize=0;c.maxSize=0;continue}l.fit();c.sizeHint=t.getSizeBasis(l.widget);c.stretch=t.getStretch(l.widget);if(r){c.minSize=l.minWidth;c.maxSize=l.maxWidth;a+=l.minWidth;u=Math.max(u,l.minHeight)}else{c.minSize=l.minHeight;c.maxSize=l.maxHeight;u+=l.minHeight;a=Math.max(a,l.minWidth)}}var h=this._box=o.ElementExt.boxSizing(this.parent.node);a+=h.horizontalSum;u+=h.verticalSum;var d=this.parent.node.style;d.minWidth=a+"px";d.minHeight=u+"px";this._dirty=true;if(this.parent.parent){s.MessageLoop.sendMessage(this.parent.parent,P.Msg.FitRequest)}if(this._dirty){s.MessageLoop.sendMessage(this.parent,P.Msg.UpdateRequest)}};t.prototype._update=function(e,t){this._dirty=false;var n=0;for(var i=0,r=this._items.length;i<r;++i){n+=+!this._items[i].isHidden}if(n===0){return}if(e<0){e=this.parent.node.offsetWidth}if(t<0){t=this.parent.node.offsetHeight}if(!this._box){this._box=o.ElementExt.boxSizing(this.parent.node)}var a=this._box.paddingTop;var s=this._box.paddingLeft;var u=e-this._box.horizontalSum;var l=t-this._box.verticalSum;var c;switch(this._direction){case"left-to-right":c=x.calc(this._sizers,Math.max(0,u-this._fixed));break;case"top-to-bottom":c=x.calc(this._sizers,Math.max(0,l-this._fixed));break;case"right-to-left":c=x.calc(this._sizers,Math.max(0,u-this._fixed));s+=u;break;case"bottom-to-top":c=x.calc(this._sizers,Math.max(0,l-this._fixed));a+=l;break;default:throw"unreachable"}var h=0;var d=0;if(c>0){switch(this._alignment){case"start":break;case"center":h=0;d=c/2;break;case"end":h=0;d=c;break;case"justify":h=c/n;d=0;break;default:throw"unreachable"}}for(var i=0,r=this._items.length;i<r;++i){var f=this._items[i];if(f.isHidden){continue}var p=this._sizers[i].size;switch(this._direction){case"left-to-right":f.update(s+d,a,p+h,l);s+=p+h+this._spacing;break;case"top-to-bottom":f.update(s,a+d,u,p+h);a+=p+h+this._spacing;break;case"right-to-left":f.update(s-d-p-h,a,p+h,l);s-=p+h+this._spacing;break;case"bottom-to-top":f.update(s,a-d-p-h,u,p+h);a-=p+h+this._spacing;break;default:throw"unreachable"}}};return t}(k);(function(e){function t(e){return I.stretchProperty.get(e)}e.getStretch=t;function n(e,t){I.stretchProperty.set(e,t)}e.setStretch=n;function i(e){return I.sizeBasisProperty.get(e)}e.getSizeBasis=i;function r(e,t){I.sizeBasisProperty.set(e,t)}e.setSizeBasis=r})(O||(O={}));var I;(function(e){e.stretchProperty=new l.AttachedProperty({name:"stretch",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:i});e.sizeBasisProperty=new l.AttachedProperty({name:"sizeBasis",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:i});function t(e){return e==="left-to-right"||e==="right-to-left"}e.isHorizontal=t;function n(e){return Math.max(0,Math.floor(e))}e.clampSpacing=n;function i(e){if(e.parent&&e.parent.layout instanceof O){e.parent.fit()}}})(I||(I={}));var H=function(e){S(t,e);function t(t){if(t===void 0){t={}}var n=e.call(this)||this;n.addClass("lm-Panel");n.addClass("p-Panel");n.layout=j.createLayout(t);return n}Object.defineProperty(t.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:true,configurable:true});t.prototype.addWidget=function(e){this.layout.addWidget(e)};t.prototype.insertWidget=function(e,t){this.layout.insertWidget(e,t)};return t}(P);var j;(function(e){function t(e){return e.layout||new k}e.createLayout=t})(j||(j={}));var N=function(e){S(t,e);function t(t){if(t===void 0){t={}}var n=e.call(this,{layout:W.createLayout(t)})||this;n.addClass("lm-BoxPanel");n.addClass("p-BoxPanel");return n}Object.defineProperty(t.prototype,"direction",{get:function(){return this.layout.direction},set:function(e){this.layout.direction=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:true,configurable:true});t.prototype.onChildAdded=function(e){e.child.addClass("lm-BoxPanel-child");e.child.addClass("p-BoxPanel-child")};t.prototype.onChildRemoved=function(e){e.child.removeClass("lm-BoxPanel-child");e.child.removeClass("p-BoxPanel-child")};return t}(H);(function(e){function t(e){return O.getStretch(e)}e.getStretch=t;function n(e,t){O.setStretch(e,t)}e.setStretch=n;function i(e){return O.getSizeBasis(e)}e.getSizeBasis=i;function r(e,t){O.setSizeBasis(e,t)}e.setSizeBasis=r})(N||(N={}));var W;(function(e){function t(e){return e.layout||new O(e)}e.createLayout=t})(W||(W={}));var F=function(e){S(t,e);function t(n){var i=e.call(this,{node:q.createNode()})||this;i._activeIndex=-1;i._items=[];i._results=null;i.addClass("lm-CommandPalette");i.addClass("p-CommandPalette");i.setFlag(P.Flag.DisallowLayout);i.commands=n.commands;i.renderer=n.renderer||t.defaultRenderer;i.commands.commandChanged.connect(i._onGenericChange,i);i.commands.keyBindingChanged.connect(i._onGenericChange,i);return i}t.prototype.dispose=function(){this._items.length=0;this._results=null;e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"searchNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"inputNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:true,configurable:true});t.prototype.addItem=function(e){var t=q.createItem(this.commands,e);this._items.push(t);this.refresh();return t};t.prototype.addItems=function(e){var t=this;var n=e.map((function(e){return q.createItem(t.commands,e)}));n.forEach((function(e){return t._items.push(e)}));this.refresh();return n};t.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))};t.prototype.removeItemAt=function(e){var t=i.ArrayExt.removeAt(this._items,e);if(!t){return}this.refresh()};t.prototype.clearItems=function(){if(this._items.length===0){return}this._items.length=0;this.refresh()};t.prototype.refresh=function(){this._results=null;if(this.inputNode.value!==""){var e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{var e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()};t.prototype.handleEvent=function(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}};t.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this);this.node.addEventListener("keydown",this);this.node.addEventListener("input",this);this.node.addEventListener("focus",this,true);this.node.addEventListener("blur",this,true)};t.prototype.onAfterDetach=function(e){this.node.removeEventListener("click",this);this.node.removeEventListener("keydown",this);this.node.removeEventListener("input",this);this.node.removeEventListener("focus",this,true);this.node.removeEventListener("blur",this,true)};t.prototype.onActivateRequest=function(e){if(this.isAttached){var t=this.inputNode;t.focus();t.select()}};t.prototype.onUpdateRequest=function(e){var t=this.inputNode.value;var n=this.contentNode;var r=this._results;if(!r){r=this._results=q.search(this._items,t);this._activeIndex=t?i.ArrayExt.findFirstIndex(r,q.canActivate):-1}if(!t&&r.length===0){g.VirtualDOM.render(null,n);return}if(t&&r.length===0){var a=this.renderer.renderEmptyMessage({query:t});g.VirtualDOM.render(a,n);return}var s=this.renderer;var u=this._activeIndex;var l=new Array(r.length);for(var c=0,h=r.length;c<h;++c){var d=r[c];if(d.type==="header"){var f=d.indices;var p=d.category;l[c]=s.renderHeader({category:p,indices:f})}else{var m=d.item;var f=d.indices;var v=c===u;l[c]=s.renderItem({item:m,indices:f,active:v})}}g.VirtualDOM.render(l,n);if(u<0||u>=r.length){n.scrollTop=0}else{var _=n.children[u];o.ElementExt.scrollIntoViewIfNeeded(n,_)}};t.prototype._evtClick=function(e){if(e.button!==0){return}if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="";this.refresh();return}var t=i.ArrayExt.findFirstIndex(this.contentNode.children,(function(t){return t.contains(e.target)}));if(t===-1){return}e.preventDefault();e.stopPropagation();this._execute(t)};t.prototype._evtKeyDown=function(e){if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey){return}switch(e.keyCode){case 13:e.preventDefault();e.stopPropagation();this._execute(this._activeIndex);break;case 38:e.preventDefault();e.stopPropagation();this._activatePreviousItem();break;case 40:e.preventDefault();e.stopPropagation();this._activateNextItem();break}};t.prototype._activateNextItem=function(){if(!this._results||this._results.length===0){return}var e=this._activeIndex;var t=this._results.length;var n=e<t-1?e+1:0;var r=n===0?t-1:n-1;this._activeIndex=i.ArrayExt.findFirstIndex(this._results,q.canActivate,n,r);this.update()};t.prototype._activatePreviousItem=function(){if(!this._results||this._results.length===0){return}var e=this._activeIndex;var t=this._results.length;var n=e<=0?t-1:e-1;var r=n===t-1?0:n+1;this._activeIndex=i.ArrayExt.findLastIndex(this._results,q.canActivate,n,r);this.update()};t.prototype._execute=function(e){if(!this._results){return}var t=this._results[e];if(!t){return}if(t.type==="header"){var n=this.inputNode;n.value=t.category.toLowerCase()+" ";n.focus();this.refresh();return}if(!t.item.isEnabled){return}this.commands.execute(t.item.command,t.item.args);this.inputNode.value="";this.refresh()};t.prototype._toggleFocused=function(){var e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e);this.toggleClass("p-mod-focused",e)};t.prototype._onGenericChange=function(){this.refresh()};return t}(P);(function(e){var t=function(){function e(){}e.prototype.renderHeader=function(e){var t=this.formatHeader(e);return g.h.li({className:"lm-CommandPalette-header"+" p-CommandPalette-header"},t)};e.prototype.renderItem=function(e){var t=this.createItemClass(e);var n=this.createItemDataset(e);if(e.item.isToggleable){return g.h.li({className:t,dataset:n,role:"checkbox","aria-checked":""+e.item.isToggled},this.renderItemIcon(e),this.renderItemContent(e),this.renderItemShortcut(e))}return g.h.li({className:t,dataset:n},this.renderItemIcon(e),this.renderItemContent(e),this.renderItemShortcut(e))};e.prototype.renderEmptyMessage=function(e){var t=this.formatEmptyMessage(e);return g.h.li({className:"lm-CommandPalette-emptyMessage"+" p-CommandPalette-emptyMessage"},t)};e.prototype.renderItemIcon=function(e){var t=this.createIconClass(e);if(typeof e.item.icon==="string"){return g.h.div({className:t},e.item.iconLabel)}return g.h.div({className:t},e.item.icon,e.item.iconLabel)};e.prototype.renderItemContent=function(e){return g.h.div({className:"lm-CommandPalette-itemContent"+" p-CommandPalette-itemContent"},this.renderItemLabel(e),this.renderItemCaption(e))};e.prototype.renderItemLabel=function(e){var t=this.formatItemLabel(e);return g.h.div({className:"lm-CommandPalette-itemLabel"+" p-CommandPalette-itemLabel"},t)};e.prototype.renderItemCaption=function(e){var t=this.formatItemCaption(e);return g.h.div({className:"lm-CommandPalette-itemCaption"+" p-CommandPalette-itemCaption"},t)};e.prototype.renderItemShortcut=function(e){var t=this.formatItemShortcut(e);return g.h.div({className:"lm-CommandPalette-itemShortcut"+" p-CommandPalette-itemShortcut"},t)};e.prototype.createItemClass=function(e){var t="lm-CommandPalette-item";t+=" p-CommandPalette-item";if(!e.item.isEnabled){t+=" lm-mod-disabled";t+=" p-mod-disabled"}if(e.item.isToggled){t+=" lm-mod-toggled";t+=" p-mod-toggled"}if(e.active){t+=" lm-mod-active";t+=" p-mod-active"}var n=e.item.className;if(n){t+=" "+n}return t};e.prototype.createItemDataset=function(e){return D(D({},e.item.dataset),{command:e.item.command})};e.prototype.createIconClass=function(e){var t="lm-CommandPalette-itemIcon";t+=" p-CommandPalette-itemIcon";var n=e.item.iconClass;return n?t+" "+n:t};e.prototype.formatHeader=function(e){if(!e.indices||e.indices.length===0){return e.category}return i.StringExt.highlight(e.category,e.indices,g.h.mark)};e.prototype.formatEmptyMessage=function(e){return"No commands found that match '"+e.query+"'"};e.prototype.formatItemShortcut=function(e){var t=e.item.keyBinding;return t?t.keys.map(m.CommandRegistry.formatKeystroke).join(", "):null};e.prototype.formatItemLabel=function(e){if(!e.indices||e.indices.length===0){return e.item.label}return i.StringExt.highlight(e.item.label,e.indices,g.h.mark)};e.prototype.formatItemCaption=function(e){return e.item.caption};return e}();e.Renderer=t;e.defaultRenderer=new t})(F||(F={}));var q;(function(e){function t(){var e=document.createElement("div");var t=document.createElement("div");var n=document.createElement("div");var i=document.createElement("input");var r=document.createElement("ul");var o=document.createElement("button");t.className="lm-CommandPalette-search";n.className="lm-CommandPalette-wrapper";i.className="lm-CommandPalette-input";o.className="lm-close-icon";r.className="lm-CommandPalette-content";t.classList.add("p-CommandPalette-search");n.classList.add("p-CommandPalette-wrapper");i.classList.add("p-CommandPalette-input");r.classList.add("p-CommandPalette-content");i.spellcheck=false;n.appendChild(i);n.appendChild(o);t.appendChild(n);e.appendChild(t);e.appendChild(r);return e}e.createNode=t;function n(e,t){return new d(e,t)}e.createItem=n;function r(e,t){var n=u(e,t);n.sort(c);return h(n)}e.search=r;function o(e){return e.type==="item"&&e.item.isEnabled}e.canActivate=o;function a(e){return e.trim().replace(/\s+/g," ")}function s(e){return e.replace(/\s+/g,"").toLowerCase()}function u(e,t){t=s(t);var n=[];for(var i=0,r=e.length;i<r;++i){var o=e[i];if(!o.isVisible){continue}if(!t){n.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:o});continue}var a=l(o,t);if(!a){continue}if(!o.isEnabled){a.score+=1e3}n.push(a)}return n}function l(e,t){var n=e.category.toLowerCase();var r=e.label.toLowerCase();var o=n+" "+r;var a=Infinity;var s=null;var u=/\b\w/g;while(true){var l=u.exec(o);if(!l){break}var c=i.StringExt.matchSumOfDeltas(o,t,l.index);if(!c){break}if(c&&c.score<=a){a=c.score;s=c.indices}}if(!s||a===Infinity){return null}var h=n.length+1;var d=i.ArrayExt.lowerBound(s,h,(function(e,t){return e-t}));var f=s.slice(0,d);var p=s.slice(d);for(var m=0,v=p.length;m<v;++m){p[m]-=h}if(f.length===0){return{matchType:0,categoryIndices:null,labelIndices:p,score:a,item:e}}if(p.length===0){return{matchType:1,categoryIndices:f,labelIndices:null,score:a,item:e}}return{matchType:2,categoryIndices:f,labelIndices:p,score:a,item:e}}function c(e,t){var n=e.matchType-t.matchType;if(n!==0){return n}var i=e.score-t.score;if(i!==0){return i}var r=0;var o=0;switch(e.matchType){case 0:r=e.labelIndices[0];o=t.labelIndices[0];break;case 1:case 2:r=e.categoryIndices[0];o=t.categoryIndices[0];break}if(r!==o){return r-o}var a=e.item.category.localeCompare(t.item.category);if(a!==0){return a}var s=e.item.rank;var u=t.item.rank;if(s!==u){return s<u?-1:1}return e.item.label.localeCompare(t.item.label)}function h(e){var t=new Array(e.length);i.ArrayExt.fill(t,false);var n=[];for(var r=0,o=e.length;r<o;++r){if(t[r]){continue}var a=e[r],s=a.item,u=a.categoryIndices;var l=s.category;n.push({type:"header",category:l,indices:u});for(var c=r;c<o;++c){if(t[c]){continue}var h=e[c],d=h.item,f=h.labelIndices;if(d.category!==l){continue}n.push({type:"item",item:d,indices:f});t[c]=true}}return n}var d=function(){function e(e,t){this._commands=e;this.category=a(t.category);this.command=t.command;this.args=t.args||f.JSONExt.emptyObject;this.rank=t.rank!==undefined?t.rank:Infinity}Object.defineProperty(e.prototype,"label",{get:function(){return this._commands.label(this.command,this.args)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"icon",{get:function(){return this._commands.icon(this.command,this.args)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"iconClass",{get:function(){return this._commands.iconClass(this.command,this.args)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"iconLabel",{get:function(){return this._commands.iconLabel(this.command,this.args)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"caption",{get:function(){return this._commands.caption(this.command,this.args)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"className",{get:function(){return this._commands.className(this.command,this.args)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dataset",{get:function(){return this._commands.dataset(this.command,this.args)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._commands.isEnabled(this.command,this.args)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isToggled",{get:function(){return this._commands.isToggled(this.command,this.args)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isToggleable",{get:function(){return this._commands.isToggleable(this.command,this.args)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._commands.isVisible(this.command,this.args)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"keyBinding",{get:function(){var e=this,t=e.command,n=e.args;return i.ArrayExt.findLastValue(this._commands.keyBindings,(function(e){return e.command===t&&f.JSONExt.deepEqual(e.args,n)}))||null},enumerable:true,configurable:true});return e}()})(q||(q={}));var G=function(e){S(t,e);function t(n){var i=e.call(this,{node:V.createNode()})||this;i._childIndex=-1;i._activeIndex=-1;i._openTimerID=0;i._closeTimerID=0;i._items=[];i._childMenu=null;i._parentMenu=null;i._aboutToClose=new h.Signal(i);i._menuRequested=new h.Signal(i);i.addClass("lm-Menu");i.addClass("p-Menu");i.setFlag(P.Flag.DisallowLayout);i.commands=n.commands;i.renderer=n.renderer||t.defaultRenderer;return i}t.prototype.dispose=function(){this.close();this._items.length=0;e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"aboutToClose",{get:function(){return this._aboutToClose},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"menuRequested",{get:function(){return this._menuRequested},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"rootMenu",{get:function(){var e=this;while(e._parentMenu){e=e._parentMenu}return e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"leafMenu",{get:function(){var e=this;while(e._childMenu){e=e._childMenu}return e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-Menu-content")[0]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._items.indexOf(e):-1},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){if(e<0||e>=this._items.length){e=-1}if(e!==-1&&!V.canActivate(this._items[e])){e=-1}if(this._activeIndex===e){return}this._activeIndex=e;this.update()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:true,configurable:true});t.prototype.activateNextItem=function(){var e=this._items.length;var t=this._activeIndex;var n=t<e-1?t+1:0;var r=n===0?e-1:n-1;this.activeIndex=i.ArrayExt.findFirstIndex(this._items,V.canActivate,n,r)};t.prototype.activatePreviousItem=function(){var e=this._items.length;var t=this._activeIndex;var n=t<=0?e-1:t-1;var r=n===e-1?0:n+1;this.activeIndex=i.ArrayExt.findLastIndex(this._items,V.canActivate,n,r)};t.prototype.triggerActiveItem=function(){if(!this.isAttached){return}var e=this.activeItem;if(!e){return}this._cancelOpenTimer();this._cancelCloseTimer();if(e.type==="submenu"){this._openChildMenu(true);return}this.rootMenu.close();var t=e.command,n=e.args;if(this.commands.isEnabled(t,n)){this.commands.execute(t,n)}else{console.log("Command '"+t+"' is disabled.")}};t.prototype.addItem=function(e){return this.insertItem(this._items.length,e)};t.prototype.insertItem=function(e,t){if(this.isAttached){this.close()}this.activeIndex=-1;var n=Math.max(0,Math.min(e,this._items.length));var r=V.createItem(this,t);i.ArrayExt.insert(this._items,n,r);this.update();return r};t.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))};t.prototype.removeItemAt=function(e){if(this.isAttached){this.close()}this.activeIndex=-1;var t=i.ArrayExt.removeAt(this._items,e);if(!t){return}this.update()};t.prototype.clearItems=function(){if(this.isAttached){this.close()}this.activeIndex=-1;if(this._items.length===0){return}this._items.length=0;this.update()};t.prototype.open=function(e,t,n){if(n===void 0){n={}}if(this.isAttached){return}var i=n.forceX||false;var r=n.forceY||false;V.openRootMenu(this,e,t,i,r);this.activate()};t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault();e.stopPropagation();break}};t.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this);this.node.addEventListener("mouseup",this);this.node.addEventListener("mousemove",this);this.node.addEventListener("mouseenter",this);this.node.addEventListener("mouseleave",this);this.node.addEventListener("contextmenu",this);document.addEventListener("mousedown",this,true)};t.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this);this.node.removeEventListener("mouseup",this);this.node.removeEventListener("mousemove",this);this.node.removeEventListener("mouseenter",this);this.node.removeEventListener("mouseleave",this);this.node.removeEventListener("contextmenu",this);document.removeEventListener("mousedown",this,true)};t.prototype.onActivateRequest=function(e){if(this.isAttached){this.node.focus()}};t.prototype.onUpdateRequest=function(e){var t=this._items;var n=this.renderer;var i=this._activeIndex;var r=V.computeCollapsed(t);var o=new Array(t.length);for(var a=0,s=t.length;a<s;++a){var u=t[a];var l=a===i;var c=r[a];o[a]=n.renderItem({item:u,active:l,collapsed:c})}g.VirtualDOM.render(o,this.contentNode)};t.prototype.onCloseRequest=function(t){this._cancelOpenTimer();this._cancelCloseTimer();this.activeIndex=-1;var n=this._childMenu;if(n){this._childIndex=-1;this._childMenu=null;n._parentMenu=null;n.close()}var i=this._parentMenu;if(i){this._parentMenu=null;i._childIndex=-1;i._childMenu=null;i.activate()}if(this.isAttached){this._aboutToClose.emit(undefined)}e.prototype.onCloseRequest.call(this,t)};t.prototype._evtKeyDown=function(e){e.preventDefault();e.stopPropagation();var t=e.keyCode;if(t===13){this.triggerActiveItem();return}if(t===27){this.close();return}if(t===37){if(this._parentMenu){this.close()}else{this._menuRequested.emit("previous")}return}if(t===38){this.activatePreviousItem();return}if(t===39){var n=this.activeItem;if(n&&n.type==="submenu"){this.triggerActiveItem()}else{this.rootMenu._menuRequested.emit("next")}return}if(t===40){this.activateNextItem();return}var i=(0,A.Vc)().keyForKeydownEvent(e);if(!i){return}var r=this._activeIndex+1;var o=V.findMnemonic(this._items,i,r);if(o.index!==-1&&!o.multiple){this.activeIndex=o.index;this.triggerActiveItem()}else if(o.index!==-1){this.activeIndex=o.index}else if(o.auto!==-1){this.activeIndex=o.auto}};t.prototype._evtMouseUp=function(e){if(e.button!==0){return}e.preventDefault();e.stopPropagation();this.triggerActiveItem()};t.prototype._evtMouseMove=function(e){var t=i.ArrayExt.findFirstIndex(this.contentNode.children,(function(t){return o.ElementExt.hitTest(t,e.clientX,e.clientY)}));if(t===this._activeIndex){return}this.activeIndex=t;t=this.activeIndex;if(t===this._childIndex){this._cancelOpenTimer();this._cancelCloseTimer();return}if(this._childIndex!==-1){this._startCloseTimer()}this._cancelOpenTimer();var n=this.activeItem;if(!n||n.type!=="submenu"||!n.submenu){return}this._startOpenTimer()};t.prototype._evtMouseEnter=function(e){for(var t=this._parentMenu;t;t=t._parentMenu){t._cancelOpenTimer();t._cancelCloseTimer();t.activeIndex=t._childIndex}};t.prototype._evtMouseLeave=function(e){this._cancelOpenTimer();if(!this._childMenu){this.activeIndex=-1;return}var t=e.clientX,n=e.clientY;if(o.ElementExt.hitTest(this._childMenu.node,t,n)){this._cancelCloseTimer();return}this.activeIndex=-1;this._startCloseTimer()};t.prototype._evtMouseDown=function(e){if(this._parentMenu){return}if(V.hitTestMenus(this,e.clientX,e.clientY)){e.preventDefault();e.stopPropagation()}else{this.close()}};t.prototype._openChildMenu=function(e){if(e===void 0){e=false}var t=this.activeItem;if(!t||t.type!=="submenu"||!t.submenu){this._closeChildMenu();return}var n=t.submenu;if(n===this._childMenu){return}this._closeChildMenu();this._childMenu=n;this._childIndex=this._activeIndex;n._parentMenu=this;s.MessageLoop.sendMessage(this,P.Msg.UpdateRequest);var i=this.contentNode.children[this._activeIndex];V.openSubmenu(n,i);if(e){n.activeIndex=-1;n.activateNextItem()}n.activate()};t.prototype._closeChildMenu=function(){if(this._childMenu){this._childMenu.close()}};t.prototype._startOpenTimer=function(){var e=this;if(this._openTimerID===0){this._openTimerID=window.setTimeout((function(){e._openTimerID=0;e._openChildMenu()}),V.TIMER_DELAY)}};t.prototype._startCloseTimer=function(){var e=this;if(this._closeTimerID===0){this._closeTimerID=window.setTimeout((function(){e._closeTimerID=0;e._closeChildMenu()}),V.TIMER_DELAY)}};t.prototype._cancelOpenTimer=function(){if(this._openTimerID!==0){clearTimeout(this._openTimerID);this._openTimerID=0}};t.prototype._cancelCloseTimer=function(){if(this._closeTimerID!==0){clearTimeout(this._closeTimerID);this._closeTimerID=0}};return t}(P);(function(e){var t=function(){function e(){}e.prototype.renderItem=function(e){var t=this.createItemClass(e);var n=this.createItemDataset(e);var i=this.createItemARIA(e);return g.h.li(D({className:t,dataset:n},i),this.renderIcon(e),this.renderLabel(e),this.renderShortcut(e),this.renderSubmenu(e))};e.prototype.renderIcon=function(e){var t=this.createIconClass(e);if(typeof e.item.icon==="string"){return g.h.div({className:t},e.item.iconLabel)}return g.h.div({className:t},e.item.icon,e.item.iconLabel)};e.prototype.renderLabel=function(e){var t=this.formatLabel(e);return g.h.div({className:"lm-Menu-itemLabel"+" p-Menu-itemLabel"},t)};e.prototype.renderShortcut=function(e){var t=this.formatShortcut(e);return g.h.div({className:"lm-Menu-itemShortcut"+" p-Menu-itemShortcut"},t)};e.prototype.renderSubmenu=function(e){return g.h.div({className:"lm-Menu-itemSubmenuIcon"+" p-Menu-itemSubmenuIcon"})};e.prototype.createItemClass=function(e){var t="lm-Menu-item";t+=" p-Menu-item";if(!e.item.isEnabled){t+=" lm-mod-disabled";t+=" p-mod-disabled"}if(e.item.isToggled){t+=" lm-mod-toggled";t+=" p-mod-toggled"}if(!e.item.isVisible){t+=" lm-mod-hidden";t+=" p-mod-hidden"}if(e.active){t+=" lm-mod-active";t+=" p-mod-active"}if(e.collapsed){t+=" lm-mod-collapsed";t+=" p-mod-collapsed"}var n=e.item.className;if(n){t+=" "+n}return t};e.prototype.createItemDataset=function(e){var t;var n=e.item,i=n.type,r=n.command,o=n.dataset;if(i==="command"){t=D(D({},o),{type:i,command:r})}else{t=D(D({},o),{type:i})}return t};e.prototype.createIconClass=function(e){var t="lm-Menu-itemIcon";t+=" p-Menu-itemIcon";var n=e.item.iconClass;return n?t+" "+n:t};e.prototype.createItemARIA=function(e){var t={};switch(e.item.type){case"separator":t.role="presentation";break;case"submenu":t["aria-haspopup"]="true";break;default:t.role="menuitem"}return t};e.prototype.formatLabel=function(e){var t=e.item,n=t.label,i=t.mnemonic;if(i<0||i>=n.length){return n}var r=n.slice(0,i);var o=n.slice(i+1);var a=n[i];var s=g.h.span({className:"lm-Menu-itemMnemonic"+" p-Menu-itemMnemonic"},a);return[r,s,o]};e.prototype.formatShortcut=function(e){var t=e.item.keyBinding;return t?t.keys.map(m.CommandRegistry.formatKeystroke).join(", "):null};return e}();e.Renderer=t;e.defaultRenderer=new t})(G||(G={}));var V;(function(e){e.TIMER_DELAY=300;e.SUBMENU_OVERLAP=3;function t(){var e=document.createElement("div");var t=document.createElement("ul");t.className="lm-Menu-content";t.classList.add("p-Menu-content");e.appendChild(t);t.setAttribute("role","menu");e.tabIndex=-1;return e}e.createNode=t;function n(e){return e.type!=="separator"&&e.isEnabled&&e.isVisible}e.canActivate=n;function r(e,t){return new d(e.commands,t)}e.createItem=r;function a(e,t,n){for(var i=e;i;i=i.childMenu){if(o.ElementExt.hitTest(i.node,t,n)){return true}}return false}e.hitTestMenus=a;function u(e){var t=new Array(e.length);i.ArrayExt.fill(t,false);var n=0;var r=e.length;for(;n<r;++n){var o=e[n];if(!o.isVisible){continue}if(o.type!=="separator"){break}t[n]=true}var a=r-1;for(;a>=0;--a){var o=e[a];if(!o.isVisible){continue}if(o.type!=="separator"){break}t[a]=true}var s=false;while(++n<a){var o=e[n];if(!o.isVisible){continue}if(o.type!=="separator"){s=false}else if(s){t[n]=true}else{s=true}}return t}e.computeCollapsed=u;function l(e,t,n,i,r){s.MessageLoop.sendMessage(e,P.Msg.UpdateRequest);var o=window.pageXOffset;var a=window.pageYOffset;var u=document.documentElement.clientWidth;var l=document.documentElement.clientHeight;var c=l-(r?n:0);var h=e.node;var d=h.style;d.top="";d.left="";d.width="";d.height="";d.visibility="hidden";d.maxHeight=c+"px";P.attach(e,document.body);var f=h.getBoundingClientRect(),p=f.width,m=f.height;if(!i&&t+p>o+u){t=o+u-p}if(!r&&n+m>a+l){if(n>a+l){n=a+l-m}else{n=n-m}}d.top=Math.max(0,n)+"px";d.left=Math.max(0,t)+"px";d.visibility=""}e.openRootMenu=l;function c(t,n){s.MessageLoop.sendMessage(t,P.Msg.UpdateRequest);var i=window.pageXOffset;var r=window.pageYOffset;var a=document.documentElement.clientWidth;var u=document.documentElement.clientHeight;var l=u;var c=t.node;var h=c.style;h.top="";h.left="";h.width="";h.height="";h.visibility="hidden";h.maxHeight=l+"px";P.attach(t,document.body);var d=c.getBoundingClientRect(),f=d.width,p=d.height;var m=o.ElementExt.boxSizing(t.node);var v=n.getBoundingClientRect();var g=v.right-e.SUBMENU_OVERLAP;if(g+f>i+a){g=v.left+e.SUBMENU_OVERLAP-f}var _=v.top-m.borderTop-m.paddingTop;if(_+p>r+u){_=v.bottom+m.borderBottom+m.paddingBottom-p}h.top=Math.max(0,_)+"px";h.left=Math.max(0,g)+"px";h.visibility=""}e.openSubmenu=c;function h(e,t,i){var r=-1;var o=-1;var a=false;var s=t.toUpperCase();for(var u=0,l=e.length;u<l;++u){var c=(u+i)%l;var h=e[c];if(!n(h)){continue}var d=h.label;if(d.length===0){continue}var f=h.mnemonic;if(f>=0&&f<d.length){if(d[f].toUpperCase()===s){if(r===-1){r=c}else{a=true}}continue}if(o===-1&&d[0].toUpperCase()===s){o=c}}return{index:r,multiple:a,auto:o}}e.findMnemonic=h;var d=function(){function e(e,t){this._commands=e;this.type=t.type||"command";this.command=t.command||"";this.args=t.args||f.JSONExt.emptyObject;this.submenu=t.submenu||null}Object.defineProperty(e.prototype,"label",{get:function(){if(this.type==="command"){return this._commands.label(this.command,this.args)}if(this.type==="submenu"&&this.submenu){return this.submenu.title.label}return""},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"mnemonic",{get:function(){if(this.type==="command"){return this._commands.mnemonic(this.command,this.args)}if(this.type==="submenu"&&this.submenu){return this.submenu.title.mnemonic}return-1},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"icon",{get:function(){if(this.type==="command"){return this._commands.icon(this.command,this.args)}if(this.type==="submenu"&&this.submenu){return this.submenu.title.icon}return this.iconClass},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"iconClass",{get:function(){if(this.type==="command"){return this._commands.iconClass(this.command,this.args)}if(this.type==="submenu"&&this.submenu){return this.submenu.title.iconClass}return""},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"iconLabel",{get:function(){if(this.type==="command"){return this._commands.iconLabel(this.command,this.args)}if(this.type==="submenu"&&this.submenu){return this.submenu.title.iconLabel}return""},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"caption",{get:function(){if(this.type==="command"){return this._commands.caption(this.command,this.args)}if(this.type==="submenu"&&this.submenu){return this.submenu.title.caption}return""},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"className",{get:function(){if(this.type==="command"){return this._commands.className(this.command,this.args)}if(this.type==="submenu"&&this.submenu){return this.submenu.title.className}return""},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dataset",{get:function(){if(this.type==="command"){return this._commands.dataset(this.command,this.args)}if(this.type==="submenu"&&this.submenu){return this.submenu.title.dataset}return{}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isEnabled",{get:function(){if(this.type==="command"){return this._commands.isEnabled(this.command,this.args)}if(this.type==="submenu"){return this.submenu!==null}return true},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isToggled",{get:function(){if(this.type==="command"){return this._commands.isToggled(this.command,this.args)}return false},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isVisible",{get:function(){if(this.type==="command"){return this._commands.isVisible(this.command,this.args)}if(this.type==="submenu"){return this.submenu!==null}return true},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"keyBinding",{get:function(){if(this.type==="command"){var e=this,t=e.command,n=e.args;return i.ArrayExt.findLastValue(this._commands.keyBindings,(function(e){return e.command===t&&f.JSONExt.deepEqual(e.args,n)}))||null}return null},enumerable:true,configurable:true});return e}()})(V||(V={}));var K=function(){function e(e){this._idTick=0;this._items=[];this.menu=new G(e)}e.prototype.addItem=function(e){var t=this;var n=Y.createItem(e,this._idTick++);this._items.push(n);return new y.DisposableDelegate((function(){i.ArrayExt.removeFirstOf(t._items,n)}))};e.prototype.open=function(e){var t=this;this.menu.clearItems();if(this._items.length===0){return false}var n=Y.matchItems(this._items,e);if(!n||n.length===0){return false}(0,i.each)(n,(function(e){t.menu.addItem(e)}));this.menu.open(e.clientX,e.clientY);return true};return e}();var Y;(function(e){function t(e,t){var n=i(e.selector);var r=e.rank!==undefined?e.rank:Infinity;return D(D({},e),{selector:n,rank:r,id:t})}e.createItem=t;function n(e,t){var n=t.target;if(!n){return null}var i=t.currentTarget;if(!i){return null}if(!i.contains(n)){n=document.elementFromPoint(t.clientX,t.clientY);if(!n||!i.contains(n)){return null}}var a=[];var s=e.slice();while(n!==null){var u=[];for(var l=0,c=s.length;l<c;++l){var h=s[l];if(!h){continue}if(!o.Selector.matches(n,h.selector)){continue}u.push(h);s[l]=null}if(u.length!==0){u.sort(r);a.push.apply(a,u)}if(n===i){break}n=n.parentElement}return a}e.matchItems=n;function i(e){if(e.indexOf(",")!==-1){throw new Error("Selector cannot contain commas: "+e)}if(!o.Selector.isValid(e)){throw new Error("Invalid selector: "+e)}return e}function r(e,t){var n=o.Selector.calculateSpecificity(e.selector);var i=o.Selector.calculateSpecificity(t.selector);if(n!==i){return i-n}var r=e.rank;var a=t.rank;if(r!==a){return r<a?-1:1}return e.id-t.id}})(Y||(Y={}));var X=function(e){S(t,e);function t(n){if(n===void 0){n={}}var i=e.call(this,{node:U.createNode()})||this;i._currentIndex=-1;i._titles=[];i._titlesEditable=false;i._previousTitle=null;i._dragData=null;i._addButtonEnabled=false;i._tabMoved=new h.Signal(i);i._currentChanged=new h.Signal(i);i._addRequested=new h.Signal(i);i._tabCloseRequested=new h.Signal(i);i._tabDetachRequested=new h.Signal(i);i._tabActivateRequested=new h.Signal(i);i.addClass("lm-TabBar");i.addClass("p-TabBar");i.contentNode.setAttribute("role","tablist");i.setFlag(P.Flag.DisallowLayout);i.tabsMovable=n.tabsMovable||false;i.titlesEditable=n.titlesEditable||false;i.allowDeselect=n.allowDeselect||false;i.addButtonEnabled=n.addButtonEnabled||false;i.insertBehavior=n.insertBehavior||"select-tab-if-needed";i.name=n.name||"";i.orientation=n.orientation||"horizontal";i.removeBehavior=n.removeBehavior||"select-tab-after";i.renderer=n.renderer||t.defaultRenderer;return i}t.prototype.dispose=function(){this._releaseMouse();this._titles.length=0;this._previousTitle=null;e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"tabMoved",{get:function(){return this._tabMoved},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"tabActivateRequested",{get:function(){return this._tabActivateRequested},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"tabCloseRequested",{get:function(){return this._tabCloseRequested},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"tabDetachRequested",{get:function(){return this._tabDetachRequested},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"titlesEditable",{get:function(){return this._titlesEditable},set:function(e){this._titlesEditable=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"currentTitle",{get:function(){return this._titles[this._currentIndex]||null},set:function(e){this.currentIndex=e?this._titles.indexOf(e):-1},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){if(e<0||e>=this._titles.length){e=-1}if(this._currentIndex===e){return}var t=this._currentIndex;var n=this._titles[t]||null;var i=e;var r=this._titles[i]||null;this._currentIndex=i;this._previousTitle=n;this.update();this._currentChanged.emit({previousIndex:t,previousTitle:n,currentIndex:i,currentTitle:r})},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e;if(e){this.contentNode.setAttribute("aria-label",e)}else{this.contentNode.removeAttribute("aria-label")}},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){if(this._orientation===e){return}this._releaseMouse();this._orientation=e;this.dataset["orientation"]=e;this.contentNode.setAttribute("aria-orientation",e)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(e){if(this._addButtonEnabled===e){return}this._addButtonEnabled=e;if(e){this.addButtonNode.classList.remove("lm-mod-hidden")}else{this.addButtonNode.classList.add("lm-mod-hidden")}},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"titles",{get:function(){return this._titles},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-content")[0]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"addButtonNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]},enumerable:true,configurable:true});t.prototype.addTab=function(e){return this.insertTab(this._titles.length,e)};t.prototype.insertTab=function(e,t){this._releaseMouse();var n=U.asTitle(t);var r=this._titles.indexOf(n);var o=Math.max(0,Math.min(e,this._titles.length));if(r===-1){i.ArrayExt.insert(this._titles,o,n);n.changed.connect(this._onTitleChanged,this);this.update();this._adjustCurrentForInsert(o,n);return n}if(o===this._titles.length){o--}if(r===o){return n}i.ArrayExt.move(this._titles,r,o);this.update();this._adjustCurrentForMove(r,o);return n};t.prototype.removeTab=function(e){this.removeTabAt(this._titles.indexOf(e))};t.prototype.removeTabAt=function(e){this._releaseMouse();var t=i.ArrayExt.removeAt(this._titles,e);if(!t){return}t.changed.disconnect(this._onTitleChanged,this);if(t===this._previousTitle){this._previousTitle=null}this.update();this._adjustCurrentForRemove(e,t)};t.prototype.clearTabs=function(){if(this._titles.length===0){return}this._releaseMouse();for(var e=0,t=this._titles;e<t.length;e++){var n=t[e];n.changed.disconnect(this._onTitleChanged,this)}var i=this.currentIndex;var r=this.currentTitle;this._currentIndex=-1;this._previousTitle=null;this._titles.length=0;this.update();if(i===-1){return}this._currentChanged.emit({previousIndex:i,previousTitle:r,currentIndex:-1,currentTitle:null})};t.prototype.releaseMouse=function(){this._releaseMouse()};t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault();e.stopPropagation();break}};t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this);this.node.addEventListener("dblclick",this)};t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this);this.node.removeEventListener("dblclick",this);this._releaseMouse()};t.prototype.onUpdateRequest=function(e){var t=this._titles;var n=this.renderer;var i=this.currentTitle;var r=new Array(t.length);for(var o=0,a=t.length;o<a;++o){var s=t[o];var u=s===i;var l=u?a:a-o-1;r[o]=n.renderTab({title:s,current:u,zIndex:l})}g.VirtualDOM.render(r,this.contentNode)};t.prototype._evtDblClick=function(e){if(!this.titlesEditable){return}var t=this.contentNode.children;var n=i.ArrayExt.findFirstIndex(t,(function(t){return o.ElementExt.hitTest(t,e.clientX,e.clientY)}));if(n===-1){return}var r=this.titles[n];var a=t[n].querySelector(".lm-TabBar-tabLabel");if(a&&a.contains(e.target)){var s=r.label||"";var u=a.innerHTML;a.innerHTML="";var l=document.createElement("input");l.classList.add("lm-TabBar-tabInput");l.value=s;a.appendChild(l);var c=function(){l.removeEventListener("blur",c);a.innerHTML=u};l.addEventListener("dblclick",(function(e){return e.stopPropagation()}));l.addEventListener("blur",c);l.addEventListener("keydown",(function(e){if(e.key==="Enter"){if(l.value!==""){r.label=r.caption=l.value}c()}else if(e.key==="Escape"){c()}}));l.select();l.focus();if(a.children.length>0){a.children[0].focus()}}};t.prototype._evtKeyDown=function(e){e.preventDefault();e.stopPropagation();if(e.keyCode===27){this._releaseMouse()}};t.prototype._evtMouseDown=function(e){if(e.button!==0&&e.button!==1){return}if(this._dragData){return}var t=this.addButtonEnabled&&this.addButtonNode.contains(e.target);var n=this.contentNode.children;var r=i.ArrayExt.findFirstIndex(n,(function(t){return o.ElementExt.hitTest(t,e.clientX,e.clientY)}));if(r===-1&&!t){return}e.preventDefault();e.stopPropagation();this._dragData={tab:n[r],index:r,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:false,dragAborted:false,detachRequested:false};document.addEventListener("mouseup",this,true);if(e.button===1||t){return}var a=n[r].querySelector(this.renderer.closeIconSelector);if(a&&a.contains(e.target)){return}if(this.tabsMovable){document.addEventListener("mousemove",this,true);document.addEventListener("keydown",this,true);document.addEventListener("contextmenu",this,true)}if(this.allowDeselect&&this.currentIndex===r){this.currentIndex=-1}else{this.currentIndex=r}if(this.currentIndex===-1){return}this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle})};t.prototype._evtMouseMove=function(e){var t=this._dragData;if(!t){return}e.preventDefault();e.stopPropagation();var n=this.contentNode.children;if(!t.dragActive&&!U.dragExceeded(t,e)){return}if(!t.dragActive){var i=t.tab.getBoundingClientRect();if(this._orientation==="horizontal"){t.tabPos=t.tab.offsetLeft;t.tabSize=i.width;t.tabPressPos=t.pressX-i.left}else{t.tabPos=t.tab.offsetTop;t.tabSize=i.height;t.tabPressPos=t.pressY-i.top}t.tabLayout=U.snapTabLayout(n,this._orientation);t.contentRect=this.contentNode.getBoundingClientRect();t.override=E.Drag.overrideCursor("default");t.tab.classList.add("lm-mod-dragging");this.addClass("lm-mod-dragging");t.tab.classList.add("p-mod-dragging");this.addClass("p-mod-dragging");t.dragActive=true}if(!t.detachRequested&&U.detachExceeded(t,e)){t.detachRequested=true;var r=t.index;var o=e.clientX;var a=e.clientY;var s=n[r];var u=this._titles[r];this._tabDetachRequested.emit({index:r,title:u,tab:s,clientX:o,clientY:a});if(t.dragAborted){return}}U.layoutTabs(n,t,e,this._orientation)};t.prototype._evtMouseUp=function(e){var t=this;if(e.button!==0&&e.button!==1){return}var n=this._dragData;if(!n){return}e.preventDefault();e.stopPropagation();document.removeEventListener("mousemove",this,true);document.removeEventListener("mouseup",this,true);document.removeEventListener("keydown",this,true);document.removeEventListener("contextmenu",this,true);if(!n.dragActive){this._dragData=null;var r=this.addButtonEnabled&&this.addButtonNode.contains(e.target);if(r){this._addRequested.emit(undefined);return}var a=this.contentNode.children;var u=i.ArrayExt.findFirstIndex(a,(function(t){return o.ElementExt.hitTest(t,e.clientX,e.clientY)}));if(u!==n.index){return}var l=this._titles[u];if(!l.closable){return}if(e.button===1){this._tabCloseRequested.emit({index:u,title:l});return}var c=a[u].querySelector(this.renderer.closeIconSelector);if(c&&c.contains(e.target)){this._tabCloseRequested.emit({index:u,title:l});return}return}if(e.button!==0){return}U.finalizeTabPosition(n,this._orientation);n.tab.classList.remove("lm-mod-dragging");n.tab.classList.remove("p-mod-dragging");var h=U.parseTransitionDuration(n.tab);setTimeout((function(){if(n.dragAborted){return}t._dragData=null;U.resetTabPositions(t.contentNode.children,t._orientation);n.override.dispose();t.removeClass("lm-mod-dragging");t.removeClass("p-mod-dragging");var e=n.index;var r=n.targetIndex;if(r===-1||e===r){return}i.ArrayExt.move(t._titles,e,r);t._adjustCurrentForMove(e,r);t._tabMoved.emit({fromIndex:e,toIndex:r,title:t._titles[r]});s.MessageLoop.sendMessage(t,P.Msg.UpdateRequest)}),h)};t.prototype._releaseMouse=function(){var e=this._dragData;if(!e){return}this._dragData=null;document.removeEventListener("mousemove",this,true);document.removeEventListener("mouseup",this,true);document.removeEventListener("keydown",this,true);document.removeEventListener("contextmenu",this,true);e.dragAborted=true;if(!e.dragActive){return}U.resetTabPositions(this.contentNode.children,this._orientation);e.override.dispose();e.tab.classList.remove("lm-mod-dragging");this.removeClass("lm-mod-dragging");e.tab.classList.remove("p-mod-dragging");this.removeClass("p-mod-dragging")};t.prototype._adjustCurrentForInsert=function(e,t){var n=this.currentTitle;var i=this._currentIndex;var r=this.insertBehavior;if(r==="select-tab"||r==="select-tab-if-needed"&&i===-1){this._currentIndex=e;this._previousTitle=n;this._currentChanged.emit({previousIndex:i,previousTitle:n,currentIndex:e,currentTitle:t});return}if(i>=e){this._currentIndex++}};t.prototype._adjustCurrentForMove=function(e,t){if(this._currentIndex===e){this._currentIndex=t}else if(this._currentIndex<e&&this._currentIndex>=t){this._currentIndex++}else if(this._currentIndex>e&&this._currentIndex<=t){this._currentIndex--}};t.prototype._adjustCurrentForRemove=function(e,t){var n=this._currentIndex;var i=this.removeBehavior;if(n!==e){if(n>e){this._currentIndex--}return}if(this._titles.length===0){this._currentIndex=-1;this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null});return}if(i==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1);this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(i==="select-tab-before"){this._currentIndex=Math.max(0,e-1);this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(i==="select-previous-tab"){if(this._previousTitle){this._currentIndex=this._titles.indexOf(this._previousTitle);this._previousTitle=null}else{this._currentIndex=Math.min(e,this._titles.length-1)}this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1;this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})};t.prototype._onTitleChanged=function(e){this.update()};return t}(P);(function(e){var t=function(){function e(){this.closeIconSelector=".lm-TabBar-tabCloseIcon";this._tabID=0;this._tabKeys=new WeakMap}e.prototype.renderTab=function(e){var t=e.title.caption;var n=this.createTabKey(e);var i=n;var r=this.createTabStyle(e);var o=this.createTabClass(e);var a=this.createTabDataset(e);var s=this.createTabARIA(e);if(e.title.closable){return g.h.li(D({id:i,key:n,className:o,title:t,style:r,dataset:a},s),this.renderIcon(e),this.renderLabel(e),this.renderCloseIcon(e))}else{return g.h.li(D({id:i,key:n,className:o,title:t,style:r,dataset:a},s),this.renderIcon(e),this.renderLabel(e))}};e.prototype.renderIcon=function(e){var t=e.title;var n=this.createIconClass(e);if(typeof t.icon==="string"){return g.h.div({className:n},t.iconLabel)}return g.h.div({className:n},t.icon,t.iconLabel)};e.prototype.renderLabel=function(e){return g.h.div({className:"lm-TabBar-tabLabel"+" p-TabBar-tabLabel"},e.title.label)};e.prototype.renderCloseIcon=function(e){return g.h.div({className:"lm-TabBar-tabCloseIcon"+" p-TabBar-tabCloseIcon"})};e.prototype.createTabKey=function(e){var t=this._tabKeys.get(e.title);if(t===undefined){t="tab-key-"+this._tabID++;this._tabKeys.set(e.title,t)}return t};e.prototype.createTabStyle=function(e){return{zIndex:""+e.zIndex}};e.prototype.createTabClass=function(e){var t="lm-TabBar-tab";t+=" p-TabBar-tab";if(e.title.className){t+=" "+e.title.className}if(e.title.closable){t+=" lm-mod-closable";t+=" p-mod-closable"}if(e.current){t+=" lm-mod-current";t+=" p-mod-current"}return t};e.prototype.createTabDataset=function(e){return e.title.dataset};e.prototype.createTabARIA=function(e){return{role:"tab","aria-selected":e.current.toString()}};e.prototype.createIconClass=function(e){var t="lm-TabBar-tabIcon";t+=" p-TabBar-tabIcon";var n=e.title.iconClass;return n?t+" "+n:t};return e}();e.Renderer=t;e.defaultRenderer=new t;e.addButtonSelector=".lm-TabBar-addButton"})(X||(X={}));var U;(function(e){e.DRAG_THRESHOLD=5;e.DETACH_THRESHOLD=20;function t(){var e=document.createElement("div");var t=document.createElement("ul");t.setAttribute("role","tablist");t.className="lm-TabBar-content";t.classList.add("p-TabBar-content");e.appendChild(t);var n=document.createElement("div");n.className="lm-TabBar-addButton lm-mod-hidden";e.appendChild(n);return e}e.createNode=t;function n(e){return e instanceof B?e:new B(e)}e.asTitle=n;function r(e){var t=window.getComputedStyle(e);return 1e3*(parseFloat(t.transitionDuration)||0)}e.parseTransitionDuration=r;function o(e,t){var n=new Array(e.length);for(var i=0,r=e.length;i<r;++i){var o=e[i];var a=window.getComputedStyle(o);if(t==="horizontal"){n[i]={pos:o.offsetLeft,size:o.offsetWidth,margin:parseFloat(a.marginLeft)||0}}else{n[i]={pos:o.offsetTop,size:o.offsetHeight,margin:parseFloat(a.marginTop)||0}}}return n}e.snapTabLayout=o;function a(t,n){var i=Math.abs(n.clientX-t.pressX);var r=Math.abs(n.clientY-t.pressY);return i>=e.DRAG_THRESHOLD||r>=e.DRAG_THRESHOLD}e.dragExceeded=a;function s(t,n){var i=t.contentRect;return n.clientX<i.left-e.DETACH_THRESHOLD||n.clientX>=i.right+e.DETACH_THRESHOLD||n.clientY<i.top-e.DETACH_THRESHOLD||n.clientY>=i.bottom+e.DETACH_THRESHOLD}e.detachExceeded=s;function u(e,t,n,i){var r;var o;var a;var s;if(i==="horizontal"){r=t.pressX;o=n.clientX-t.contentRect.left;a=n.clientX;s=t.contentRect.width}else{r=t.pressY;o=n.clientY-t.contentRect.top;a=n.clientY;s=t.contentRect.height}var u=t.index;var l=o-t.tabPressPos;var c=l+t.tabSize;for(var h=0,d=e.length;h<d;++h){var f=void 0;var p=t.tabLayout[h];var m=p.pos+(p.size>>1);if(h<t.index&&l<m){f=t.tabSize+t.tabLayout[h+1].margin+"px";u=Math.min(u,h)}else if(h>t.index&&c>m){f=-t.tabSize-p.margin+"px";u=Math.max(u,h)}else if(h===t.index){var v=a-r;var g=s-(t.tabPos+t.tabSize);f=Math.max(-t.tabPos,Math.min(v,g))+"px"}else{f=""}if(i==="horizontal"){e[h].style.left=f}else{e[h].style.top=f}}t.targetIndex=u}e.layoutTabs=u;function l(e,t){var n;if(t==="horizontal"){n=e.contentRect.width}else{n=e.contentRect.height}var i;if(e.targetIndex===e.index){i=0}else if(e.targetIndex>e.index){var r=e.tabLayout[e.targetIndex];i=r.pos+r.size-e.tabSize-e.tabPos}else{var r=e.tabLayout[e.targetIndex];i=r.pos-e.tabPos}var o=n-(e.tabPos+e.tabSize);var a=Math.max(-e.tabPos,Math.min(i,o));if(t==="horizontal"){e.tab.style.left=a+"px"}else{e.tab.style.top=a+"px"}}e.finalizeTabPosition=l;function c(e,t){(0,i.each)(e,(function(e){if(t==="horizontal"){e.style.left=""}else{e.style.top=""}}))}e.resetTabPositions=c})(U||(U={}));var J=function(e){S(t,e);function t(t){var n=e.call(this)||this;n._spacing=4;n._dirty=false;n._root=null;n._box=null;n._items=new Map;n.renderer=t.renderer;if(t.spacing!==undefined){n._spacing=Z.clampSpacing(t.spacing)}return n}t.prototype.dispose=function(){var t=this.iter();this._items.forEach((function(e){e.dispose()}));this._box=null;this._root=null;this._items.clear();(0,i.each)(t,(function(e){e.dispose()}));e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=Z.clampSpacing(e);if(this._spacing===e){return}this._spacing=e;if(!this.parent){return}this.parent.fit()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._root===null},enumerable:true,configurable:true});t.prototype.iter=function(){return this._root?this._root.iterAllWidgets():(0,i.empty)()};t.prototype.widgets=function(){return this._root?this._root.iterUserWidgets():(0,i.empty)()};t.prototype.selectedWidgets=function(){return this._root?this._root.iterSelectedWidgets():(0,i.empty)()};t.prototype.tabBars=function(){return this._root?this._root.iterTabBars():(0,i.empty)()};t.prototype.handles=function(){return this._root?this._root.iterHandles():(0,i.empty)()};t.prototype.moveHandle=function(e,t,n){var i=e.classList.contains("lm-mod-hidden");i=i||e.classList.contains("p-mod-hidden");if(!this._root||i){return}var r=this._root.findSplitNode(e);if(!r){return}var o;if(r.node.orientation==="horizontal"){o=t-e.offsetLeft}else{o=n-e.offsetTop}if(o===0){return}r.node.holdSizes();x.adjust(r.node.sizers,r.index,o);if(this.parent){this.parent.update()}};t.prototype.saveLayout=function(){if(!this._root){return{main:null}}this._root.holdAllSizes();return{main:this._root.createConfig()}};t.prototype.restoreLayout=function(e){var t=this;var n=new Set;var r;if(e.main){r=Z.normalizeAreaConfig(e.main,n)}else{r=null}var o=this.widgets();var a=this.tabBars();var s=this.handles();this._root=null;(0,i.each)(o,(function(e){if(!n.has(e)){e.parent=null}}));(0,i.each)(a,(function(e){e.dispose()}));(0,i.each)(s,(function(e){if(e.parentNode){e.parentNode.removeChild(e)}}));n.forEach((function(e){e.parent=t.parent}));if(r){this._root=Z.realizeAreaConfig(r,{createTabBar:function(){return t._createTabBar()},createHandle:function(){return t._createHandle()}})}else{this._root=null}if(!this.parent){return}n.forEach((function(e){t.attachWidget(e)}));this.parent.fit()};t.prototype.addWidget=function(e,t){if(t===void 0){t={}}var n=t.ref||null;var i=t.mode||"tab-after";var r=null;if(this._root&&n){r=this._root.findTabNode(n)}if(n&&!r){throw new Error("Reference widget is not in the layout.")}e.parent=this.parent;switch(i){case"tab-after":this._insertTab(e,n,r,true);break;case"tab-before":this._insertTab(e,n,r,false);break;case"split-top":this._insertSplit(e,n,r,"vertical",false);break;case"split-left":this._insertSplit(e,n,r,"horizontal",false);break;case"split-right":this._insertSplit(e,n,r,"horizontal",true);break;case"split-bottom":this._insertSplit(e,n,r,"vertical",true);break}if(!this.parent){return}this.attachWidget(e);this.parent.fit()};t.prototype.removeWidget=function(e){this._removeWidget(e);if(!this.parent){return}this.detachWidget(e);this.parent.fit()};t.prototype.hitTestTabAreas=function(e,t){if(!this._root||!this.parent||!this.parent.isVisible){return null}if(!this._box){this._box=o.ElementExt.boxSizing(this.parent.node)}var n=this.parent.node.getBoundingClientRect();var i=e-n.left-this._box.borderLeft;var r=t-n.top-this._box.borderTop;var a=this._root.hitTestTabNodes(i,r);if(!a){return null}var s=a.tabBar,u=a.top,l=a.left,c=a.width,h=a.height;var d=this._box.borderLeft+this._box.borderRight;var f=this._box.borderTop+this._box.borderBottom;var p=n.width-d-(l+c);var m=n.height-f-(u+h);return{tabBar:s,x:i,y:r,top:u,left:l,right:p,bottom:m,width:c,height:h}};t.prototype.init=function(){var t=this;e.prototype.init.call(this);(0,i.each)(this,(function(e){t.attachWidget(e)}));(0,i.each)(this.handles(),(function(e){t.parent.node.appendChild(e)}));this.parent.fit()};t.prototype.attachWidget=function(e){if(this.parent.node===e.node.parentNode){return}this._items.set(e,new R(e));if(this.parent.isAttached){s.MessageLoop.sendMessage(e,P.Msg.BeforeAttach)}this.parent.node.appendChild(e.node);if(this.parent.isAttached){s.MessageLoop.sendMessage(e,P.Msg.AfterAttach)}};t.prototype.detachWidget=function(e){if(this.parent.node!==e.node.parentNode){return}if(this.parent.isAttached){s.MessageLoop.sendMessage(e,P.Msg.BeforeDetach)}this.parent.node.removeChild(e.node);if(this.parent.isAttached){s.MessageLoop.sendMessage(e,P.Msg.AfterDetach)}var t=this._items.get(e);if(t){this._items.delete(e);t.dispose()}};t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t);this.parent.update()};t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t);this.parent.fit()};t.prototype.onChildShown=function(e){this.parent.fit()};t.prototype.onChildHidden=function(e){this.parent.fit()};t.prototype.onResize=function(e){if(this.parent.isVisible){this._update(e.width,e.height)}};t.prototype.onUpdateRequest=function(e){if(this.parent.isVisible){this._update(-1,-1)}};t.prototype.onFitRequest=function(e){if(this.parent.isAttached){this._fit()}};t.prototype._removeWidget=function(e){if(!this._root){return}var t=this._root.findTabNode(e);if(!t){return}Z.removeAria(e);if(t.tabBar.titles.length>1){t.tabBar.removeTab(e.title);return}t.tabBar.dispose();if(this._root===t){this._root=null;return}this._root.holdAllSizes();var n=t.parent;t.parent=null;var r=i.ArrayExt.removeFirstOf(n.children,t);var o=i.ArrayExt.removeAt(n.handles,r);i.ArrayExt.removeAt(n.sizers,r);if(o.parentNode){o.parentNode.removeChild(o)}if(n.children.length>1){n.syncHandles();return}var a=n.parent;n.parent=null;var s=n.children[0];var u=n.handles[0];n.children.length=0;n.handles.length=0;n.sizers.length=0;if(u.parentNode){u.parentNode.removeChild(u)}if(this._root===n){s.parent=null;this._root=s;return}var l=a;var c=l.children.indexOf(n);if(s instanceof Z.TabLayoutNode){s.parent=l;l.children[c]=s;return}var h=i.ArrayExt.removeAt(l.handles,c);i.ArrayExt.removeAt(l.children,c);i.ArrayExt.removeAt(l.sizers,c);if(h.parentNode){h.parentNode.removeChild(h)}for(var d=0,f=s.children.length;d<f;++d){var p=s.children[d];var m=s.handles[d];var v=s.sizers[d];i.ArrayExt.insert(l.children,c+d,p);i.ArrayExt.insert(l.handles,c+d,m);i.ArrayExt.insert(l.sizers,c+d,v);p.parent=l}s.children.length=0;s.handles.length=0;s.sizers.length=0;s.parent=null;l.syncHandles()};t.prototype._insertTab=function(e,t,n,i){if(e===t){return}if(!this._root){var r=new Z.TabLayoutNode(this._createTabBar());r.tabBar.addTab(e.title);this._root=r;Z.addAria(e,r.tabBar);return}if(!n){n=this._root.findFirstTabNode()}if(n.tabBar.titles.indexOf(e.title)===-1){this._removeWidget(e);e.hide()}var o;if(t){o=n.tabBar.titles.indexOf(t.title)}else{o=n.tabBar.currentIndex}n.tabBar.insertTab(o+(i?1:0),e.title);Z.addAria(e,n.tabBar)};t.prototype._insertSplit=function(e,t,n,r,o){if(e===t&&n&&n.tabBar.titles.length===1){return}this._removeWidget(e);var a=new Z.TabLayoutNode(this._createTabBar());a.tabBar.addTab(e.title);Z.addAria(e,a.tabBar);if(!this._root){this._root=a;return}if(!n||!n.parent){var s=this._splitRoot(r);var u=o?s.children.length:0;s.normalizeSizes();var l=Z.createSizer(n?1:Z.GOLDEN_RATIO);i.ArrayExt.insert(s.children,u,a);i.ArrayExt.insert(s.sizers,u,l);i.ArrayExt.insert(s.handles,u,this._createHandle());a.parent=s;s.normalizeSizes();s.syncHandles();return}var c=n.parent;if(c.orientation===r){var h=c.children.indexOf(n);c.normalizeSizes();var d=c.sizers[h].sizeHint/=2;var f=h+(o?1:0);i.ArrayExt.insert(c.children,f,a);i.ArrayExt.insert(c.sizers,f,Z.createSizer(d));i.ArrayExt.insert(c.handles,f,this._createHandle());a.parent=c;c.syncHandles();return}var p=i.ArrayExt.removeFirstOf(c.children,n);var m=new Z.SplitLayoutNode(r);m.normalized=true;m.children.push(n);m.sizers.push(Z.createSizer(.5));m.handles.push(this._createHandle());n.parent=m;var v=o?1:0;i.ArrayExt.insert(m.children,v,a);i.ArrayExt.insert(m.sizers,v,Z.createSizer(.5));i.ArrayExt.insert(m.handles,v,this._createHandle());a.parent=m;m.syncHandles();i.ArrayExt.insert(c.children,p,m);m.parent=c};t.prototype._splitRoot=function(e){var t=this._root;if(t instanceof Z.SplitLayoutNode){if(t.orientation===e){return t}}var n=this._root=new Z.SplitLayoutNode(e);if(t){n.children.push(t);n.sizers.push(Z.createSizer(0));n.handles.push(this._createHandle());t.parent=n}return n};t.prototype._fit=function(){var e=0;var t=0;if(this._root){var n=this._root.fit(this._spacing,this._items);e=n.minWidth;t=n.minHeight}var i=this._box=o.ElementExt.boxSizing(this.parent.node);e+=i.horizontalSum;t+=i.verticalSum;var r=this.parent.node.style;r.minWidth=e+"px";r.minHeight=t+"px";this._dirty=true;if(this.parent.parent){s.MessageLoop.sendMessage(this.parent.parent,P.Msg.FitRequest)}if(this._dirty){s.MessageLoop.sendMessage(this.parent,P.Msg.UpdateRequest)}};t.prototype._update=function(e,t){this._dirty=false;if(!this._root){return}if(e<0){e=this.parent.node.offsetWidth}if(t<0){t=this.parent.node.offsetHeight}if(!this._box){this._box=o.ElementExt.boxSizing(this.parent.node)}var n=this._box.paddingTop;var i=this._box.paddingLeft;var r=e-this._box.horizontalSum;var a=t-this._box.verticalSum;this._root.update(n,i,r,a,this._spacing,this._items)};t.prototype._createTabBar=function(){var e=this.renderer.createTabBar();e.orientation="horizontal";if(this.parent){e.parent=this.parent;this.attachWidget(e)}return e};t.prototype._createHandle=function(){var e=this.renderer.createHandle();var t=e.style;t.position="absolute";t.top="0";t.left="0";t.width="0";t.height="0";if(this.parent){this.parent.node.appendChild(e)}return e};return t}(z);var Z;(function(e){e.GOLDEN_RATIO=.618;function t(e){return Math.max(0,Math.floor(e))}e.clampSpacing=t;function n(e){var t=new C;t.sizeHint=e;t.size=e;return t}e.createSizer=n;function r(e,t){var n;if(e.type==="tab-area"){n=c(e,t)}else{n=h(e,t)}return n}e.normalizeAreaConfig=r;function o(e,t){var n;if(e.type==="tab-area"){n=d(e,t)}else{n=f(e,t)}return n}e.realizeAreaConfig=o;var a=function(){function e(e){this.parent=null;this._top=0;this._left=0;this._width=0;this._height=0;var t=new C;var n=new C;t.stretch=0;n.stretch=1;this.tabBar=e;this.sizers=[t,n]}Object.defineProperty(e.prototype,"top",{get:function(){return this._top},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"left",{get:function(){return this._left},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:true,configurable:true});e.prototype.iterAllWidgets=function(){return(0,i.chain)((0,i.once)(this.tabBar),this.iterUserWidgets())};e.prototype.iterUserWidgets=function(){return(0,i.map)(this.tabBar.titles,(function(e){return e.owner}))};e.prototype.iterSelectedWidgets=function(){var e=this.tabBar.currentTitle;return e?(0,i.once)(e.owner):(0,i.empty)()};e.prototype.iterTabBars=function(){return(0,i.once)(this.tabBar)};e.prototype.iterHandles=function(){return(0,i.empty)()};e.prototype.findTabNode=function(e){return this.tabBar.titles.indexOf(e.title)!==-1?this:null};e.prototype.findSplitNode=function(e){return null};e.prototype.findFirstTabNode=function(){return this};e.prototype.hitTestTabNodes=function(e,t){if(e<this._left||e>=this._left+this._width){return null}if(t<this._top||t>=this._top+this._height){return null}return this};e.prototype.createConfig=function(){var e=this.tabBar.titles.map((function(e){return e.owner}));var t=this.tabBar.currentIndex;return{type:"tab-area",widgets:e,currentIndex:t}};e.prototype.holdAllSizes=function(){return};e.prototype.fit=function(e,t){var n=0;var i=0;var r=Infinity;var o=Infinity;var a=t.get(this.tabBar);var s=this.tabBar.currentTitle;var u=s?t.get(s.owner):undefined;var l=this.sizers,c=l[0],h=l[1];if(a){a.fit()}if(u){u.fit()}if(a&&!a.isHidden){n=Math.max(n,a.minWidth);i+=a.minHeight;c.minSize=a.minHeight;c.maxSize=a.maxHeight}else{c.minSize=0;c.maxSize=0}if(u&&!u.isHidden){n=Math.max(n,u.minWidth);i+=u.minHeight;h.minSize=u.minHeight;h.maxSize=Infinity}else{h.minSize=0;h.maxSize=Infinity}return{minWidth:n,minHeight:i,maxWidth:r,maxHeight:o}};e.prototype.update=function(e,t,n,i,r,o){this._top=t;this._left=e;this._width=n;this._height=i;var a=o.get(this.tabBar);var s=this.tabBar.currentTitle;var u=s?o.get(s.owner):undefined;x.calc(this.sizers,i);if(a&&!a.isHidden){var l=this.sizers[0].size;a.update(e,t,n,l);t+=l}if(u&&!u.isHidden){var l=this.sizers[1].size;u.update(e,t,n,l)}};return e}();e.TabLayoutNode=a;var s=function(){function e(e){this.parent=null;this.normalized=false;this.children=[];this.sizers=[];this.handles=[];this.orientation=e}e.prototype.iterAllWidgets=function(){var e=(0,i.map)(this.children,(function(e){return e.iterAllWidgets()}));return new i.ChainIterator(e)};e.prototype.iterUserWidgets=function(){var e=(0,i.map)(this.children,(function(e){return e.iterUserWidgets()}));return new i.ChainIterator(e)};e.prototype.iterSelectedWidgets=function(){var e=(0,i.map)(this.children,(function(e){return e.iterSelectedWidgets()}));return new i.ChainIterator(e)};e.prototype.iterTabBars=function(){var e=(0,i.map)(this.children,(function(e){return e.iterTabBars()}));return new i.ChainIterator(e)};e.prototype.iterHandles=function(){var e=(0,i.map)(this.children,(function(e){return e.iterHandles()}));return(0,i.chain)(this.handles,new i.ChainIterator(e))};e.prototype.findTabNode=function(e){for(var t=0,n=this.children.length;t<n;++t){var i=this.children[t].findTabNode(e);if(i){return i}}return null};e.prototype.findSplitNode=function(e){var t=this.handles.indexOf(e);if(t!==-1){return{index:t,node:this}}for(var n=0,i=this.children.length;n<i;++n){var r=this.children[n].findSplitNode(e);if(r){return r}}return null};e.prototype.findFirstTabNode=function(){if(this.children.length===0){return null}return this.children[0].findFirstTabNode()};e.prototype.hitTestTabNodes=function(e,t){for(var n=0,i=this.children.length;n<i;++n){var r=this.children[n].hitTestTabNodes(e,t);if(r){return r}}return null};e.prototype.createConfig=function(){var e=this.orientation;var t=this.createNormalizedSizes();var n=this.children.map((function(e){return e.createConfig()}));return{type:"split-area",orientation:e,children:n,sizes:t}};e.prototype.syncHandles=function(){var e=this;(0,i.each)(this.handles,(function(t,n){t.setAttribute("data-orientation",e.orientation);if(n===e.handles.length-1){t.classList.add("lm-mod-hidden");t.classList.add("p-mod-hidden")}else{t.classList.remove("lm-mod-hidden");t.classList.remove("p-mod-hidden")}}))};e.prototype.holdSizes=function(){(0,i.each)(this.sizers,(function(e){e.sizeHint=e.size}))};e.prototype.holdAllSizes=function(){(0,i.each)(this.children,(function(e){return e.holdAllSizes()}));this.holdSizes()};e.prototype.normalizeSizes=function(){var e=this.sizers.length;if(e===0){return}this.holdSizes();var t=(0,i.reduce)(this.sizers,(function(e,t){return e+t.sizeHint}),0);if(t===0){(0,i.each)(this.sizers,(function(t){t.size=t.sizeHint=1/e}))}else{(0,i.each)(this.sizers,(function(e){e.size=e.sizeHint/=t}))}this.normalized=true};e.prototype.createNormalizedSizes=function(){var e=this.sizers.length;if(e===0){return[]}var t=this.sizers.map((function(e){return e.size}));var n=(0,i.reduce)(t,(function(e,t){return e+t}),0);if(n===0){(0,i.each)(t,(function(n,i){t[i]=1/e}))}else{(0,i.each)(t,(function(e,i){t[i]=e/n}))}return t};e.prototype.fit=function(e,t){var n=this.orientation==="horizontal";var i=Math.max(0,this.children.length-1)*e;var r=n?i:0;var o=n?0:i;var a=Infinity;var s=Infinity;for(var u=0,l=this.children.length;u<l;++u){var c=this.children[u].fit(e,t);if(n){o=Math.max(o,c.minHeight);r+=c.minWidth;this.sizers[u].minSize=c.minWidth}else{r=Math.max(r,c.minWidth);o+=c.minHeight;this.sizers[u].minSize=c.minHeight}}return{minWidth:r,minHeight:o,maxWidth:a,maxHeight:s}};e.prototype.update=function(e,t,n,r,o,a){var s=this.orientation==="horizontal";var u=Math.max(0,this.children.length-1)*o;var l=Math.max(0,(s?n:r)-u);if(this.normalized){(0,i.each)(this.sizers,(function(e){e.sizeHint*=l}));this.normalized=false}x.calc(this.sizers,l);for(var c=0,h=this.children.length;c<h;++c){var d=this.children[c];var f=this.sizers[c].size;var p=this.handles[c].style;if(s){d.update(e,t,f,r,o,a);e+=f;p.top=t+"px";p.left=e+"px";p.width=o+"px";p.height=r+"px";e+=o}else{d.update(e,t,n,f,o,a);t+=f;p.top=t+"px";p.left=e+"px";p.width=n+"px";p.height=o+"px";t+=o}}};return e}();e.SplitLayoutNode=s;function u(e,t){e.node.setAttribute("role","tabpanel");var n=t.renderer;if(n instanceof X.Renderer){var i=n.createTabKey({title:e.title,current:false,zIndex:0});e.node.setAttribute("aria-labelledby",i)}}e.addAria=u;function l(e){e.node.removeAttribute("role");e.node.removeAttribute("aria-labelledby")}e.removeAria=l;function c(e,t){if(e.widgets.length===0){return null}var n=[];(0,i.each)(e.widgets,(function(e){if(!t.has(e)){t.add(e);n.push(e)}}));if(n.length===0){return null}var r=e.currentIndex;if(r!==-1&&(r<0||r>=n.length)){r=0}return{type:"tab-area",widgets:n,currentIndex:r}}function h(e,t){var n=e.orientation;var i=[];var o=[];for(var a=0,s=e.children.length;a<s;++a){var u=r(e.children[a],t);if(!u){continue}if(u.type==="tab-area"||u.orientation!==n){i.push(u);o.push(Math.abs(e.sizes[a]||0))}else{i.push.apply(i,u.children);o.push.apply(o,u.sizes)}}if(i.length===0){return null}if(i.length===1){return i[0]}return{type:"split-area",orientation:n,children:i,sizes:o}}function d(t,n){var r=n.createTabBar();(0,i.each)(t.widgets,(function(t){t.hide();r.addTab(t.title);e.addAria(t,r)}));r.currentIndex=t.currentIndex;return new a(r)}function f(e,t){var r=new s(e.orientation);(0,i.each)(e.children,(function(i,a){var s=o(i,t);var u=n(e.sizes[a]);var l=t.createHandle();r.children.push(s);r.handles.push(l);r.sizers.push(u);s.parent=r}));r.syncHandles();r.normalizeSizes();return r}})(Z||(Z={}));var Q=function(e){S(t,e);function t(n){if(n===void 0){n={}}var i=e.call(this)||this;i._drag=null;i._tabsMovable=true;i._tabsConstrained=false;i._addButtonEnabled=false;i._pressData=null;i._layoutModified=new h.Signal(i);i._addRequested=new h.Signal(i);i.addClass("lm-DockPanel");i.addClass("p-DockPanel");i._mode=n.mode||"multiple-document";i._renderer=n.renderer||t.defaultRenderer;i._edges=n.edges||$.DEFAULT_EDGES;if(n.tabsMovable!==undefined){i._tabsMovable=n.tabsMovable}if(n.tabsConstrained!==undefined){i._tabsConstrained=n.tabsConstrained}if(n.addButtonEnabled!==undefined){i._addButtonEnabled=n.addButtonEnabled}i.dataset["mode"]=i._mode;var r={createTabBar:function(){return i._createTabBar()},createHandle:function(){return i._createHandle()}};i.layout=new J({renderer:r,spacing:n.spacing});i.overlay=n.overlay||new t.Overlay;i.node.appendChild(i.overlay.node);return i}t.prototype.dispose=function(){this._releaseMouse();this.overlay.hide(0);if(this._drag){this._drag.dispose()}e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"layoutModified",{get:function(){return this._layoutModified},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(e){if(this._mode===e){return}this._mode=e;this.dataset["mode"]=e;var t=this.layout;switch(e){case"multiple-document":(0,i.each)(t.tabBars(),(function(e){e.show()}));break;case"single-document":t.restoreLayout($.createSingleDocumentConfig(this));break;default:throw"unreachable"}s.MessageLoop.postMessage(this,$.LayoutModified)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(e){this._tabsMovable=e;(0,i.each)(this.tabBars(),(function(t){t.tabsMovable=e}))},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"tabsConstrained",{get:function(){return this._tabsConstrained},set:function(e){this._tabsConstrained=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(e){this._addButtonEnabled=e;(0,i.each)(this.tabBars(),(function(t){t.addButtonEnabled=e}))},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.layout.isEmpty},enumerable:true,configurable:true});t.prototype.widgets=function(){return this.layout.widgets()};t.prototype.selectedWidgets=function(){return this.layout.selectedWidgets()};t.prototype.tabBars=function(){return this.layout.tabBars()};t.prototype.handles=function(){return this.layout.handles()};t.prototype.selectWidget=function(e){var t=(0,i.find)(this.tabBars(),(function(t){return t.titles.indexOf(e.title)!==-1}));if(!t){throw new Error("Widget is not contained in the dock panel.")}t.currentTitle=e.title};t.prototype.activateWidget=function(e){this.selectWidget(e);e.activate()};t.prototype.saveLayout=function(){return this.layout.saveLayout()};t.prototype.restoreLayout=function(e){this._mode="multiple-document";this.layout.restoreLayout(e);if(o.Platform.IS_EDGE||o.Platform.IS_IE){s.MessageLoop.flush()}s.MessageLoop.postMessage(this,$.LayoutModified)};t.prototype.addWidget=function(e,t){if(t===void 0){t={}}if(this._mode==="single-document"){this.layout.addWidget(e)}else{this.layout.addWidget(e,t)}s.MessageLoop.postMessage(this,$.LayoutModified)};t.prototype.processMessage=function(t){if(t.type==="layout-modified"){this._layoutModified.emit(undefined)}else{e.prototype.processMessage.call(this,t)}};t.prototype.handleEvent=function(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault();e.stopPropagation();break}};t.prototype.onBeforeAttach=function(e){this.node.addEventListener("lm-dragenter",this);this.node.addEventListener("lm-dragleave",this);this.node.addEventListener("lm-dragover",this);this.node.addEventListener("lm-drop",this);this.node.addEventListener("mousedown",this)};t.prototype.onAfterDetach=function(e){this.node.removeEventListener("lm-dragenter",this);this.node.removeEventListener("lm-dragleave",this);this.node.removeEventListener("lm-dragover",this);this.node.removeEventListener("lm-drop",this);this.node.removeEventListener("mousedown",this);this._releaseMouse()};t.prototype.onChildAdded=function(e){if($.isGeneratedTabBarProperty.get(e.child)){return}e.child.addClass("lm-DockPanel-widget");e.child.addClass("p-DockPanel-widget")};t.prototype.onChildRemoved=function(e){if($.isGeneratedTabBarProperty.get(e.child)){return}e.child.removeClass("lm-DockPanel-widget");e.child.removeClass("p-DockPanel-widget");s.MessageLoop.postMessage(this,$.LayoutModified)};t.prototype._evtDragEnter=function(e){if(e.mimeData.hasData("application/vnd.lumino.widget-factory")){e.preventDefault();e.stopPropagation()}};t.prototype._evtDragLeave=function(e){e.preventDefault();e.stopPropagation();this.overlay.hide(1)};t.prototype._evtDragOver=function(e){e.preventDefault();e.stopPropagation();if(this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"){e.dropAction="none"}else{e.dropAction=e.proposedAction}};t.prototype._evtDrop=function(e){e.preventDefault();e.stopPropagation();this.overlay.hide(0);if(e.proposedAction==="none"){e.dropAction="none";return}var t=e.clientX,n=e.clientY;var i=$.findDropTarget(this,t,n,this._edges),r=i.zone,o=i.target;if(r==="invalid"){e.dropAction="none";return}var a=e.mimeData;var s=a.getData("application/vnd.lumino.widget-factory");if(typeof s!=="function"){e.dropAction="none";return}var u=s();if(!(u instanceof P)){e.dropAction="none";return}if(u.contains(this)){e.dropAction="none";return}var l=o?$.getDropRef(o.tabBar):null;switch(r){case"root-all":this.addWidget(u);break;case"root-top":this.addWidget(u,{mode:"split-top"});break;case"root-left":this.addWidget(u,{mode:"split-left"});break;case"root-right":this.addWidget(u,{mode:"split-right"});break;case"root-bottom":this.addWidget(u,{mode:"split-bottom"});break;case"widget-all":this.addWidget(u,{mode:"tab-after",ref:l});break;case"widget-top":this.addWidget(u,{mode:"split-top",ref:l});break;case"widget-left":this.addWidget(u,{mode:"split-left",ref:l});break;case"widget-right":this.addWidget(u,{mode:"split-right",ref:l});break;case"widget-bottom":this.addWidget(u,{mode:"split-bottom",ref:l});break;case"widget-tab":this.addWidget(u,{mode:"tab-after",ref:l});break;default:throw"unreachable"}e.dropAction=e.proposedAction;this.activateWidget(u)};t.prototype._evtKeyDown=function(e){e.preventDefault();e.stopPropagation();if(e.keyCode===27){this._releaseMouse();s.MessageLoop.postMessage(this,$.LayoutModified)}};t.prototype._evtMouseDown=function(e){if(e.button!==0){return}var t=this.layout;var n=e.target;var r=(0,i.find)(t.handles(),(function(e){return e.contains(n)}));if(!r){return}e.preventDefault();e.stopPropagation();document.addEventListener("keydown",this,true);document.addEventListener("mouseup",this,true);document.addEventListener("mousemove",this,true);document.addEventListener("contextmenu",this,true);var o=r.getBoundingClientRect();var a=e.clientX-o.left;var s=e.clientY-o.top;var u=window.getComputedStyle(r);var l=E.Drag.overrideCursor(u.cursor);this._pressData={handle:r,deltaX:a,deltaY:s,override:l}};t.prototype._evtMouseMove=function(e){if(!this._pressData){return}e.preventDefault();e.stopPropagation();var t=this.node.getBoundingClientRect();var n=e.clientX-t.left-this._pressData.deltaX;var i=e.clientY-t.top-this._pressData.deltaY;var r=this.layout;r.moveHandle(this._pressData.handle,n,i)};t.prototype._evtMouseUp=function(e){if(e.button!==0){return}e.preventDefault();e.stopPropagation();this._releaseMouse();s.MessageLoop.postMessage(this,$.LayoutModified)};t.prototype._releaseMouse=function(){if(!this._pressData){return}this._pressData.override.dispose();this._pressData=null;document.removeEventListener("keydown",this,true);document.removeEventListener("mouseup",this,true);document.removeEventListener("mousemove",this,true);document.removeEventListener("contextmenu",this,true)};t.prototype._showOverlay=function(e,t){var n=$.findDropTarget(this,e,t,this._edges),i=n.zone,r=n.target;if(i==="invalid"){this.overlay.hide(100);return i}var a;var s;var u;var l;var c=o.ElementExt.boxSizing(this.node);var h=this.node.getBoundingClientRect();switch(i){case"root-all":a=c.paddingTop;s=c.paddingLeft;u=c.paddingRight;l=c.paddingBottom;break;case"root-top":a=c.paddingTop;s=c.paddingLeft;u=c.paddingRight;l=h.height*$.GOLDEN_RATIO;break;case"root-left":a=c.paddingTop;s=c.paddingLeft;u=h.width*$.GOLDEN_RATIO;l=c.paddingBottom;break;case"root-right":a=c.paddingTop;s=h.width*$.GOLDEN_RATIO;u=c.paddingRight;l=c.paddingBottom;break;case"root-bottom":a=h.height*$.GOLDEN_RATIO;s=c.paddingLeft;u=c.paddingRight;l=c.paddingBottom;break;case"widget-all":a=r.top;s=r.left;u=r.right;l=r.bottom;break;case"widget-top":a=r.top;s=r.left;u=r.right;l=r.bottom+r.height/2;break;case"widget-left":a=r.top;s=r.left;u=r.right+r.width/2;l=r.bottom;break;case"widget-right":a=r.top;s=r.left+r.width/2;u=r.right;l=r.bottom;break;case"widget-bottom":a=r.top+r.height/2;s=r.left;u=r.right;l=r.bottom;break;case"widget-tab":var d=r.tabBar.node.getBoundingClientRect().height;a=r.top;s=r.left;u=r.right;l=r.bottom+r.height-d;break;default:throw"unreachable"}this.overlay.show({top:a,left:s,right:u,bottom:l});return i};t.prototype._createTabBar=function(){var e=this._renderer.createTabBar();$.isGeneratedTabBarProperty.set(e,true);if(this._mode==="single-document"){e.hide()}e.tabsMovable=this._tabsMovable;e.allowDeselect=false;e.addButtonEnabled=this._addButtonEnabled;e.removeBehavior="select-previous-tab";e.insertBehavior="select-tab-if-needed";e.tabMoved.connect(this._onTabMoved,this);e.currentChanged.connect(this._onCurrentChanged,this);e.tabCloseRequested.connect(this._onTabCloseRequested,this);e.tabDetachRequested.connect(this._onTabDetachRequested,this);e.tabActivateRequested.connect(this._onTabActivateRequested,this);e.addRequested.connect(this._onTabAddRequested,this);return e};t.prototype._createHandle=function(){return this._renderer.createHandle()};t.prototype._onTabMoved=function(){s.MessageLoop.postMessage(this,$.LayoutModified)};t.prototype._onCurrentChanged=function(e,t){var n=t.previousTitle,i=t.currentTitle;if(n){n.owner.hide()}if(i){i.owner.show()}if(o.Platform.IS_EDGE||o.Platform.IS_IE){s.MessageLoop.flush()}s.MessageLoop.postMessage(this,$.LayoutModified)};t.prototype._onTabAddRequested=function(e){this._addRequested.emit(e)};t.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()};t.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()};t.prototype._onTabDetachRequested=function(e,t){var n=this;if(this._drag){return}e.releaseMouse();var i=t.title,r=t.tab,o=t.clientX,a=t.clientY;var s=new f.MimeData;var u=function(){return i.owner};s.setData("application/vnd.lumino.widget-factory",u);var l=r.cloneNode(true);this._drag=new E.Drag({mimeData:s,dragImage:l,proposedAction:"move",supportedActions:"move",source:this});r.classList.add("lm-mod-hidden");r.classList.add("p-mod-hidden");var c=function(){n._drag=null;r.classList.remove("lm-mod-hidden");r.classList.remove("p-mod-hidden")};this._drag.start(o,a).then(c)};return t}(P);(function(e){var t=function(){function e(){this._timer=-1;this._hidden=true;this.node=document.createElement("div");this.node.classList.add("lm-DockPanel-overlay");this.node.classList.add("lm-mod-hidden");this.node.classList.add("p-DockPanel-overlay");this.node.classList.add("p-mod-hidden");this.node.style.position="absolute"}e.prototype.show=function(e){var t=this.node.style;t.top=e.top+"px";t.left=e.left+"px";t.right=e.right+"px";t.bottom=e.bottom+"px";clearTimeout(this._timer);this._timer=-1;if(!this._hidden){return}this._hidden=false;this.node.classList.remove("lm-mod-hidden");this.node.classList.remove("p-mod-hidden")};e.prototype.hide=function(e){var t=this;if(this._hidden){return}if(e<=0){clearTimeout(this._timer);this._timer=-1;this._hidden=true;this.node.classList.add("lm-mod-hidden");this.node.classList.add("p-mod-hidden");return}if(this._timer!==-1){return}this._timer=window.setTimeout((function(){t._timer=-1;t._hidden=true;t.node.classList.add("lm-mod-hidden");t.node.classList.add("p-mod-hidden")}),e)};return e}();e.Overlay=t;var n=function(){function e(){}e.prototype.createTabBar=function(){var e=new X;e.addClass("lm-DockPanel-tabBar");e.addClass("p-DockPanel-tabBar");return e};e.prototype.createHandle=function(){var e=document.createElement("div");e.className="lm-DockPanel-handle";e.classList.add("p-DockPanel-handle");return e};return e}();e.Renderer=n;e.defaultRenderer=new n})(Q||(Q={}));var $;(function(e){e.GOLDEN_RATIO=.618;e.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40};e.LayoutModified=new s.ConflatableMessage("layout-modified");e.isGeneratedTabBarProperty=new l.AttachedProperty({name:"isGeneratedTabBar",create:function(){return false}});function t(e){if(e.isEmpty){return{main:null}}var t=(0,i.toArray)(e.widgets());var n=e.selectedWidgets().next();var r=n?t.indexOf(n):-1;return{main:{type:"tab-area",widgets:t,currentIndex:r}}}e.createSingleDocumentConfig=t;function n(e,t,n,i){if(!o.ElementExt.hitTest(e.node,t,n)){return{zone:"invalid",target:null}}var r=e.layout;if(r.isEmpty){return{zone:"root-all",target:null}}if(e.mode==="multiple-document"){var a=e.node.getBoundingClientRect();var s=t-a.left+1;var u=n-a.top+1;var l=a.right-t;var c=a.bottom-n;var h=Math.min(u,l,c,s);switch(h){case u:if(u<i.top){return{zone:"root-top",target:null}}break;case l:if(l<i.right){return{zone:"root-right",target:null}}break;case c:if(c<i.bottom){return{zone:"root-bottom",target:null}}break;case s:if(s<i.left){return{zone:"root-left",target:null}}break;default:throw"unreachable"}}var d=r.hitTestTabAreas(t,n);if(!d){return{zone:"invalid",target:null}}if(e.mode==="single-document"){return{zone:"widget-all",target:d}}var f=d.x-d.left+1;var p=d.y-d.top+1;var m=d.left+d.width-d.x;var v=d.top+d.height-d.y;var g=d.tabBar.node.getBoundingClientRect().height;if(p<g){return{zone:"widget-tab",target:d}}var _=Math.round(d.width/3);var y=Math.round(d.height/3);if(f>_&&m>_&&p>y&&v>y){return{zone:"widget-all",target:d}}f/=_;p/=y;m/=_;v/=y;var b=Math.min(f,p,m,v);var A;switch(b){case f:A="widget-left";break;case p:A="widget-top";break;case m:A="widget-right";break;case v:A="widget-bottom";break;default:throw"unreachable"}return{zone:A,target:d}}e.findDropTarget=n;function r(e){if(e.titles.length===0){return null}if(e.currentTitle){return e.currentTitle.owner}return e.titles[e.titles.length-1].owner}e.getDropRef=r})($||($={}));var ee=function(){function e(){this._counter=0;this._widgets=[];this._activeWidget=null;this._currentWidget=null;this._numbers=new Map;this._nodes=new Map;this._activeChanged=new h.Signal(this);this._currentChanged=new h.Signal(this)}e.prototype.dispose=function(){var e=this;if(this._counter<0){return}this._counter=-1;h.Signal.clearData(this);(0,i.each)(this._widgets,(function(t){t.node.removeEventListener("focus",e,true);t.node.removeEventListener("blur",e,true)}));this._activeWidget=null;this._currentWidget=null;this._nodes.clear();this._numbers.clear();this._widgets.length=0};Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"widgets",{get:function(){return this._widgets},enumerable:true,configurable:true});e.prototype.focusNumber=function(e){var t=this._numbers.get(e);return t===undefined?-1:t};e.prototype.has=function(e){return this._numbers.has(e)};e.prototype.add=function(e){if(this._numbers.has(e)){return}var t=e.node.contains(document.activeElement);var n=t?this._counter++:-1;this._widgets.push(e);this._numbers.set(e,n);this._nodes.set(e.node,e);e.node.addEventListener("focus",this,true);e.node.addEventListener("blur",this,true);e.disposed.connect(this._onWidgetDisposed,this);if(t){this._setWidgets(e,e)}};e.prototype.remove=function(e){var t=this;if(!this._numbers.has(e)){return}e.disposed.disconnect(this._onWidgetDisposed,this);e.node.removeEventListener("focus",this,true);e.node.removeEventListener("blur",this,true);i.ArrayExt.removeFirstOf(this._widgets,e);this._nodes.delete(e.node);this._numbers.delete(e);if(this._currentWidget!==e){return}var n=(0,i.filter)(this._widgets,(function(e){return t._numbers.get(e)!==-1}));var r=(0,i.max)(n,(function(e,n){var i=t._numbers.get(e);var r=t._numbers.get(n);return i-r}))||null;this._setWidgets(r,null)};e.prototype.handleEvent=function(e){switch(e.type){case"focus":this._evtFocus(e);break;case"blur":this._evtBlur(e);break}};e.prototype._setWidgets=function(e,t){var n=this._currentWidget;this._currentWidget=e;var i=this._activeWidget;this._activeWidget=t;if(n!==e){this._currentChanged.emit({oldValue:n,newValue:e})}if(i!==t){this._activeChanged.emit({oldValue:i,newValue:t})}};e.prototype._evtFocus=function(e){var t=this._nodes.get(e.currentTarget);if(t!==this._currentWidget){this._numbers.set(t,this._counter++)}this._setWidgets(t,t)};e.prototype._evtBlur=function(e){var t=this._nodes.get(e.currentTarget);var n=e.relatedTarget;if(!n){this._setWidgets(this._currentWidget,null);return}if(t.node.contains(n)){return}if(!(0,i.find)(this._widgets,(function(e){return e.node.contains(n)}))){this._setWidgets(this._currentWidget,null);return}};e.prototype._onWidgetDisposed=function(e){this.remove(e)};return e}();var te=function(e){S(t,e);function t(t){if(t===void 0){t={}}var n=e.call(this,t)||this;n._dirty=false;n._rowSpacing=4;n._columnSpacing=4;n._items=[];n._rowStarts=[];n._columnStarts=[];n._rowSizers=[new C];n._columnSizers=[new C];n._box=null;if(t.rowCount!==undefined){ne.reallocSizers(n._rowSizers,t.rowCount)}if(t.columnCount!==undefined){ne.reallocSizers(n._columnSizers,t.columnCount)}if(t.rowSpacing!==undefined){n._rowSpacing=ne.clampValue(t.rowSpacing)}if(t.columnSpacing!==undefined){n._columnSpacing=ne.clampValue(t.columnSpacing)}return n}t.prototype.dispose=function(){(0,i.each)(this._items,(function(e){var t=e.widget;e.dispose();t.dispose()}));this._box=null;this._items.length=0;this._rowStarts.length=0;this._rowSizers.length=0;this._columnStarts.length=0;this._columnSizers.length=0;e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._rowSizers.length},set:function(e){if(e===this.rowCount){return}ne.reallocSizers(this._rowSizers,e);if(this.parent){this.parent.fit()}},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"columnCount",{get:function(){return this._columnSizers.length},set:function(e){if(e===this.columnCount){return}ne.reallocSizers(this._columnSizers,e);if(this.parent){this.parent.fit()}},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"rowSpacing",{get:function(){return this._rowSpacing},set:function(e){e=ne.clampValue(e);if(this._rowSpacing===e){return}this._rowSpacing=e;if(this.parent){this.parent.fit()}},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"columnSpacing",{get:function(){return this._columnSpacing},set:function(e){e=ne.clampValue(e);if(this._columnSpacing===e){return}this._columnSpacing=e;if(this.parent){this.parent.fit()}},enumerable:true,configurable:true});t.prototype.rowStretch=function(e){var t=this._rowSizers[e];return t?t.stretch:-1};t.prototype.setRowStretch=function(e,t){var n=this._rowSizers[e];if(!n){return}t=ne.clampValue(t);if(n.stretch===t){return}n.stretch=t;if(this.parent){this.parent.update()}};t.prototype.columnStretch=function(e){var t=this._columnSizers[e];return t?t.stretch:-1};t.prototype.setColumnStretch=function(e,t){var n=this._columnSizers[e];if(!n){return}t=ne.clampValue(t);if(n.stretch===t){return}n.stretch=t;if(this.parent){this.parent.update()}};t.prototype.iter=function(){return(0,i.map)(this._items,(function(e){return e.widget}))};t.prototype.addWidget=function(e){var t=i.ArrayExt.findFirstIndex(this._items,(function(t){return t.widget===e}));if(t!==-1){return}this._items.push(new R(e));if(this.parent){this.attachWidget(e)}};t.prototype.removeWidget=function(e){var t=i.ArrayExt.findFirstIndex(this._items,(function(t){return t.widget===e}));if(t===-1){return}var n=i.ArrayExt.removeAt(this._items,t);if(this.parent){this.detachWidget(e)}n.dispose()};t.prototype.init=function(){var t=this;e.prototype.init.call(this);(0,i.each)(this,(function(e){t.attachWidget(e)}))};t.prototype.attachWidget=function(e){if(this.parent.isAttached){s.MessageLoop.sendMessage(e,P.Msg.BeforeAttach)}this.parent.node.appendChild(e.node);if(this.parent.isAttached){s.MessageLoop.sendMessage(e,P.Msg.AfterAttach)}this.parent.fit()};t.prototype.detachWidget=function(e){if(this.parent.isAttached){s.MessageLoop.sendMessage(e,P.Msg.BeforeDetach)}this.parent.node.removeChild(e.node);if(this.parent.isAttached){s.MessageLoop.sendMessage(e,P.Msg.AfterDetach)}this.parent.fit()};t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t);this.parent.update()};t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t);this.parent.fit()};t.prototype.onChildShown=function(e){this.parent.fit()};t.prototype.onChildHidden=function(e){this.parent.fit()};t.prototype.onResize=function(e){if(this.parent.isVisible){this._update(e.width,e.height)}};t.prototype.onUpdateRequest=function(e){if(this.parent.isVisible){this._update(-1,-1)}};t.prototype.onFitRequest=function(e){if(this.parent.isAttached){this._fit()}};t.prototype._fit=function(){for(var e=0,n=this.rowCount;e<n;++e){this._rowSizers[e].minSize=0}for(var e=0,n=this.columnCount;e<n;++e){this._columnSizers[e].minSize=0}var i=this._items.filter((function(e){return!e.isHidden}));for(var e=0,n=i.length;e<n;++e){i[e].fit()}var r=this.rowCount-1;var a=this.columnCount-1;i.sort(ne.rowSpanCmp);for(var e=0,n=i.length;e<n;++e){var u=i[e];var l=t.getCellConfig(u.widget);var c=Math.min(l.row,r);var h=Math.min(l.row+l.rowSpan-1,r);ne.distributeMin(this._rowSizers,c,h,u.minHeight)}i.sort(ne.columnSpanCmp);for(var e=0,n=i.length;e<n;++e){var u=i[e];var l=t.getCellConfig(u.widget);var d=Math.min(l.column,a);var f=Math.min(l.column+l.columnSpan-1,a);ne.distributeMin(this._columnSizers,d,f,u.minWidth)}if(this.fitPolicy==="set-no-constraint"){s.MessageLoop.sendMessage(this.parent,P.Msg.UpdateRequest);return}var p=r*this._rowSpacing;var m=a*this._columnSpacing;for(var e=0,n=this.rowCount;e<n;++e){p+=this._rowSizers[e].minSize}for(var e=0,n=this.columnCount;e<n;++e){m+=this._columnSizers[e].minSize}var v=this._box=o.ElementExt.boxSizing(this.parent.node);m+=v.horizontalSum;p+=v.verticalSum;var g=this.parent.node.style;g.minWidth=m+"px";g.minHeight=p+"px";this._dirty=true;if(this.parent.parent){s.MessageLoop.sendMessage(this.parent.parent,P.Msg.FitRequest)}if(this._dirty){s.MessageLoop.sendMessage(this.parent,P.Msg.UpdateRequest)}};t.prototype._update=function(e,n){this._dirty=false;if(e<0){e=this.parent.node.offsetWidth}if(n<0){n=this.parent.node.offsetHeight}if(!this._box){this._box=o.ElementExt.boxSizing(this.parent.node)}var i=this._box.paddingTop;var r=this._box.paddingLeft;var a=e-this._box.horizontalSum;var s=n-this._box.verticalSum;var u=this.rowCount-1;var l=this.columnCount-1;var c=u*this._rowSpacing;var h=l*this._columnSpacing;x.calc(this._rowSizers,Math.max(0,s-c));x.calc(this._columnSizers,Math.max(0,a-h));for(var d=0,f=i,p=this.rowCount;d<p;++d){this._rowStarts[d]=f;f+=this._rowSizers[d].size+this._rowSpacing}for(var d=0,f=r,p=this.columnCount;d<p;++d){this._columnStarts[d]=f;f+=this._columnSizers[d].size+this._columnSpacing}for(var d=0,p=this._items.length;d<p;++d){var m=this._items[d];if(m.isHidden){continue}var v=t.getCellConfig(m.widget);var g=Math.min(v.row,u);var _=Math.min(v.column,l);var y=Math.min(v.row+v.rowSpan-1,u);var b=Math.min(v.column+v.columnSpan-1,l);var A=this._columnStarts[_];var E=this._rowStarts[g];var w=this._columnStarts[b]+this._columnSizers[b].size-A;var C=this._rowStarts[y]+this._rowSizers[y].size-E;m.update(A,E,w,C)}};return t}(z);(function(e){function t(e){return ne.cellConfigProperty.get(e)}e.getCellConfig=t;function n(e,t){ne.cellConfigProperty.set(e,ne.normalizeConfig(t))}e.setCellConfig=n})(te||(te={}));var ne;(function(e){e.cellConfigProperty=new l.AttachedProperty({name:"cellConfig",create:function(){return{row:0,column:0,rowSpan:1,columnSpan:1}},changed:s});function t(e){var t=Math.max(0,Math.floor(e.row||0));var n=Math.max(0,Math.floor(e.column||0));var i=Math.max(1,Math.floor(e.rowSpan||0));var r=Math.max(1,Math.floor(e.columnSpan||0));return{row:t,column:n,rowSpan:i,columnSpan:r}}e.normalizeConfig=t;function n(e){return Math.max(0,Math.floor(e))}e.clampValue=n;function i(t,n){var i=e.cellConfigProperty.get(t.widget);var r=e.cellConfigProperty.get(n.widget);return i.rowSpan-r.rowSpan}e.rowSpanCmp=i;function r(t,n){var i=e.cellConfigProperty.get(t.widget);var r=e.cellConfigProperty.get(n.widget);return i.columnSpan-r.columnSpan}e.columnSpanCmp=r;function o(e,t){t=Math.max(1,Math.floor(t));while(e.length<t){e.push(new C)}if(e.length>t){e.length=t}}e.reallocSizers=o;function a(e,t,n,i){if(n<t){return}if(t===n){var r=e[t];r.minSize=Math.max(r.minSize,i);return}var o=0;for(var a=t;a<=n;++a){o+=e[a].minSize}if(o>=i){return}var s=(i-o)/(n-t+1);for(var a=t;a<=n;++a){e[a].minSize+=s}}e.distributeMin=a;function s(e){if(e.parent&&e.parent.layout instanceof te){e.parent.fit()}}})(ne||(ne={}));var ie=function(e){S(t,e);function t(n){if(n===void 0){n={}}var i=e.call(this,{node:re.createNode()})||this;i._activeIndex=-1;i._menus=[];i._childMenu=null;i.addClass("lm-MenuBar");i.addClass("p-MenuBar");i.setFlag(P.Flag.DisallowLayout);i.renderer=n.renderer||t.defaultRenderer;return i}t.prototype.dispose=function(){this._closeChildMenu();this._menus.length=0;e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"activeMenu",{get:function(){return this._menus[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._menus.indexOf(e):-1},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){if(e<0||e>=this._menus.length){e=-1}if(this._activeIndex===e){return}this._activeIndex=e;this.update()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"menus",{get:function(){return this._menus},enumerable:true,configurable:true});t.prototype.openActiveMenu=function(){if(this._activeIndex===-1){return}this._openChildMenu();if(this._childMenu){this._childMenu.activeIndex=-1;this._childMenu.activateNextItem()}};t.prototype.addMenu=function(e){this.insertMenu(this._menus.length,e)};t.prototype.insertMenu=function(e,t){this._closeChildMenu();var n=this._menus.indexOf(t);var r=Math.max(0,Math.min(e,this._menus.length));if(n===-1){i.ArrayExt.insert(this._menus,r,t);t.addClass("lm-MenuBar-menu");t.addClass("p-MenuBar-menu");t.aboutToClose.connect(this._onMenuAboutToClose,this);t.menuRequested.connect(this._onMenuMenuRequested,this);t.title.changed.connect(this._onTitleChanged,this);this.update();return}if(r===this._menus.length){r--}if(n===r){return}i.ArrayExt.move(this._menus,n,r);this.update()};t.prototype.removeMenu=function(e){this.removeMenuAt(this._menus.indexOf(e))};t.prototype.removeMenuAt=function(e){this._closeChildMenu();var t=i.ArrayExt.removeAt(this._menus,e);if(!t){return}t.aboutToClose.disconnect(this._onMenuAboutToClose,this);t.menuRequested.disconnect(this._onMenuMenuRequested,this);t.title.changed.disconnect(this._onTitleChanged,this);t.removeClass("lm-MenuBar-menu");t.removeClass("p-MenuBar-menu");this.update()};t.prototype.clearMenus=function(){if(this._menus.length===0){return}this._closeChildMenu();for(var e=0,t=this._menus;e<t.length;e++){var n=t[e];n.aboutToClose.disconnect(this._onMenuAboutToClose,this);n.menuRequested.disconnect(this._onMenuMenuRequested,this);n.title.changed.disconnect(this._onTitleChanged,this);n.removeClass("lm-MenuBar-menu");n.removeClass("p-MenuBar-menu")}this._menus.length=0;this.update()};t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"contextmenu":e.preventDefault();e.stopPropagation();break}};t.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this);this.node.addEventListener("mousedown",this);this.node.addEventListener("mousemove",this);this.node.addEventListener("mouseleave",this);this.node.addEventListener("contextmenu",this)};t.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this);this.node.removeEventListener("mousedown",this);this.node.removeEventListener("mousemove",this);this.node.removeEventListener("mouseleave",this);this.node.removeEventListener("contextmenu",this);this._closeChildMenu()};t.prototype.onActivateRequest=function(e){if(this.isAttached){this.node.focus()}};t.prototype.onUpdateRequest=function(e){var t=this._menus;var n=this.renderer;var i=this._activeIndex;var r=new Array(t.length);for(var o=0,a=t.length;o<a;++o){var s=t[o].title;var u=o===i;r[o]=n.renderItem({title:s,active:u})}g.VirtualDOM.render(r,this.contentNode)};t.prototype._evtKeyDown=function(e){e.preventDefault();e.stopPropagation();var t=e.keyCode;if(t===13||t===38||t===40){this.openActiveMenu();return}if(t===27){this._closeChildMenu();this.activeIndex=-1;this.node.blur();return}if(t===37){var n=this._activeIndex;var i=this._menus.length;this.activeIndex=n===0?i-1:n-1;return}if(t===39){var n=this._activeIndex;var i=this._menus.length;this.activeIndex=n===i-1?0:n+1;return}var r=(0,A.Vc)().keyForKeydownEvent(e);if(!r){return}var o=this._activeIndex+1;var a=re.findMnemonic(this._menus,r,o);if(a.index!==-1&&!a.multiple){this.activeIndex=a.index;this.openActiveMenu()}else if(a.index!==-1){this.activeIndex=a.index}else if(a.auto!==-1){this.activeIndex=a.auto}};t.prototype._evtMouseDown=function(e){if(!o.ElementExt.hitTest(this.node,e.clientX,e.clientY)){return}e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();var t=i.ArrayExt.findFirstIndex(this.contentNode.children,(function(t){return o.ElementExt.hitTest(t,e.clientX,e.clientY)}));if(t===-1){this._closeChildMenu();return}if(e.button!==0){return}if(this._childMenu){this._closeChildMenu();this.activeIndex=t}else{this.activeIndex=t;this._openChildMenu()}};t.prototype._evtMouseMove=function(e){var t=i.ArrayExt.findFirstIndex(this.contentNode.children,(function(t){return o.ElementExt.hitTest(t,e.clientX,e.clientY)}));if(t===this._activeIndex){return}if(t===-1&&this._childMenu){return}this.activeIndex=t;if(this._childMenu){this._openChildMenu()}};t.prototype._evtMouseLeave=function(e){if(!this._childMenu){this.activeIndex=-1}};t.prototype._openChildMenu=function(){var e=this.activeMenu;if(!e){this._closeChildMenu();return}var t=this._childMenu;if(t===e){return}this._childMenu=e;if(t){t.close()}else{this.addClass("lm-mod-active");this.addClass("p-mod-active");document.addEventListener("mousedown",this,true)}s.MessageLoop.sendMessage(this,P.Msg.UpdateRequest);var n=this.contentNode.children[this._activeIndex];var i=n.getBoundingClientRect(),r=i.left,o=i.bottom;e.open(r,o,{forceX:true,forceY:true})};t.prototype._closeChildMenu=function(){if(!this._childMenu){return}this.removeClass("lm-mod-active");this.removeClass("p-mod-active");document.removeEventListener("mousedown",this,true);var e=this._childMenu;this._childMenu=null;e.close();this.activeIndex=-1};t.prototype._onMenuAboutToClose=function(e){if(e!==this._childMenu){return}this.removeClass("lm-mod-active");this.removeClass("p-mod-active");document.removeEventListener("mousedown",this,true);this._childMenu=null;this.activeIndex=-1};t.prototype._onMenuMenuRequested=function(e,t){if(e!==this._childMenu){return}var n=this._activeIndex;var i=this._menus.length;switch(t){case"next":this.activeIndex=n===i-1?0:n+1;break;case"previous":this.activeIndex=n===0?i-1:n-1;break}this.openActiveMenu()};t.prototype._onTitleChanged=function(){this.update()};return t}(P);(function(e){var t=function(){function e(){}e.prototype.renderItem=function(e){var t=this.createItemClass(e);var n=this.createItemDataset(e);var i=this.createItemARIA(e);return g.h.li(D({className:t,dataset:n},i),this.renderIcon(e),this.renderLabel(e))};e.prototype.renderIcon=function(e){var t=this.createIconClass(e);if(typeof e.title.icon==="string"){return g.h.div({className:t},e.title.iconLabel)}return g.h.div({className:t},e.title.icon,e.title.iconLabel)};e.prototype.renderLabel=function(e){var t=this.formatLabel(e);return g.h.div({className:"lm-MenuBar-itemLabel"+" p-MenuBar-itemLabel"},t)};e.prototype.createItemClass=function(e){var t="lm-MenuBar-item";t+=" p-MenuBar-item";if(e.title.className){t+=" "+e.title.className}if(e.active){t+=" lm-mod-active";t+=" p-mod-active"}return t};e.prototype.createItemDataset=function(e){return e.title.dataset};e.prototype.createItemARIA=function(e){return{role:"menuitem","aria-haspopup":"true"}};e.prototype.createIconClass=function(e){var t="lm-MenuBar-itemIcon";t+=" p-MenuBar-itemIcon";var n=e.title.iconClass;return n?t+" "+n:t};e.prototype.formatLabel=function(e){var t=e.title,n=t.label,i=t.mnemonic;if(i<0||i>=n.length){return n}var r=n.slice(0,i);var o=n.slice(i+1);var a=n[i];var s=g.h.span({className:"lm-MenuBar-itemMnemonic"+" p-MenuBar-itemMnemonic"},a);return[r,s,o]};return e}();e.Renderer=t;e.defaultRenderer=new t})(ie||(ie={}));var re;(function(e){function t(){var e=document.createElement("div");var t=document.createElement("ul");t.className="lm-MenuBar-content";t.classList.add("p-MenuBar-content");e.appendChild(t);t.setAttribute("role","menubar");e.tabIndex=0;return e}e.createNode=t;function n(e,t,n){var i=-1;var r=-1;var o=false;var a=t.toUpperCase();for(var s=0,u=e.length;s<u;++s){var l=(s+n)%u;var c=e[l].title;if(c.label.length===0){continue}var h=c.mnemonic;if(h>=0&&h<c.label.length){if(c.label[h].toUpperCase()===a){if(i===-1){i=l}else{o=true}}continue}if(r===-1&&c.label[0].toUpperCase()===a){r=l}}return{index:i,multiple:o,auto:r}}e.findMnemonic=n})(re||(re={}));var oe=function(e){S(t,e);function t(t){if(t===void 0){t={}}var n=e.call(this,{node:ae.createNode()})||this;n._onRepeat=function(){n._repeatTimer=-1;if(!n._pressData){return}var e=n._pressData.part;if(e==="thumb"){return}n._repeatTimer=window.setTimeout(n._onRepeat,20);var t=n._pressData.mouseX;var i=n._pressData.mouseY;if(e==="decrement"){if(!o.ElementExt.hitTest(n.decrementNode,t,i)){return}n._stepRequested.emit("decrement");return}if(e==="increment"){if(!o.ElementExt.hitTest(n.incrementNode,t,i)){return}n._stepRequested.emit("increment");return}if(e==="track"){if(!o.ElementExt.hitTest(n.trackNode,t,i)){return}var r=n.thumbNode;if(o.ElementExt.hitTest(r,t,i)){return}var a=r.getBoundingClientRect();var s=void 0;if(n._orientation==="horizontal"){s=t<a.left?"decrement":"increment"}else{s=i<a.top?"decrement":"increment"}n._pageRequested.emit(s);return}};n._value=0;n._page=10;n._maximum=100;n._repeatTimer=-1;n._pressData=null;n._thumbMoved=new h.Signal(n);n._stepRequested=new h.Signal(n);n._pageRequested=new h.Signal(n);n.addClass("lm-ScrollBar");n.addClass("p-ScrollBar");n.setFlag(P.Flag.DisallowLayout);n._orientation=t.orientation||"vertical";n.dataset["orientation"]=n._orientation;if(t.maximum!==undefined){n._maximum=Math.max(0,t.maximum)}if(t.page!==undefined){n._page=Math.max(0,t.page)}if(t.value!==undefined){n._value=Math.max(0,Math.min(t.value,n._maximum))}return n}Object.defineProperty(t.prototype,"thumbMoved",{get:function(){return this._thumbMoved},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"stepRequested",{get:function(){return this._stepRequested},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"pageRequested",{get:function(){return this._pageRequested},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){if(this._orientation===e){return}this._releaseMouse();this._orientation=e;this.dataset["orientation"]=e;this.update()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e=Math.max(0,Math.min(e,this._maximum));if(this._value===e){return}this._value=e;this.update()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(e){e=Math.max(0,e);if(this._page===e){return}this._page=e;this.update()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"maximum",{get:function(){return this._maximum},set:function(e){e=Math.max(0,e);if(this._maximum===e){return}this._maximum=e;this._value=Math.min(this._value,e);this.update()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"decrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[0]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"incrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[1]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"trackNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-track")[0]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"thumbNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-thumb")[0]},enumerable:true,configurable:true});t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault();e.stopPropagation();break}};t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this);this.update()};t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this);this._releaseMouse()};t.prototype.onUpdateRequest=function(e){var t=this._value*100/this._maximum;var n=this._page*100/(this._page+this._maximum);t=Math.max(0,Math.min(t,100));n=Math.max(0,Math.min(n,100));var i=this.thumbNode.style;if(this._orientation==="horizontal"){i.top="";i.height="";i.left=t+"%";i.width=n+"%";i.transform="translate("+-t+"%, 0%)"}else{i.left="";i.width="";i.top=t+"%";i.height=n+"%";i.transform="translate(0%, "+-t+"%)"}};t.prototype._evtKeyDown=function(e){e.preventDefault();e.stopPropagation();if(e.keyCode!==27){return}var t=this._pressData?this._pressData.value:-1;this._releaseMouse();if(t!==-1){this._moveThumb(t)}};t.prototype._evtMouseDown=function(e){if(e.button!==0){return}this.activate();if(this._pressData){return}var t=ae.findPart(this,e.target);if(!t){return}e.preventDefault();e.stopPropagation();var n=E.Drag.overrideCursor("default");this._pressData={part:t,override:n,delta:-1,value:-1,mouseX:e.clientX,mouseY:e.clientY};document.addEventListener("mousemove",this,true);document.addEventListener("mouseup",this,true);document.addEventListener("keydown",this,true);document.addEventListener("contextmenu",this,true);if(t==="thumb"){var i=this.thumbNode;var r=i.getBoundingClientRect();if(this._orientation==="horizontal"){this._pressData.delta=e.clientX-r.left}else{this._pressData.delta=e.clientY-r.top}i.classList.add("lm-mod-active");i.classList.add("p-mod-active");this._pressData.value=this._value;return}if(t==="track"){var r=this.thumbNode.getBoundingClientRect();var o=void 0;if(this._orientation==="horizontal"){o=e.clientX<r.left?"decrement":"increment"}else{o=e.clientY<r.top?"decrement":"increment"}this._repeatTimer=window.setTimeout(this._onRepeat,350);this._pageRequested.emit(o);return}if(t==="decrement"){this.decrementNode.classList.add("lm-mod-active");this.decrementNode.classList.add("p-mod-active");this._repeatTimer=window.setTimeout(this._onRepeat,350);this._stepRequested.emit("decrement");return}if(t==="increment"){this.incrementNode.classList.add("lm-mod-active");this.incrementNode.classList.add("p-mod-active");this._repeatTimer=window.setTimeout(this._onRepeat,350);this._stepRequested.emit("increment");return}};t.prototype._evtMouseMove=function(e){if(!this._pressData){return}e.preventDefault();e.stopPropagation();this._pressData.mouseX=e.clientX;this._pressData.mouseY=e.clientY;if(this._pressData.part!=="thumb"){return}var t=this.thumbNode.getBoundingClientRect();var n=this.trackNode.getBoundingClientRect();var i;var r;if(this._orientation==="horizontal"){i=e.clientX-n.left-this._pressData.delta;r=n.width-t.width}else{i=e.clientY-n.top-this._pressData.delta;r=n.height-t.height}var o=r===0?0:i*this._maximum/r;this._moveThumb(o)};t.prototype._evtMouseUp=function(e){if(e.button!==0){return}e.preventDefault();e.stopPropagation();this._releaseMouse()};t.prototype._releaseMouse=function(){if(!this._pressData){return}clearTimeout(this._repeatTimer);this._repeatTimer=-1;this._pressData.override.dispose();this._pressData=null;document.removeEventListener("mousemove",this,true);document.removeEventListener("mouseup",this,true);document.removeEventListener("keydown",this,true);document.removeEventListener("contextmenu",this,true);this.thumbNode.classList.remove("lm-mod-active");this.decrementNode.classList.remove("lm-mod-active");this.incrementNode.classList.remove("lm-mod-active");this.thumbNode.classList.remove("p-mod-active");this.decrementNode.classList.remove("p-mod-active");this.incrementNode.classList.remove("p-mod-active")};t.prototype._moveThumb=function(e){e=Math.max(0,Math.min(e,this._maximum));if(this._value===e){return}this._value=e;this.update();this._thumbMoved.emit(e)};return t}(P);var ae;(function(e){function t(){var e=document.createElement("div");var t=document.createElement("div");var n=document.createElement("div");var i=document.createElement("div");var r=document.createElement("div");t.className="lm-ScrollBar-button";n.className="lm-ScrollBar-button";t.dataset["action"]="decrement";n.dataset["action"]="increment";i.className="lm-ScrollBar-track";r.className="lm-ScrollBar-thumb";t.classList.add("p-ScrollBar-button");n.classList.add("p-ScrollBar-button");i.classList.add("p-ScrollBar-track");r.classList.add("p-ScrollBar-thumb");i.appendChild(r);e.appendChild(t);e.appendChild(i);e.appendChild(n);return e}e.createNode=t;function n(e,t){if(e.thumbNode.contains(t)){return"thumb"}if(e.trackNode.contains(t)){return"track"}if(e.decrementNode.contains(t)){return"decrement"}if(e.incrementNode.contains(t)){return"increment"}return null}e.findPart=n})(ae||(ae={}));var se=function(e){S(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t._widget=null;return t}t.prototype.dispose=function(){if(this._widget){var t=this._widget;this._widget=null;t.dispose()}e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"widget",{get:function(){return this._widget},set:function(e){if(e){e.parent=this.parent}if(this._widget===e){return}if(this._widget){this._widget.dispose()}this._widget=e;if(this.parent&&e){this.attachWidget(e)}},enumerable:true,configurable:true});t.prototype.iter=function(){return this._widget?(0,i.once)(this._widget):(0,i.empty)()};t.prototype.removeWidget=function(e){if(this._widget!==e){return}this._widget=null;if(this.parent){this.detachWidget(e)}};t.prototype.init=function(){var t=this;e.prototype.init.call(this);(0,i.each)(this,(function(e){t.attachWidget(e)}))};t.prototype.attachWidget=function(e){if(this.parent.isAttached){s.MessageLoop.sendMessage(e,P.Msg.BeforeAttach)}this.parent.node.appendChild(e.node);if(this.parent.isAttached){s.MessageLoop.sendMessage(e,P.Msg.AfterAttach)}};t.prototype.detachWidget=function(e){if(this.parent.isAttached){s.MessageLoop.sendMessage(e,P.Msg.BeforeDetach)}this.parent.node.removeChild(e.node);if(this.parent.isAttached){s.MessageLoop.sendMessage(e,P.Msg.AfterDetach)}};return t}(z);var ue=function(e){S(t,e);function t(t){var n=e.call(this)||this;n._fixed=0;n._spacing=4;n._dirty=false;n._hasNormedSizes=false;n._sizers=[];n._items=[];n._handles=[];n._box=null;n._alignment="start";n._orientation="horizontal";n.renderer=t.renderer;if(t.orientation!==undefined){n._orientation=t.orientation}if(t.alignment!==undefined){n._alignment=t.alignment}if(t.spacing!==undefined){n._spacing=le.clampSpacing(t.spacing)}return n}t.prototype.dispose=function(){(0,i.each)(this._items,(function(e){e.dispose()}));this._box=null;this._items.length=0;this._sizers.length=0;this._handles.length=0;e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){if(this._orientation===e){return}this._orientation=e;if(!this.parent){return}this.parent.dataset["orientation"]=e;this.parent.fit()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(e){if(this._alignment===e){return}this._alignment=e;if(!this.parent){return}this.parent.dataset["alignment"]=e;this.parent.update()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=le.clampSpacing(e);if(this._spacing===e){return}this._spacing=e;if(!this.parent){return}this.parent.fit()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"handles",{get:function(){return this._handles},enumerable:true,configurable:true});t.prototype.relativeSizes=function(){return le.normalize(this._sizers.map((function(e){return e.size})))};t.prototype.setRelativeSizes=function(e){var t=this._sizers.length;var n=e.slice(0,t);while(n.length<t){n.push(0)}var i=le.normalize(n);for(var r=0;r<t;++r){var o=this._sizers[r];o.sizeHint=i[r];o.size=i[r]}this._hasNormedSizes=true;if(this.parent){this.parent.update()}};t.prototype.moveHandle=function(e,t){var n=this._handles[e];if(!n||n.classList.contains("lm-mod-hidden")){return}var i;if(this._orientation==="horizontal"){i=t-n.offsetLeft}else{i=t-n.offsetTop}if(i===0){return}for(var r=0,o=this._sizers;r<o.length;r++){var a=o[r];if(a.size>0){a.sizeHint=a.size}}x.adjust(this._sizers,e,i);if(this.parent){this.parent.update()}};t.prototype.init=function(){this.parent.dataset["orientation"]=this.orientation;this.parent.dataset["alignment"]=this.alignment;e.prototype.init.call(this)};t.prototype.attachWidget=function(e,t){var n=new R(t);var r=le.createHandle(this.renderer);var o=le.averageSize(this._sizers);var a=le.createSizer(o);i.ArrayExt.insert(this._items,e,n);i.ArrayExt.insert(this._sizers,e,a);i.ArrayExt.insert(this._handles,e,r);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.BeforeAttach)}this.parent.node.appendChild(t.node);this.parent.node.appendChild(r);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.AfterAttach)}this.parent.fit()};t.prototype.moveWidget=function(e,t,n){i.ArrayExt.move(this._items,e,t);i.ArrayExt.move(this._sizers,e,t);i.ArrayExt.move(this._handles,e,t);this.parent.fit()};t.prototype.detachWidget=function(e,t){var n=i.ArrayExt.removeAt(this._items,e);var r=i.ArrayExt.removeAt(this._handles,e);i.ArrayExt.removeAt(this._sizers,e);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.BeforeDetach)}this.parent.node.removeChild(t.node);this.parent.node.removeChild(r);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.AfterDetach)}n.dispose();this.parent.fit()};t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t);this.parent.update()};t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t);this.parent.fit()};t.prototype.onChildShown=function(e){this.parent.fit()};t.prototype.onChildHidden=function(e){this.parent.fit()};t.prototype.onResize=function(e){if(this.parent.isVisible){this._update(e.width,e.height)}};t.prototype.onUpdateRequest=function(e){if(this.parent.isVisible){this._update(-1,-1)}};t.prototype.onFitRequest=function(e){if(this.parent.isAttached){this._fit()}};t.prototype._fit=function(){var e=0;var n=-1;for(var i=0,r=this._items.length;i<r;++i){if(this._items[i].isHidden){this._handles[i].classList.add("lm-mod-hidden");this._handles[i].classList.add("p-mod-hidden")}else{this._handles[i].classList.remove("lm-mod-hidden");this._handles[i].classList.remove("p-mod-hidden");n=i;e++}}if(n!==-1){this._handles[n].classList.add("lm-mod-hidden");this._handles[n].classList.add("p-mod-hidden")}this._fixed=this._spacing*Math.max(0,e-1);var a=this._orientation==="horizontal";var u=a?this._fixed:0;var l=a?0:this._fixed;for(var i=0,r=this._items.length;i<r;++i){var c=this._items[i];var h=this._sizers[i];if(h.size>0){h.sizeHint=h.size}if(c.isHidden){h.minSize=0;h.maxSize=0;continue}c.fit();h.stretch=t.getStretch(c.widget);if(a){h.minSize=c.minWidth;h.maxSize=c.maxWidth;u+=c.minWidth;l=Math.max(l,c.minHeight)}else{h.minSize=c.minHeight;h.maxSize=c.maxHeight;l+=c.minHeight;u=Math.max(u,c.minWidth)}}var d=this._box=o.ElementExt.boxSizing(this.parent.node);u+=d.horizontalSum;l+=d.verticalSum;var f=this.parent.node.style;f.minWidth=u+"px";f.minHeight=l+"px";this._dirty=true;if(this.parent.parent){s.MessageLoop.sendMessage(this.parent.parent,P.Msg.FitRequest)}if(this._dirty){s.MessageLoop.sendMessage(this.parent,P.Msg.UpdateRequest)}};t.prototype._update=function(e,t){this._dirty=false;var n=0;for(var i=0,r=this._items.length;i<r;++i){n+=+!this._items[i].isHidden}if(n===0){return}if(e<0){e=this.parent.node.offsetWidth}if(t<0){t=this.parent.node.offsetHeight}if(!this._box){this._box=o.ElementExt.boxSizing(this.parent.node)}var a=this._box.paddingTop;var s=this._box.paddingLeft;var u=e-this._box.horizontalSum;var l=t-this._box.verticalSum;var c;var h=this._orientation==="horizontal";if(h){c=Math.max(0,u-this._fixed)}else{c=Math.max(0,l-this._fixed)}if(this._hasNormedSizes){for(var d=0,f=this._sizers;d<f.length;d++){var p=f[d];p.sizeHint*=c}this._hasNormedSizes=false}var m=x.calc(this._sizers,c);var v=0;var g=0;if(m>0){switch(this._alignment){case"start":break;case"center":v=0;g=m/2;break;case"end":v=0;g=m;break;case"justify":v=m/n;g=0;break;default:throw"unreachable"}}for(var i=0,r=this._items.length;i<r;++i){var _=this._items[i];if(_.isHidden){continue}var y=this._sizers[i].size;var b=this._handles[i].style;if(h){_.update(s+g,a,y+v,l);s+=y+v;b.top=a+"px";b.left=s+g+"px";b.width=this._spacing+"px";b.height=l+"px";s+=this._spacing}else{_.update(s,a+g,u,y+v);a+=y+v;b.top=a+g+"px";b.left=s+"px";b.width=u+"px";b.height=this._spacing+"px";a+=this._spacing}}};return t}(k);(function(e){function t(e){return le.stretchProperty.get(e)}e.getStretch=t;function n(e,t){le.stretchProperty.set(e,t)}e.setStretch=n})(ue||(ue={}));var le;(function(e){e.stretchProperty=new l.AttachedProperty({name:"stretch",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:a});function t(e){var t=new C;t.sizeHint=Math.floor(e);return t}e.createSizer=t;function n(e){var t=e.createHandle();t.style.position="absolute";return t}e.createHandle=n;function i(e){return Math.max(0,Math.floor(e))}e.clampSpacing=i;function r(e){return e.reduce((function(e,t){return e+t.size}),0)/e.length||0}e.averageSize=r;function o(e){var t=e.length;if(t===0){return[]}var n=e.reduce((function(e,t){return e+Math.abs(t)}),0);return n===0?e.map((function(e){return 1/t})):e.map((function(e){return e/n}))}e.normalize=o;function a(e){if(e.parent&&e.parent.layout instanceof ue){e.parent.fit()}}})(le||(le={}));var ce=function(e){S(t,e);function t(t){if(t===void 0){t={}}var n=e.call(this,{layout:he.createLayout(t)})||this;n._pressData=null;n.addClass("lm-SplitPanel");n.addClass("p-SplitPanel");return n}t.prototype.dispose=function(){this._releaseMouse();e.prototype.dispose.call(this)};Object.defineProperty(t.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(e){this.layout.orientation=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"handles",{get:function(){return this.layout.handles},enumerable:true,configurable:true});t.prototype.relativeSizes=function(){return this.layout.relativeSizes()};t.prototype.setRelativeSizes=function(e){this.layout.setRelativeSizes(e)};t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault();e.stopPropagation();break}};t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this)};t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this);this._releaseMouse()};t.prototype.onChildAdded=function(e){e.child.addClass("lm-SplitPanel-child");e.child.addClass("p-SplitPanel-child");this._releaseMouse()};t.prototype.onChildRemoved=function(e){e.child.removeClass("lm-SplitPanel-child");e.child.removeClass("p-SplitPanel-child");this._releaseMouse()};t.prototype._evtKeyDown=function(e){e.preventDefault();e.stopPropagation();if(e.keyCode===27){this._releaseMouse()}};t.prototype._evtMouseDown=function(e){if(e.button!==0){return}var t=this.layout;var n=i.ArrayExt.findFirstIndex(t.handles,(function(t){return t.contains(e.target)}));if(n===-1){return}e.preventDefault();e.stopPropagation();document.addEventListener("mouseup",this,true);document.addEventListener("mousemove",this,true);document.addEventListener("keydown",this,true);document.addEventListener("contextmenu",this,true);var r;var o=t.handles[n];var a=o.getBoundingClientRect();if(t.orientation==="horizontal"){r=e.clientX-a.left}else{r=e.clientY-a.top}var s=window.getComputedStyle(o);var u=E.Drag.overrideCursor(s.cursor);this._pressData={index:n,delta:r,override:u}};t.prototype._evtMouseMove=function(e){e.preventDefault();e.stopPropagation();var t;var n=this.layout;var i=this.node.getBoundingClientRect();if(n.orientation==="horizontal"){t=e.clientX-i.left-this._pressData.delta}else{t=e.clientY-i.top-this._pressData.delta}n.moveHandle(this._pressData.index,t)};t.prototype._evtMouseUp=function(e){if(e.button!==0){return}e.preventDefault();e.stopPropagation();this._releaseMouse()};t.prototype._releaseMouse=function(){if(!this._pressData){return}this._pressData.override.dispose();this._pressData=null;document.removeEventListener("mouseup",this,true);document.removeEventListener("mousemove",this,true);document.removeEventListener("keydown",this,true);document.removeEventListener("contextmenu",this,true)};return t}(H);(function(e){var t=function(){function e(){}e.prototype.createHandle=function(){var e=document.createElement("div");e.className="lm-SplitPanel-handle";e.classList.add("p-SplitPanel-handle");return e};return e}();e.Renderer=t;e.defaultRenderer=new t;function n(e){return ue.getStretch(e)}e.getStretch=n;function i(e,t){ue.setStretch(e,t)}e.setStretch=i})(ce||(ce={}));var he;(function(e){function t(e){return e.layout||new ue({renderer:e.renderer||ce.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing})}e.createLayout=t})(he||(he={}));var de=function(e){S(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t._dirty=false;t._items=[];t._box=null;return t}t.prototype.dispose=function(){(0,i.each)(this._items,(function(e){e.dispose()}));this._box=null;this._items.length=0;e.prototype.dispose.call(this)};t.prototype.attachWidget=function(e,t){i.ArrayExt.insert(this._items,e,new R(t));if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.BeforeAttach)}this.parent.node.appendChild(t.node);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.AfterAttach)}this.parent.fit()};t.prototype.moveWidget=function(e,t,n){i.ArrayExt.move(this._items,e,t);this.parent.update()};t.prototype.detachWidget=function(e,t){var n=i.ArrayExt.removeAt(this._items,e);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.BeforeDetach)}this.parent.node.removeChild(t.node);if(this.parent.isAttached){s.MessageLoop.sendMessage(t,P.Msg.AfterDetach)}n.widget.node.style.zIndex="";n.dispose();this.parent.fit()};t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t);this.parent.update()};t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t);this.parent.fit()};t.prototype.onChildShown=function(e){this.parent.fit()};t.prototype.onChildHidden=function(e){this.parent.fit()};t.prototype.onResize=function(e){if(this.parent.isVisible){this._update(e.width,e.height)}};t.prototype.onUpdateRequest=function(e){if(this.parent.isVisible){this._update(-1,-1)}};t.prototype.onFitRequest=function(e){if(this.parent.isAttached){this._fit()}};t.prototype._fit=function(){var e=0;var t=0;for(var n=0,i=this._items.length;n<i;++n){var r=this._items[n];if(r.isHidden){continue}r.fit();e=Math.max(e,r.minWidth);t=Math.max(t,r.minHeight)}var a=this._box=o.ElementExt.boxSizing(this.parent.node);e+=a.horizontalSum;t+=a.verticalSum;var u=this.parent.node.style;u.minWidth=e+"px";u.minHeight=t+"px";this._dirty=true;if(this.parent.parent){s.MessageLoop.sendMessage(this.parent.parent,P.Msg.FitRequest)}if(this._dirty){s.MessageLoop.sendMessage(this.parent,P.Msg.UpdateRequest)}};t.prototype._update=function(e,t){this._dirty=false;var n=0;for(var i=0,r=this._items.length;i<r;++i){n+=+!this._items[i].isHidden}if(n===0){return}if(e<0){e=this.parent.node.offsetWidth}if(t<0){t=this.parent.node.offsetHeight}if(!this._box){this._box=o.ElementExt.boxSizing(this.parent.node)}var a=this._box.paddingTop;var s=this._box.paddingLeft;var u=e-this._box.horizontalSum;var l=t-this._box.verticalSum;for(var i=0,r=this._items.length;i<r;++i){var c=this._items[i];if(c.isHidden){continue}c.widget.node.style.zIndex=""+i;c.update(s,a,u,l)}};return t}(k);var fe=function(e){S(t,e);function t(t){if(t===void 0){t={}}var n=e.call(this,{layout:pe.createLayout(t)})||this;n._widgetRemoved=new h.Signal(n);n.addClass("lm-StackedPanel");n.addClass("p-StackedPanel");return n}Object.defineProperty(t.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:true,configurable:true});t.prototype.onChildAdded=function(e){e.child.addClass("lm-StackedPanel-child");e.child.addClass("p-StackedPanel-child")};t.prototype.onChildRemoved=function(e){e.child.removeClass("lm-StackedPanel-child");e.child.removeClass("p-StackedPanel-child");this._widgetRemoved.emit(e.child)};return t}(H);var pe;(function(e){function t(e){return e.layout||new de}e.createLayout=t})(pe||(pe={}));var me=function(e){S(t,e);function t(t){if(t===void 0){t={}}var n=e.call(this)||this;n._currentChanged=new h.Signal(n);n._addRequested=new h.Signal(n);n.addClass("lm-TabPanel");n.addClass("p-TabPanel");n.tabBar=new X(t);n.tabBar.addClass("lm-TabPanel-tabBar");n.stackedPanel=new fe;n.stackedPanel.addClass("lm-TabPanel-stackedPanel");n.tabBar.addClass("p-TabPanel-tabBar");n.stackedPanel.addClass("p-TabPanel-stackedPanel");n.tabBar.tabMoved.connect(n._onTabMoved,n);n.tabBar.currentChanged.connect(n._onCurrentChanged,n);n.tabBar.tabCloseRequested.connect(n._onTabCloseRequested,n);n.tabBar.tabActivateRequested.connect(n._onTabActivateRequested,n);n.tabBar.addRequested.connect(n._onTabAddRequested,n);n.stackedPanel.widgetRemoved.connect(n._onWidgetRemoved,n);n._tabPlacement=t.tabPlacement||"top";var i=ve.directionFromPlacement(n._tabPlacement);var r=ve.orientationFromPlacement(n._tabPlacement);n.tabBar.orientation=r;n.tabBar.dataset["placement"]=n._tabPlacement;var o=new O({direction:i,spacing:0});O.setStretch(n.tabBar,0);O.setStretch(n.stackedPanel,1);o.addWidget(n.tabBar);o.addWidget(n.stackedPanel);n.layout=o;return n}Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this.tabBar.currentIndex},set:function(e){this.tabBar.currentIndex=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"currentWidget",{get:function(){var e=this.tabBar.currentTitle;return e?e.owner:null},set:function(e){this.tabBar.currentTitle=e?e.title:null},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(e){this.tabBar.tabsMovable=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"addButtonEnabled",{get:function(){return this.tabBar.addButtonEnabled},set:function(e){this.tabBar.addButtonEnabled=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"tabPlacement",{get:function(){return this._tabPlacement},set:function(e){if(this._tabPlacement===e){return}this._tabPlacement=e;var t=ve.directionFromPlacement(e);var n=ve.orientationFromPlacement(e);this.tabBar.orientation=n;this.tabBar.dataset["placement"]=e;this.layout.direction=t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"widgets",{get:function(){return this.stackedPanel.widgets},enumerable:true,configurable:true});t.prototype.addWidget=function(e){this.insertWidget(this.widgets.length,e)};t.prototype.insertWidget=function(e,t){if(t!==this.currentWidget){t.hide()}this.stackedPanel.insertWidget(e,t);this.tabBar.insertTab(e,t.title);t.node.setAttribute("role","tabpanel");var n=this.tabBar.renderer;if(n instanceof X.Renderer){var i=n.createTabKey({title:t.title,current:false,zIndex:0});t.node.setAttribute("aria-labelledby",i)}};t.prototype._onCurrentChanged=function(e,t){var n=t.previousIndex,i=t.previousTitle,r=t.currentIndex,a=t.currentTitle;var u=i?i.owner:null;var l=a?a.owner:null;if(u){u.hide()}if(l){l.show()}this._currentChanged.emit({previousIndex:n,previousWidget:u,currentIndex:r,currentWidget:l});if(o.Platform.IS_EDGE||o.Platform.IS_IE){s.MessageLoop.flush()}};t.prototype._onTabAddRequested=function(e,t){this._addRequested.emit(e)};t.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()};t.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()};t.prototype._onTabMoved=function(e,t){this.stackedPanel.insertWidget(t.toIndex,t.title.owner)};t.prototype._onWidgetRemoved=function(e,t){t.node.removeAttribute("role");t.node.removeAttribute("aria-labelledby");this.tabBar.removeTab(t.title)};return t}(P);var ve;(function(e){function t(e){return i[e]}e.orientationFromPlacement=t;function n(e){return r[e]}e.directionFromPlacement=n;var i={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"};var r={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(ve||(ve={}))},60497:(e,t,n)=>{"use strict";var i=n(93379);var r=n.n(i);var o=n(27100);var a={};a.insert="head";a.singleton=false;var s=r()(o.Z,a);const u=o.Z.locals||{}}}]);