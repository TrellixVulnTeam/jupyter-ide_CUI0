(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[8157],{28157:(t,e,s)=>{"use strict";s.r(e);s.d(e,{GroupItem:()=>u,IStatusBar:()=>lt,KernelStatus:()=>F,LineCol:()=>tt,Popup:()=>B,ProgressBar:()=>O,RunningSessions:()=>nt,StatusBar:()=>ot,TextItem:()=>A,clickedItem:()=>I,interactiveItem:()=>E,item:()=>w,leftSide:()=>y,rightSide:()=>S,showPopup:()=>j,side:()=>k,statusBar:()=>x});var n=s(2411);var i=s.n(n);var a=s(66770);const o={display:"flex",alignItems:"center"};const r={flexDirection:"row"};const l={flexDirection:"row-reverse"};const h={justifyContent:"space-between"};var d=undefined&&undefined.__rest||function(t,e){var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0)s[n]=t[n];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++){if(e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i]))s[n[i]]=t[n[i]]}return s};const c=(0,a.oB)(o,r);function u(t){const{spacing:e,children:s,className:i}=t,o=d(t,["spacing","children","className"]);const r=n.Children.count(s);return n.createElement("div",Object.assign({className:(0,a.Sh)(c,i)},o),n.Children.map(s,((t,s)=>{if(s===0){return n.createElement("div",{style:{marginRight:`${e}px`}},t)}else if(s===r-1){return n.createElement("div",{style:{marginLeft:`${e}px`}},t)}else{return n.createElement("div",{style:{margin:`0px ${e}px`}},t)}})))}var g=s(26825);var _=s(61389);const m={hoverColor:"var(--jp-layout-color3)",clickColor:"var(--jp-brand-color1)",backgroundColor:"var(--jp-layout-color2)",height:"var(--jp-statusbar-height)",fontSize:"var(--jp-ui-font-size1)",fontFamily:"var(--jp-ui-font-family)",textColor:"var(--jp-ui-font-color1)",textClickColor:"white",itemMargin:"2px",itemPadding:"6px",statusBarPadding:"10px",interItemHalfSpacing:"2px",whiteSpace:"nowrap",textOverflow:"ellipsis"};const p={fontSize:m.fontSize,fontFamily:m.fontFamily};const f=(0,a.oB)(p,{lineHeight:"24px",color:m.textColor});const v={paddingLeft:m.itemPadding,paddingRight:m.itemPadding};const C={$nest:{"&:hover":{backgroundColor:m.hoverColor}}};const b={backgroundColor:m.clickColor,$nest:{["."+f]:{color:m.textClickColor}}};const x=(0,a.oB)({background:m.backgroundColor,minHeight:m.height,justifyContent:"space-between",paddingLeft:m.statusBarPadding,paddingRight:m.statusBarPadding},o);const k=(0,a.oB)(o);const y=(0,a.oB)(r);const S=(0,a.oB)(l);const w=(0,a.oB)({maxHeight:m.height,marginLeft:m.itemMargin,marginRight:m.itemMargin,height:m.height,whiteSpace:m.whiteSpace,textOverflow:m.textOverflow,color:m.textColor},v);const I=(0,a.oB)(b);const E=(0,a.oB)(C);const N=(0,a.oB)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"});function j(t){const e=new B(t);e.launch();return e}class B extends _.Widget{constructor(t){super();this._body=t.body;this._body.addClass(N);this._anchor=t.anchor;this._align=t.align;const e=this.layout=new _.PanelLayout;e.addWidget(t.body);this._body.node.addEventListener("resize",(()=>{this.update()}))}launch(){this._setGeometry();_.Widget.attach(this,document.body);this.update();this._anchor.addClass(I);this._anchor.removeClass(E)}onUpdateRequest(t){this._setGeometry();super.onUpdateRequest(t)}onAfterAttach(t){document.addEventListener("click",this,false);this.node.addEventListener("keydown",this,false);window.addEventListener("resize",this,false)}onAfterDetach(t){document.removeEventListener("click",this,false);this.node.removeEventListener("keydown",this,false);window.removeEventListener("resize",this,false)}onResize(){this.update()}dispose(){super.dispose();this._anchor.removeClass(I);this._anchor.addClass(E)}handleEvent(t){switch(t.type){case"keydown":this._evtKeydown(t);break;case"click":this._evtClick(t);break;case"resize":this.onResize();break;default:break}}_evtClick(t){if(!!t.target&&!(this._body.node.contains(t.target)||this._anchor.node.contains(t.target))){this.dispose()}}_evtKeydown(t){switch(t.keyCode){case 27:t.stopPropagation();t.preventDefault();this.dispose();break;default:break}}_setGeometry(){let t=0;const e=this._anchor.node.getBoundingClientRect();const s=this._body.node.getBoundingClientRect();if(this._align==="right"){t=-(s.width-e.width)}const n=window.getComputedStyle(this._body.node);g.HoverBox.setGeometry({anchor:e,host:document.body,maxHeight:500,minHeight:20,node:this._body.node,offset:{horizontal:t},privilege:"forceAbove",style:n})}}const R=(0,a.oB)({background:"black",height:"10px",width:"100px",border:"1px solid black",borderRadius:"3px",marginLeft:"4px",overflow:"hidden"});const P=(0,a.oB)({background:"var(--jp-brand-color2)",height:"10px"});function O(t){return n.createElement("div",{className:R},n.createElement(D,{percentage:t.percentage}))}function D(t){return n.createElement("div",{className:P,style:{width:`${t.percentage}px`}})}var z=undefined&&undefined.__rest||function(t,e){var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0)s[n]=t[n];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++){if(e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i]))s[n[i]]=t[n[i]]}return s};function A(t){const{title:e,source:s,className:i}=t,o=z(t,["title","source","className"]);return n.createElement("span",Object.assign({className:(0,a.Sh)(f,i),title:e},o),s)}var L=s(1612);var M=s(9727);function T(t){const e=t.translator||L.nullTranslator;const s=e.load("jupyterlab");let n="";if(t.status){n=` | ${t.status}`}return i().createElement(A,{onClick:t.handleClick,source:`${t.kernelName}${n}`,title:s.__("Change kernel for %1",t.activityName)})}class F extends g.VDomRenderer{constructor(t,e){super(new F.Model(e));this.translator=e||L.nullTranslator;this._handleClick=t.onClick;this.addClass(E)}render(){if(this.model===null){return null}else{return i().createElement(T,{status:this.model.status,kernelName:this.model.kernelName,activityName:this.model.activityName,handleClick:this._handleClick,translator:this.translator})}}}(function(t){class e extends g.VDomModel{constructor(t){super();this._onKernelStatusChanged=()=>{var t;this._kernelStatus=(t=this._sessionContext)===null||t===void 0?void 0:t.kernelDisplayStatus;this.stateChanged.emit(void 0)};this._onKernelChanged=(t,e)=>{var s;const n=this._getAllState();this._kernelStatus=(s=this._sessionContext)===null||s===void 0?void 0:s.kernelDisplayStatus;this._kernelName=t.kernelDisplayName;this._triggerChange(n,this._getAllState())};this._activityName="activity";this._kernelStatus="";this._sessionContext=null;t=t||L.nullTranslator;this._trans=t.load("jupyterlab");this._kernelName=this._trans.__("No Kernel!");this._statusNames={unknown:this._trans.__("Unknown"),starting:this._trans.__("Starting"),idle:this._trans.__("Idle"),busy:this._trans.__("Busy"),terminating:this._trans.__("Terminating"),restarting:this._trans.__("Restarting"),autorestarting:this._trans.__("Autorestarting"),dead:this._trans.__("Dead"),connected:this._trans.__("Connected"),connecting:this._trans.__("Connecting"),disconnected:this._trans.__("Disconnected"),initializing:this._trans.__("Initializing"),"":""}}get kernelName(){return this._kernelName}get status(){return this._kernelStatus?this._statusNames[this._kernelStatus]:undefined}get activityName(){return this._activityName}set activityName(t){const e=this._activityName;if(e===t){return}this._activityName=t;this.stateChanged.emit(void 0)}get sessionContext(){return this._sessionContext}set sessionContext(t){var e,s,n;(e=this._sessionContext)===null||e===void 0?void 0:e.statusChanged.disconnect(this._onKernelStatusChanged);(s=this._sessionContext)===null||s===void 0?void 0:s.kernelChanged.disconnect(this._onKernelChanged);const i=this._getAllState();this._sessionContext=t;this._kernelStatus=t===null||t===void 0?void 0:t.kernelDisplayStatus;this._kernelName=(n=t===null||t===void 0?void 0:t.kernelDisplayName)!==null&&n!==void 0?n:this._trans.__("No Kernel");t===null||t===void 0?void 0:t.statusChanged.connect(this._onKernelStatusChanged,this);t===null||t===void 0?void 0:t.connectionStatusChanged.connect(this._onKernelStatusChanged,this);t===null||t===void 0?void 0:t.kernelChanged.connect(this._onKernelChanged,this);this._triggerChange(i,this._getAllState())}_getAllState(){return[this._kernelName,this._kernelStatus,this._activityName]}_triggerChange(t,e){if(M.JSONExt.deepEqual(t,e)){this.stateChanged.emit(void 0)}}}t.Model=e})(F||(F={}));var K=s(92481);const W=(0,a.oB)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"});const $=(0,a.oB)({padding:"4px 12px",backgroundColor:"var(--jp-layout-color2)",boxShadow:"var(--jp-toolbar-box-shadow)",zIndex:2,fontSize:"var(--jp-ui-font-size1)"});const H=(0,a.oB)({fontSize:"var(--jp-ui-font-size0)",lineHeight:"var(--jp-ui-font-size1)",marginTop:"4px",color:"var(--jp-ui-font-color0)"});const G={border:"none",borderRadius:"0px",position:"absolute",backgroundSize:"16px",backgroundRepeat:"no-repeat",backgroundPosition:"center",outline:"none",top:"0px",right:"0px"};const V=(0,a.oB)(G,{top:"4px",right:"8px",height:"24px",padding:"0px 12px",width:"12px"});const q=(0,a.oB)(G,{backgroundColor:"var(--jp-brand-color1)",height:"100%",width:"100%",boxSizing:"border-box",padding:"4px 6px"});const U=(0,a.oB)(G,{backgroundColor:"transparent",height:"100%",width:"100%",boxSizing:"border-box"});const J=(0,a.oB)({overflow:"hidden",padding:"0px 8px",border:"1px solid var(--jp-border-color0)",backgroundColor:"var(--jp-input-active-background)",height:"22px"});const Q=(0,a.oB)({border:"var(--jp-border-width) solid var(--md-blue-500)",boxShadow:"inset 0 0 4px var(--md-blue-300)"});const X=(0,a.oB)({background:"transparent",width:"200px",height:"100%",border:"none",outline:"none",color:"var(--jp-ui-font-color0)",lineHeight:"28px"});class Y extends i().Component{constructor(t){super(t);this._handleChange=t=>{this.setState({value:t.currentTarget.value})};this._handleSubmit=t=>{t.preventDefault();const e=parseInt(this._textInput.value,10);if(!isNaN(e)&&isFinite(e)&&1<=e&&e<=this.props.maxLine){this.props.handleSubmit(e)}return false};this._handleFocus=()=>{this.setState({hasFocus:true})};this._handleBlur=()=>{this.setState({hasFocus:false})};this._textInput=null;this.translator=t.translator||L.nullTranslator;this._trans=this.translator.load("jupyterlab");this.state={value:"",hasFocus:false}}componentDidMount(){this._textInput.focus()}render(){return i().createElement("div",{className:$},i().createElement("form",{name:"lineColumnForm",onSubmit:this._handleSubmit,noValidate:true},i().createElement("div",{className:(0,a.Sh)(J,"lm-lineForm-wrapper",this.state.hasFocus?Q:undefined)},i().createElement("input",{type:"text",className:X,onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur,value:this.state.value,ref:t=>{this._textInput=t}}),i().createElement("div",{className:V},i().createElement(K.lineFormIcon.react,{className:q,elementPosition:"center"}),i().createElement("input",{type:"submit",className:U,value:""}))),i().createElement("label",{className:H},this._trans.__("Go to line number between 1 and %1",this.props.maxLine))))}}function Z(t){const e=t.translator||L.nullTranslator;const s=e.load("jupyterlab");return i().createElement(A,{onClick:t.handleClick,source:s.__("Ln %1, Col %2",t.line,t.column),title:s.__("Go to line number…")})}class tt extends g.VDomRenderer{constructor(t){super(new tt.Model);this._popup=null;this.addClass(E);this.translator=t||L.nullTranslator}render(){if(this.model===null){return null}else{return i().createElement(Z,{line:this.model.line,column:this.model.column,translator:this.translator,handleClick:()=>this._handleClick()})}}_handleClick(){if(this._popup){this._popup.dispose()}const t=g.ReactWidget.create(i().createElement(Y,{handleSubmit:t=>this._handleSubmit(t),currentLine:this.model.line,maxLine:this.model.editor.lineCount,translator:this.translator}));this._popup=j({body:t,anchor:this,align:"right"})}_handleSubmit(t){this.model.editor.setCursorPosition({line:t-1,column:0});this._popup.dispose();this.model.editor.focus()}}(function(t){class e extends g.VDomModel{constructor(){super(...arguments);this._onSelectionChanged=()=>{const t=this._getAllState();const e=this.editor.getCursorPosition();this._line=e.line+1;this._column=e.column+1;this._triggerChange(t,this._getAllState())};this._line=1;this._column=1;this._editor=null}get editor(){return this._editor}set editor(t){const e=this._editor;if(e){e.model.selections.changed.disconnect(this._onSelectionChanged)}const s=this._getAllState();this._editor=t;if(!this._editor){this._column=1;this._line=1}else{this._editor.model.selections.changed.connect(this._onSelectionChanged);const t=this._editor.getCursorPosition();this._column=t.column+1;this._line=t.line+1}this._triggerChange(s,this._getAllState())}get line(){return this._line}get column(){return this._column}_getAllState(){return[this._line,this._column]}_triggerChange(t,e){if(t[0]!==e[0]||t[1]!==e[1]){this.stateChanged.emit(void 0)}}}t.Model=e})(tt||(tt={}));const et=4;function st(t){return i().createElement(u,{spacing:et,onClick:t.handleClick},i().createElement(u,{spacing:et},i().createElement(A,{source:t.terminals}),i().createElement(K.terminalIcon.react,{left:"1px",top:"3px",stylesheet:"statusBar"})),i().createElement(u,{spacing:et},i().createElement(A,{source:t.sessions}),i().createElement(K.kernelIcon.react,{top:"2px",stylesheet:"statusBar"})))}class nt extends g.VDomRenderer{constructor(t){super(new nt.Model);this._serviceManager=t.serviceManager;this._handleClick=t.onClick;this.translator=t.translator||L.nullTranslator;this._trans=this.translator.load("jupyterload");this._serviceManager.sessions.runningChanged.connect(this._onSessionsRunningChanged,this);this._serviceManager.terminals.runningChanged.connect(this._onTerminalsRunningChanged,this);this.addClass(E)}render(){if(!this.model){return null}this.title.caption=this._trans.__("%1 Terminals, %2 Kernel sessions",this.model.terminals,this.model.sessions);return i().createElement(st,{sessions:this.model.sessions,terminals:this.model.terminals,handleClick:this._handleClick})}dispose(){super.dispose();this._serviceManager.sessions.runningChanged.disconnect(this._onSessionsRunningChanged,this);this._serviceManager.terminals.runningChanged.disconnect(this._onTerminalsRunningChanged,this)}_onSessionsRunningChanged(t,e){this.model.sessions=e.length}_onTerminalsRunningChanged(t,e){this.model.terminals=e.length}}(function(t){class e extends g.VDomModel{constructor(){super(...arguments);this._terminals=0;this._sessions=0}get sessions(){return this._sessions}set sessions(t){const e=this._sessions;this._sessions=t;if(e!==this._sessions){this.stateChanged.emit(void 0)}}get terminals(){return this._terminals}set terminals(t){const e=this._terminals;this._terminals=t;if(e!==this._terminals){this.stateChanged.emit(void 0)}}}t.Model=e})(nt||(nt={}));var it=s(62867);var at=s(76487);class ot extends _.Widget{constructor(){super();this._leftRankItems=[];this._rightRankItems=[];this._statusItems={};this._disposables=new at.DisposableSet;this.addClass(x);const t=this.layout=new _.PanelLayout;const e=this._leftSide=new _.Panel;const s=this._middlePanel=new _.Panel;const n=this._rightSide=new _.Panel;e.addClass(k);e.addClass(y);s.addClass(k);n.addClass(k);n.addClass(S);t.addWidget(e);t.addWidget(s);t.addWidget(n)}registerStatusItem(t,e){if(t in this._statusItems){throw new Error(`Status item ${t} already registered.`)}const s=Object.assign(Object.assign({},rt.statusItemDefaults),e);const{align:n,item:i,rank:a}=s;const o=()=>{this._refreshItem(t)};if(s.activeStateChanged){s.activeStateChanged.connect(o)}const r={id:t,rank:a};s.item.addClass(w);this._statusItems[t]=s;if(n==="left"){const t=this._findInsertIndex(this._leftRankItems,r);if(t===-1){this._leftSide.addWidget(i);this._leftRankItems.push(r)}else{it.ArrayExt.insert(this._leftRankItems,t,r);this._leftSide.insertWidget(t,i)}}else if(n==="right"){const t=this._findInsertIndex(this._rightRankItems,r);if(t===-1){this._rightSide.addWidget(i);this._rightRankItems.push(r)}else{it.ArrayExt.insert(this._rightRankItems,t,r);this._rightSide.insertWidget(t,i)}}else{this._middlePanel.addWidget(i)}this._refreshItem(t);const l=new at.DisposableDelegate((()=>{delete this._statusItems[t];if(s.activeStateChanged){s.activeStateChanged.disconnect(o)}i.parent=null;i.dispose()}));this._disposables.add(l);return l}dispose(){this._leftRankItems.length=0;this._rightRankItems.length=0;this._disposables.dispose();super.dispose()}onUpdateRequest(t){this._refreshAll();super.onUpdateRequest(t)}_findInsertIndex(t,e){return it.ArrayExt.findFirstIndex(t,(t=>t.rank>e.rank))}_refreshItem(t){const e=this._statusItems[t];if(e.isActive()){e.item.show();e.item.update()}else{e.item.hide()}}_refreshAll(){Object.keys(this._statusItems).forEach((t=>{this._refreshItem(t)}))}}var rt;(function(t){t.statusItemDefaults={align:"left",rank:0,isActive:()=>true,activeStateChanged:undefined}})(rt||(rt={}));const lt=new M.Token("@jupyterlab/statusbar:IStatusBar")}}]);